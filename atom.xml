<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>SumyBlog</title>
  
  <subtitle>SumyGGçš„åšå®¢</subtitle>
  <link href="https://sumygg.com/atom.xml" rel="self"/>
  
  <link href="https://sumygg.com/"/>
  <updated>2021-03-29T09:30:36.408Z</updated>
  <id>https://sumygg.com/</id>
  
  <author>
    <name>Sumy</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åšå®¢è¯„è®ºç³»ç»Ÿè¿ç§»åˆ°Valine</title>
    <link href="https://sumygg.com/2021/03/29/blog-switch-to-valine-comments-plugin/"/>
    <id>https://sumygg.com/2021/03/29/blog-switch-to-valine-comments-plugin/</id>
    <published>2021-03-29T07:58:01.000Z</published>
    <updated>2021-03-29T09:30:36.408Z</updated>
    
    <content type="html"><![CDATA[<p>åŸæ¥åšå®¢çš„è¯„è®ºç³»ç»Ÿä½¿ç”¨çš„disqusï¼Œä¸ªäººè¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢disqusè¯„è®ºçš„ï¼Œæ— å¥ˆè¢«â€œé™åˆ¶â€çš„å¤ªå‰å®³ï¼Œå¸¸å¹´åŠ è½½ä¸å‡ºæ¥ã€‚æ— å¥ˆåªå¥½å¯»æ±‚å…¶å®ƒçš„è§£å†³æ–¹æ¡ˆã€‚</p><p>å‚è€ƒå‡ ä¸ªè¯„è®ºç³»ç»Ÿï¼Œæœ‰å‡ æ¬¾åŸºäºGithub Issuesçš„è¯„è®ºç³»ç»Ÿï¼Œæœ‰ä¸“é—¨çš„è¯„è®ºç³»ç»Ÿï¼ˆæ¥å¿…åŠ›ç­‰ï¼‰ã€‚åŸºäºGithub Issuesçš„åœ¨å­˜å‚¨ä¸Šä¸æˆé—®é¢˜ï¼Œä½†æ˜¯è€ƒè™‘åˆ°è¯„è®ºå¯¼å…¥çš„é—®é¢˜ï¼Œå°±ä¸å¤ªå¥½æ“ä½œäº†ï¼Œåˆ‡æ¢åˆ°è¿™ç±»è¯„è®ºç³»ç»Ÿéœ€è¦èˆå¼ƒä»¥å‰çš„è¯„è®ºä¿¡æ¯ã€‚ç¬¬ä¸‰æ–¹çš„è¯„è®ºç³»ç»Ÿå°±è¦è€ƒè™‘éšæ—¶è¢«å¢™çš„é—®é¢˜ï¼Œè€Œä¸”æ‰“å¼€é€Ÿåº¦ä¹Ÿæœ‰å½±å“ã€‚</p><p>æœ€åé€‰æ‹©äº†Valineï¼Œä¸»è¦çœ‹ä¸­äº†å…¶æ²¡æœ‰åç«¯ï¼Œå¯ä»¥æ“ä½œæ•°æ®åº“ï¼Œâ€œä¼ªé€ â€è¯„è®º <img class="emoji" draggable="false" alt="ğŸ˜…" src="https://twemoji.maxcdn.com/2/72x72/1f605.png"/>ã€‚</p><h1 id="æ·»åŠ è¯„è®ºç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#æ·»åŠ è¯„è®ºç³»ç»Ÿ"></a> æ·»åŠ è¯„è®ºç³»ç»Ÿ</h1><p>é¦–å…ˆéœ€è¦è·å–è¯„è®ºç³»ç»Ÿä½¿ç”¨çš„appIdå’ŒappKeyï¼Œè¿™ä¸ªå°±ä¸å¤šä»‹ç»äº†ï¼Œå¯ä»¥å‚è€ƒ<a href="https://valine.js.org/">valine</a>æ–‡æ¡£ä¸­çš„å¿«é€Ÿå¼€å§‹éƒ¨åˆ†è¿›è¡Œè·å–ã€‚</p><p>æœ¬åšå®¢ä½¿ç”¨äº† maupassant ä¸»é¢˜ï¼Œæ²¡æœ‰é…ç½®å¯¹åº”çš„è¯„è®ºæ¨¡å—ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨æ·»åŠ ã€‚</p><p>å…ˆåœ¨åšå®¢é…ç½®æ–‡ä»¶ _config.yml ä¸­å¢åŠ å…³äºvalineä¸»é¢˜çš„é…ç½®ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#valineå…¨å±€å¼€å…³</span></span><br><span class="line">  <span class="attr">app_id:</span> <span class="comment">#è·å–çš„appId</span></span><br><span class="line">  <span class="attr">app_key:</span> <span class="comment">#è·å–çš„appKey</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">true</span> <span class="comment">#æ˜¯å¦å¯ç”¨è®¿é—®ç»Ÿè®¡</span></span><br></pre></td></tr></table></figure><p>æ·»åŠ å¥½é…ç½®åï¼Œæ‰¾åˆ°è¯„è®ºæ¸²æŸ“çš„ä½ç½® _partial/comments.pug æ–‡ä»¶ï¼Œå¼•å…¥å…¬å…±jså¹¶æ¸²æŸ“è¯„è®ºæ§ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if theme.valine.enable</span><br><span class="line">  script(src&#x3D;&quot;&#x2F;&#x2F;unpkg.com&#x2F;valine&#x2F;dist&#x2F;Valine.min.js&quot;) </span><br><span class="line">  #vcomments</span><br><span class="line">    script.</span><br><span class="line">      new Valine(&#123;</span><br><span class="line">          el: &#39;#vcomments&#39;,</span><br><span class="line">          appId: &#39;#&#123;theme.valine.app_id&#125;&#39;,</span><br><span class="line">          appKey: &#39;#&#123;theme.valine.app_key&#125;&#39;,</span><br><span class="line">          path: &#39;#&#123;page.path&#125;&#39;,</span><br><span class="line">          visitor: #&#123;theme.valine.visitor&#125;</span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure><p>å¯ä»¥ç”¨valineçš„è®¿é—®ç»Ÿè®¡æ›¿æ¢æ‰busuanziçš„è®¿é—®ç»Ÿè®¡ï¼Œæ‰¾åˆ° post.pug æ–‡ä»¶ä¸­çš„è®¿é—®ç»Ÿè®¡ä½ç½®ï¼Œå¢åŠ ä»¥ä¸‹æ¨¡æ¿ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if theme.valine.enable &amp;&amp; theme.valine.visitor</span><br><span class="line">  span#valine_container_page_pv&#x3D; &#39; | &#39;</span><br><span class="line">    span(id&#x3D;page.path class&#x3D;&#39;leancloud_visitors&#39;)</span><br><span class="line">      span.leancloud-visitors-count</span><br><span class="line">        i.fa.fa-spinner.fa-spin</span><br><span class="line">      span&#x3D; &#39; &#39; + __(&#39;Hits&#39;)</span><br></pre></td></tr></table></figure><p>è¿™æ ·åŸºæœ¬ä¸Šå°±èƒ½ä½¿ç”¨äº†ã€‚</p><h1 id="è¿ç§»è¯„è®ºæ•°æ®"><a class="markdownIt-Anchor" href="#è¿ç§»è¯„è®ºæ•°æ®"></a> è¿ç§»è¯„è®ºæ•°æ®</h1><p>æ¥ä¸‹æ¥éœ€è¦å°†è¯„è®ºæ•°æ®ä»disqusè¿ç§»åˆ°valineä¸­ã€‚ä»disquså¯¼å‡ºè¯„è®ºæ•°æ®ã€‚åœ¨disqusåå°ï¼ŒExportå¯ä»¥å¯¼å‡ºæ‰€æœ‰çš„è¯„è®ºæ•°æ®ã€‚å¯¼å‡ºåä»é‚®ä»¶é‡Œå°±ä¼šè·å–ä¸€ä¸ªæ‰€æœ‰è¯„è®ºçš„xmlæ–‡ä»¶ã€‚</p><p>ä¸‹è½½å®Œæ•°æ®åï¼Œæ‰¾åˆ°ä¸€ä¸ªdisquså¯¼å…¥valineæ•°æ®çš„ç½‘ç«™ï¼Œ<a href="https://taosky.github.io/disqus-to-valine/">https://taosky.github.io/disqus-to-valine/</a>å¯ä»¥å°†disqusè¯„è®ºæ•°æ®è½¬æ¢æˆvalineå¹¶ç›´æ¥å¯¼å…¥åˆ°æ•°æ®åº“ä¸­ã€‚</p><p>å¯¼å…¥å®Œæˆä¹‹åï¼Œè¿˜éœ€è¦è°ƒæ•´ä¸‹æ•°æ®æƒé™ï¼Œé˜²æ­¢å®¢æˆ·ç«¯éšä¾¿åˆ é™¤è¯„è®ºã€‚</p><p>LeanCloudä¸Šæœ‰ä¸ªæ‰¹é‡æ“ä½œæ•°æ®çš„åŠŸèƒ½ï¼Œå°†æ‰€æœ‰æ•°æ®çš„ALCæ›´æ–°æˆ <code>&#123;&quot;*&quot;:&#123;&quot;read&quot;:true&#125;&#125;</code> å³å¯ã€‚</p><p><img src="1.png" alt="æ›´æ–°æ•°æ®æƒé™" /></p><p>è¿™æ ·æ•°æ®è¿ç§»å°±å®Œæˆäº†ã€‚</p><h1 id="å…¶å®ƒ"><a class="markdownIt-Anchor" href="#å…¶å®ƒ"></a> å…¶å®ƒ</h1><p>ç°åœ¨è¯„è®ºå·²ç»åˆ‡æ¢åˆ°valineä¸­ï¼Œè¿˜æœ‰ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚ <strong>æœ€è¿‘è¯„è®ºåˆ—è¡¨</strong> å’Œéœ€è¦å±•ç¤ºçš„ <strong>è¯„è®ºæ•°é‡</strong> çœ‹æ€ä¹ˆèƒ½å®ç°ï¼Œç›®å‰è¿™ä¸¤ä¸ªåŠŸèƒ½æš‚æ—¶å…ˆç©ºç¼ºäº†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åŸæ¥åšå®¢çš„è¯„è®ºç³»ç»Ÿä½¿ç”¨çš„disqusï¼Œä¸ªäººè¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢disqusè¯„è®ºçš„ï¼Œæ— å¥ˆè¢«â€œé™åˆ¶â€çš„å¤ªå‰å®³ï¼Œå¸¸å¹´åŠ è½½ä¸å‡ºæ¥ã€‚æ— å¥ˆåªå¥½å¯»æ±‚å…¶å®ƒçš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒå‡ ä¸ªè¯„è®ºç³»ç»Ÿï¼Œæœ‰å‡ æ¬¾åŸºäºGithub Issuesçš„è¯„è®ºç³»ç»Ÿï¼Œæœ‰ä¸“é—¨çš„è¯„è®ºç³»ç»Ÿï¼ˆæ¥å¿…åŠ›ç­‰ï¼‰ã€‚åŸºäºGithub I</summary>
      
    
    
    
    <category term="ç½‘ç«™" scheme="https://sumygg.com/categories/%E7%BD%91%E7%AB%99/"/>
    
    
    <category term="valine" scheme="https://sumygg.com/tags/valine/"/>
    
    <category term="è¯„è®º" scheme="https://sumygg.com/tags/%E8%AF%84%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨æ ‘è“æ´¾åˆ¶ä½œä¸€ä¸ªç”µå­æ—¥å†</title>
    <link href="https://sumygg.com/2021/03/23/raspberry-pi-with-ink-screen-to-build-electronic-calendar/"/>
    <id>https://sumygg.com/2021/03/23/raspberry-pi-with-ink-screen-to-build-electronic-calendar/</id>
    <published>2021-03-22T16:13:30.000Z</published>
    <updated>2021-03-23T09:52:26.072Z</updated>
    
    <content type="html"><![CDATA[<p>é—²æš‡æ—¶å€™çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œä»‹ç»å¯ä»¥ç”¨æ ‘è“æ´¾åŠ ä¸€å—å¢¨æ°´å±åˆ¶ä½œä¸€ä¸ªç”µå­æ—¥å†ï¼Œç„¶åå¿ƒè¡€æ¥æ½®å°±æ‰“ç®—è‡ªå·±ä¹Ÿåˆ¶ä½œä¸€ä¸ªã€‚å‰å‰ååç£¨è¹­äº†ä¸€å¹´çš„æ—¶é—´ï¼Œç»ˆäºå…‹æœäº†æ‡’ç™Œåœ¨å»å¹´åä¸€å‡æœŸçš„æ—¶å€™åˆ¶ä½œcå‡ºæ¥äº†ã€‚è¿™æ®µæ—¶é—´çœ‹åˆ°å°ç±³æœ‰å“ä¹Ÿå‡ºäº†ä¸€æ¬¾ç”µå­æ—¥å†ï¼Œç®—ä¸‹æ¥æˆæœ¬å’Œè‡ªå·±åˆ¶ä½œçš„å·®ä¸å¤šã€‚ä½†æ˜¯æ€ä¹ˆè¯´ï¼Œè‡ªå·±åˆ¶ä½œçš„æ—¥å†å¯æ˜¯å¸¦äº†ä¸€ä¸ªæ ‘è“æ´¾å‘€ï¼Œå››èˆäº”å…¥å°±ä»·å€¼ä¸€ä¸ªäº¿äº†å‘€ã€‚</p><p>å…ˆæ¥çœ‹ä¸€ä¸‹æˆå“ï¼š</p><p><img src="1.jpeg" alt="ç”µå­æ—¥å†" /></p><p>æ•´ä¸ªæ—¥å†ç”¨ä¸€ä¸ªæ”¶çº³ç›’åŒ…è£…èµ·æ¥ï¼Œæ—¥å†å±•ç¤ºäº†æ—¶é—´ã€æ—¥æœŸã€å¤©æ°”å’Œä¸€å¹´è¿›åº¦ã€‚è¿™ä¸ªå±•ç¤ºæ¨¡æ¿åªæ˜¯è€ƒè™‘å°½é‡ä¸è”ç½‘æƒ…å†µä¸‹çš„å†…å®¹ã€‚ä¸å¾—ä¸è¯´ï¼Œåœ¨ä¸è”ç½‘çš„æƒ…å†µä¸‹èƒ½å¤Ÿå±•ç¤ºçš„èµ„æºæ¯”è¾ƒå°‘ï¼ŒåŸºäºç½‘ç»œä¸Šçš„å…¶å®ƒAPIè¿›è¡ŒåŠŸèƒ½çš„æ‰©å±•ï¼Œå¯ç”¨æ€§å°±å¤§å¤§å¢å¼ºäº†ã€‚</p><h1 id="ææ–™å‡†å¤‡"><a class="markdownIt-Anchor" href="#ææ–™å‡†å¤‡"></a> ææ–™å‡†å¤‡</h1><p>ä¸»è¦â€œææ–™â€æ˜¯ä¸€ä¸ªæ ‘è“æ´¾ã€ä¸€å—ç”µå­å¢¨æ°´å±å’Œä¸¤å¼ sdå¡ã€‚</p><ul><li>æ ‘è“æ´¾ä½¿ç”¨çš„æ˜¯æ ‘è“æ´¾3b+ï¼ŒæŸå®ä¸Šå¯ä»¥æœç´¢ä¸€ä¸‹ï¼Œå¾ˆå®¹æ˜“æ‰¾åˆ°</li><li>ç”µå­å¢¨æ°´å±ç”¨çš„æ˜¯å¾®é›ª4.3inch e-Paper</li><li>ä¸¤å¼ sdå¡å’Œè¯»å¡å™¨ï¼Œä¸€å¼ ç”¨æ¥åšæ ‘è“æ´¾çš„å­˜å‚¨å®‰è£…ç³»ç»Ÿï¼Œå¦ä¸€å¼ ä¸ºå¢¨æ°´å±å±•ç¤ºæä¾›å›¾ç‰‡ç´ æå­˜å‚¨ï¼Œå®¹é‡ä¸éœ€è¦å¤ªå¤§</li><li>å»ºè®®å†å‡†å¤‡ä¸€å¥—å¤–æ¥çš„é”®ç›˜ã€é¼ æ ‡ã€æ˜¾ç¤ºå™¨å’Œhdmiçº¿ï¼Œæ–¹ä¾¿åœ¨æ ‘è“æ´¾ä¸Šè°ƒè¯•å’Œæ“ä½œ</li></ul><h1 id="æ ‘è“æ´¾å‡†å¤‡"><a class="markdownIt-Anchor" href="#æ ‘è“æ´¾å‡†å¤‡"></a> æ ‘è“æ´¾å‡†å¤‡</h1><h2 id="å®‰è£…ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#å®‰è£…ç³»ç»Ÿ"></a> å®‰è£…ç³»ç»Ÿ</h2><p>é¦–å…ˆéœ€è¦å®‰è£…ç³»ç»Ÿï¼Œä»å®˜ç½‘<a href="https://www.raspberrypi.org/downloads/raspberry-pi-os/">https://www.raspberrypi.org/downloads/raspberry-pi-os/</a>ä¸‹è½½ç³»ç»Ÿé•œåƒï¼Œé€‰æ‹© <strong>Raspberry Pi OS with desktop and recommended software</strong>è¿›è¡Œä¸‹è½½ã€‚</p><p>ä¸‹è½½å®Œé•œåƒä¹‹åï¼Œéœ€è¦ä¸€ä¸ªè½¯ä»¶<a href="https://sourceforge.net/projects/win32diskimager/">win32diskimager</a>å°†é•œåƒå†™å…¥åˆ°sdå¡ä¸­ï¼Œ<strong>Image File</strong> é€‰æ‹©åˆšä¸‹è½½çš„ç³»ç»Ÿé•œåƒï¼Œ<strong>Device</strong> é€‰æ‹©sdå¡çš„ç›˜ç¬¦ï¼Œæ³¨æ„ä¸è¦é€‰é”™äº†ã€‚å†™å…¥å®Œæˆåå°†sdå¡æ’å…¥åˆ°æ ‘è“æ´¾ä¸­ï¼Œç„¶åå°±å¯ä»¥å¼€æœºä½¿ç”¨æ ‘è“æ´¾äº†ã€‚</p><h2 id="ç¡¬ä»¶è¿æ¥"><a class="markdownIt-Anchor" href="#ç¡¬ä»¶è¿æ¥"></a> ç¡¬ä»¶è¿æ¥</h2><p>æˆ‘ä¹Ÿæ˜¯åµŒå…¥å¼è‹¦æ‰‹ï¼Œåœ¨æ¥çº¿è¿™ç‚¹ä¹Ÿå¡äº†å¥½ä¹…ï¼Œä¸»è¦æ˜¯ç¡®å®šå“ªä¸ªå¼•è„šå«ä»€ä¹ˆæ¯”è¾ƒéº»çƒ¦ï¼Œå‚è€ƒäº†å¥½å¤šä¸ªæ•™ç¨‹æ‰æå®šã€‚è¿™é‡Œæä¾›æ ‘è“æ´¾å’Œå¢¨æ°´å±çš„å¼•è„šå›¾è¿›è¡Œå‚è€ƒã€‚</p><p><img src="2.png" alt="æ ‘è“æ´¾å¼•è„šå›¾" /></p><p>å¢¨æ°´å±çš„å¼•è„šè¯´æ˜å›¾åœ¨è¿çº¿çš„ä¸‹æ–¹ï¼Œå¾ˆå®¹æ˜“å°±èƒ½æ‰¾åˆ°ã€‚</p><p><img src="3.jpg" alt="å¢¨æ°´å±å¼•è„šå›¾" /></p><p>æŒ‰ç…§ä»¥ä¸‹è¿›è¡Œè¿æ¥ï¼Œçº¿è‰²ä»…ä¾›å‚è€ƒã€‚å†æä¸€å¥ï¼Œæ ‘è“æ´¾3Vçš„å¼•è„šåœ¨å®ç‰©å›¾çš„å·¦ä¾§ã€‚</p><table><thead><tr><th>å±å¹•</th><th>æ ‘è“æ´¾</th><th>çº¿è‰²</th></tr></thead><tbody><tr><td>DIN</td><td>TX(GPIO14)</td><td>ç»¿</td></tr><tr><td>DOUT</td><td>RX(GPIO15)</td><td>ç™½</td></tr><tr><td>GND</td><td>GND</td><td>é»‘</td></tr><tr><td>VCC</td><td>3V</td><td>çº¢</td></tr></tbody></table><h2 id="è½¯ä»¶é…ç½®"><a class="markdownIt-Anchor" href="#è½¯ä»¶é…ç½®"></a> è½¯ä»¶é…ç½®</h2><p>æ ‘è“æ´¾é»˜è®¤çš„ä¸²å£å·²ç»æœ‰å…¶å®ƒç”¨é€”ï¼Œæ‰€ä»¥éœ€è¦é‡Šæ”¾ä¸²å£ç”¨äºæ§åˆ¶å¢¨æ°´å±ã€‚</p><p>å…ˆè¿æ¥æ— çº¿ç½‘ç»œï¼Œå¸¸è§„æ“ä½œæ›´æ–°ä¸€ä¸‹ç³»ç»Ÿ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ /boot/config.txt æ·»åŠ ä¸€è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dtoverlay&#x3D;pi3-miniuart-bt</span><br></pre></td></tr></table></figure><p>ç¦ç”¨è‡ªå¸¦è“ç‰™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl disable hciuart</span><br></pre></td></tr></table></figure><p>é‡Šæ”¾ä¸²å£ï¼Œç¼–è¾‘ /boot/cmdline.txt</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åˆ æ‰ console&#x3D;ttyAMA0,115200</span><br></pre></td></tr></table></figure><p>å®‰è£…å¢¨æ°´å±é©±åŠ¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-requests python-lxml python-serial git build-essential python-dev</span><br><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;adafruit&#x2F;Adafruit_Python_DHT.git</span><br><span class="line">cd Adafruit_Python_DHT</span><br><span class="line">sudo python .&#x2F;setup.py install</span><br></pre></td></tr></table></figure><h2 id="ç”µå­æ—¥å†å±•ç¤ºç¨‹åº"><a class="markdownIt-Anchor" href="#ç”µå­æ—¥å†å±•ç¤ºç¨‹åº"></a> ç”µå­æ—¥å†å±•ç¤ºç¨‹åº</h2><p>è¿™ä¸ªå¢¨æ°´å±æ˜¯é€šè¿‡å±å¹•é‡Œçš„sdåŠ è½½å›¾ç‰‡èµ„æºå’Œå­—ä½“èµ„æºçš„ï¼Œæ‰€ä»¥éœ€è¦å°†sdå¡æ ¼å¼åŒ–æˆFAT32æ ¼å¼ï¼Œåˆ†é…å•å…ƒå¤§å°é€‰æ‹© 4096 å­—èŠ‚ï¼Œç„¶åæŠŠå±•ç¤ºç¨‹åºé™„å¸¦çš„èµ„æºæ‹·è´åˆ°sdå¡ä¸­ï¼Œå†æ’å…¥åˆ°å±å¹•å¡æ§½é‡Œä½¿ç”¨ã€‚</p><p>è¿™é‡Œå¯ä»¥ä½¿ç”¨æˆ‘æä¾›çš„å±•ç¤ºç¨‹åº <a href="https://github.com/sumy7/rasepbarry-pi-epaper">https://github.com/sumy7/rasepbarry-pi-epaper</a>ï¼Œæˆ–è€…å‚è€ƒé™„å½•é‡Œæä¾›çš„å±•ç¤ºç¨‹åºä¹Ÿå¯ä»¥ã€‚åªè¦æ³¨æ„å±å¹•çš„èµ„æºç›¸åŒ¹é…å³å¯ï¼ˆä¿©ç”¨çš„åº”è¯¥æ˜¯ç›¸åŒçš„èµ„æºï¼‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;home&#x2F;pi</span><br><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;sumy7&#x2F;rasepbarry-pi-epaper</span><br></pre></td></tr></table></figure><p>åœ¨ç¨‹åºç›®å½• /home/pi/rasepbarry-pi-epaper/ é‡Œæ‰§è¡Œ <code>python ./main.py</code> å‘½ä»¤ï¼Œå°±å¯ä»¥çœ‹åˆ°å±å¹•åˆ·æ–°äº†ã€‚</p><h2 id="å®šæ—¶ç¨‹åº"><a class="markdownIt-Anchor" href="#å®šæ—¶ç¨‹åº"></a> å®šæ—¶ç¨‹åº</h2><p>å±å¹•ä¸æ˜¯è‡ªåŠ¨åˆ·æ–°çš„ï¼Œè€Œæ˜¯æ¯æ‰§è¡Œä¸€æ¬¡å‘½ä»¤åˆ™åˆ·æ–°ä¸€æ¬¡ã€‚è¿™æ ·éœ€è¦é…ç½®ä¸€ä¸ªå®šæ—¶ä»»åŠ¡è®©å±å¹•å¯ä»¥è‡ªåŠ¨åˆ·æ–°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo crontab -e</span><br><span class="line"></span><br><span class="line"># åœ¨å…¶ä¸­å¢åŠ ä»¥ä¸‹ä»£ç ï¼Œæ³¨æ„å±•ç¤ºç¨‹åºæ”¾ç½®çš„ç›®å½•</span><br><span class="line"></span><br><span class="line">*&#x2F;1 * * * * cd &#x2F;home&#x2F;pi&#x2F;rasepbarry-pi-epaper&#x2F; &amp;&amp; python .&#x2F;main.py</span><br></pre></td></tr></table></figure><p>å‘½ä»¤é…ç½®çš„æ˜¯æ¯ä¸ª1åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡ï¼Œé—´éš”ä¸ç”¨å¤ªé•¿ï¼Œå¢¨æ°´å±çš„åˆ·æ–°ç‡æœ¬èº«å°±å¾ˆä½ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é—²æš‡æ—¶å€™çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œä»‹ç»å¯ä»¥ç”¨æ ‘è“æ´¾åŠ ä¸€å—å¢¨æ°´å±åˆ¶ä½œä¸€ä¸ªç”µå­æ—¥å†ï¼Œç„¶åå¿ƒè¡€æ¥æ½®å°±æ‰“ç®—è‡ªå·±ä¹Ÿåˆ¶ä½œä¸€ä¸ªã€‚å‰å‰ååç£¨è¹­äº†ä¸€å¹´çš„æ—¶é—´ï¼Œç»ˆäºå…‹æœäº†æ‡’ç™Œåœ¨å»å¹´åä¸€å‡æœŸçš„æ—¶å€™åˆ¶ä½œcå‡ºæ¥äº†ã€‚è¿™æ®µæ—¶é—´çœ‹åˆ°å°ç±³æœ‰å“ä¹Ÿå‡ºäº†ä¸€æ¬¾ç”µå­æ—¥å†ï¼Œç®—ä¸‹æ¥æˆæœ¬å’Œè‡ªå·±åˆ¶ä½œçš„å·®ä¸å¤šã€‚ä½†æ˜¯æ€ä¹ˆè¯´ï¼Œè‡ªå·±åˆ¶ä½œçš„æ—¥å†å¯</summary>
      
    
    
    
    <category term="å®è·µ" scheme="https://sumygg.com/categories/%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="æ ‘è“æ´¾" scheme="https://sumygg.com/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
    <category term="ç”µå­æ—¥å†" scheme="https://sumygg.com/tags/%E7%94%B5%E5%AD%90%E6%97%A5%E5%8E%86/"/>
    
    <category term="å¢¨æ°´å±" scheme="https://sumygg.com/tags/%E5%A2%A8%E6%B0%B4%E5%B1%8F/"/>
    
    <category term="raspberry_pi" scheme="https://sumygg.com/tags/raspberry-pi/"/>
    
  </entry>
  
  <entry>
    <title>è§£æç”¨æˆ·è¾“å…¥è¡¨è¾¾å¼çš„å€¼ï¼Œç®€æ˜“çš„JSæ²™ç®±</title>
    <link href="https://sumygg.com/2021/03/22/eval-js-expression-that-can-only-use-allowed-functions/"/>
    <id>https://sumygg.com/2021/03/22/eval-js-expression-that-can-only-use-allowed-functions/</id>
    <published>2021-03-22T15:42:01.000Z</published>
    <updated>2021-03-22T15:57:16.696Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è§£æç”¨æˆ·è¾“å…¥çš„è¡¨è¾¾å¼ï¼Œç”¨æˆ·è¾“å…¥çš„è¡¨è¾¾å¼åƒå¥‡ç™¾æ€ªï¼Œå¦‚ä½•æ§åˆ¶åªèƒ½ä½¿ç”¨æŒ‡å®šçš„å‡½æ•°ï¼Œåˆ¶ä½œä¸€ä¸ªç®€æ˜“çš„æ²™ç®±ç¯å¢ƒï¼Ÿ</p><p>å‚è€ƒVueçš„ä»£ç ï¼Œå®ç°ä»¥ä¸‹æ•ˆæœï¼š</p><ol><li>è·å–ç”¨æˆ·è¾“å…¥è¡¨è¾¾å¼å­—ç¬¦ä¸²çš„å€¼</li><li>åªèƒ½è®¿é—®æŒ‡å®šå¯¹è±¡ä¸Šçš„å€¼</li><li>ä¸èƒ½è®¿é—®global/windowä¸Šå®šä¹‰çš„å˜é‡å±æ€§</li></ol><p>ä»£ç åŠæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeMap</span>(<span class="params">str, expectsLowerCase</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> map = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">var</span> list = str.split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">        map[list[i]] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> expectsLowerCase ?</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> map[val.toLowerCase()];</span><br><span class="line">        &#125; :</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> map[val];</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> allowedGlobal = makeMap(<span class="string">&#x27;Infinity,undefined,NaN,isFinite,isNaN,&#x27;</span> +</span><br><span class="line">    <span class="string">&#x27;parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,&#x27;</span> +</span><br><span class="line">    <span class="string">&#x27;Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,&#x27;</span> +</span><br><span class="line">    <span class="string">&#x27;require&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hasHandler = &#123;</span><br><span class="line">    has: <span class="function"><span class="keyword">function</span> <span class="title">has</span>(<span class="params">target, key</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> hasKey = key <span class="keyword">in</span> target;</span><br><span class="line">        <span class="keyword">const</span> isAllowed = allowedGlobal(key);</span><br><span class="line">        <span class="keyword">return</span> hasKey || !isAllowed;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = &#123;</span><br><span class="line">    foo: -<span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="built_in">Proxy</span>(vm, hasHandler);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> buildFunction = <span class="function"><span class="keyword">function</span> (<span class="params">vm, expression</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fun = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&quot;vm&quot;</span>, <span class="string">`</span></span><br><span class="line"><span class="string">        with(vm) &#123;</span></span><br><span class="line"><span class="string">            return <span class="subst">$&#123;expression&#125;</span>;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    `</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fun(vm);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•è®¿é—®vmä¸Šçš„fooå¯¹è±¡ï¼Œå’Œå…¨å±€å®šä¹‰çš„Mathå¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> okExpression = <span class="string">&#x27;Math.abs(foo)&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> okEval = buildFunction(vm, okExpression);</span><br><span class="line">okEval();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•è®¿é—®å…¨å±€çš„test_foo</span></span><br><span class="line"><span class="built_in">window</span>.test_foo = <span class="string">&quot;Hello there&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> errExpression = <span class="string">&#x27;test_foo || window.test_foo&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> errEval = buildFunction(vm, errExpression);</span><br><span class="line">errEval();</span><br></pre></td></tr></table></figure><p>ç¨å¾®è§£é‡Šä¸€ä¸‹åŸç†ï¼šä½¿ç”¨JSçš„Proxyä»£ç†ï¼ŒhasHandlerç”¨äºæ‹¦æˆªåˆ¤æ–­æŸä¸ªå±æ€§æ˜¯å¦å­˜åœ¨å¯¹è±¡ä¸Šçš„æ“ä½œã€‚è¿™é‡Œç”¨åˆ°äº†Proxyçš„ä¸¤ä¸ªæ‹¦æˆªå™¨â€”â€”<code>has</code> å’Œ <code>get</code>ã€‚<code>has</code> ç”¨äºè¡¨æ˜ç»™å®šçš„å±æ€§æ˜¯å¦åœ¨è¯¥å¯¹è±¡å†…ï¼Œå¦‚æœä¸åœ¨å¼•æ“ä¼šå°è¯•å‘å¤–å±‚ä½œç”¨äºæŸ¥æ‰¾ã€‚<code>get</code> ç”¨äºä»æŸ¥æ‰¾åˆ°çš„ä½œç”¨äºé‡Œè·å–å¯¹åº”å±æ€§çš„å€¼ã€‚</p><p>è¿™é‡Œä½¿ç”¨äº† <code>has</code> è¿›è¡Œæ‹¦æˆªæ“ä½œï¼š</p><ul><li>å¦‚æœè®¿é—®çš„å±æ€§å·²ç»å­˜åœ¨vmå¯¹è±¡ä¸Šï¼Œåˆ™ <code>has</code> ç›´æ¥å£°æ˜å­˜åœ¨å½“å‰å¯¹è±¡ä¸Š</li><li>å¦‚æœå±æ€§ä¸åœ¨vmå¯¹è±¡ä¸Šï¼Œä½†æ˜¯åœ¨allowedGlobalä¸­ï¼Œåˆ™ <code>has</code> å£°æ˜å˜é‡ä¸åœ¨è¯¥å¯¹è±¡ä¸Šï¼Œå¼•æ“ä¼šå¾€å¤–å±‚ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œæœ€ç»ˆæ‰¾åˆ°window/globalå¯¹è±¡ä¸Šçš„å±æ€§</li><li>å¦‚æœå±æ€§ä¸åœ¨vmå¯¹è±¡ä¸Šï¼Œä¹Ÿä¸åœ¨allowedGlobalä¸­ï¼Œåˆ™ <code>has</code> å£°æ˜å˜é‡åœ¨è¯¥å¯¹è±¡ä¸Šï¼Œæ‹¦æˆªå¼•æ“çš„å¤–å±‚ä½œç”¨åŸŸæŸ¥æ‰¾æ“ä½œã€‚åç»­é€šè¿‡ <code>get</code> åœ¨å½“å‰å¯¹è±¡è¿”å›å±æ€§å€¼æ—¶åªèƒ½è·å–åˆ° <strong>undefined</strong>ï¼Œè¾¾åˆ°æ‹¦æˆªå¯¹window/globalå±æ€§è®¿é—®çš„ç›®çš„</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è§£æç”¨æˆ·è¾“å…¥çš„è¡¨è¾¾å¼ï¼Œç”¨æˆ·è¾“å…¥çš„è¡¨è¾¾å¼åƒå¥‡ç™¾æ€ªï¼Œå¦‚ä½•æ§åˆ¶åªèƒ½ä½¿ç”¨æŒ‡å®šçš„å‡½æ•°ï¼Œåˆ¶ä½œä¸€ä¸ªç®€æ˜“çš„æ²™ç®±ç¯å¢ƒï¼Ÿ&lt;/p&gt;
&lt;p&gt;å‚è€ƒVueçš„ä»£ç ï¼Œå®ç°ä»¥ä¸‹æ•ˆæœï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è·å–ç”¨æˆ·è¾“å…¥è¡¨è¾¾å¼å­—ç¬¦ä¸²çš„å€¼&lt;/li&gt;
&lt;li&gt;åªèƒ½è®¿é—®æŒ‡å®šå¯¹è±¡ä¸Šçš„å€¼&lt;/li&gt;
&lt;</summary>
      
    
    
    
    <category term="æœç„¶è¿˜æ˜¯å‰ç«¯" scheme="https://sumygg.com/categories/%E6%9E%9C%E7%84%B6%E8%BF%98%E6%98%AF%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="javascript" scheme="https://sumygg.com/tags/javascript/"/>
    
    <category term="expression" scheme="https://sumygg.com/tags/expression/"/>
    
    <category term="è¡¨è¾¾å¼" scheme="https://sumygg.com/tags/%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
    <category term="æ²™ç®±" scheme="https://sumygg.com/tags/%E6%B2%99%E7%AE%B1/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Bootstrapçš„popoversæ—¶é¼ æ ‡ç§»åŠ¨åˆ°tipsä¹Ÿä¿æŒå±•ç¤º</title>
    <link href="https://sumygg.com/2021/03/17/keep-bootstrap-popovers-alive-while-hovered-tips/"/>
    <id>https://sumygg.com/2021/03/17/keep-bootstrap-popovers-alive-while-hovered-tips/</id>
    <published>2021-03-17T15:24:45.000Z</published>
    <updated>2021-03-17T15:42:18.478Z</updated>
    
    <content type="html"><![CDATA[<p>ç›®çš„æ˜¯éœ€è¦åˆ¶ä½œä¸€ä¸ªç‚¹å‡»å¯ä»¥æ‰“å¼€OAè¿›è¡ŒèŠå¤©çš„é“¾æ¥ï¼Œé¼ æ ‡æ”¾ç½®ä¸Šå»å¯ä»¥å±•ç¤ºå½“å‰äººçš„é‚®ç®±ç­‰è”ç³»æ–¹å¼ã€‚</p><p>ä»¥å‰çš„å¹³å°ä½¿ç”¨çš„æ˜¯Bootstrapçš„å‰ç«¯æ§ä»¶ï¼Œæ‰€ä»¥é€‰æ‹©popoveræ§ä»¶ä½œä¸ºå®ç°çš„åŸºç¡€æ§ä»¶ã€‚ä½†æ˜¯ä½¿ç”¨æ—¶å‘ç°ï¼Œpopoveræ§ä»¶æä¾›çš„å‡ ç§æ–¹å¼ï¼Œhoveræ¨¡å¼ä¸‹é¼ æ ‡ç§»å¼€ä¹‹åtipså°±ä¼šå…³é—­ï¼Œè€Œclickçš„ä½“éªŒä¸å¤ªå¥½ã€‚æƒ³è¦çš„æ•ˆæœæ˜¯ï¼Œé¼ æ ‡ç§»åŠ¨å±•ç¤ºé‚®ç®±tipsï¼Œé¼ æ ‡ç§»åŠ¨åˆ°tipsä¸Šå¯ä»¥è¿›ä¸€æ­¥æ“ä½œï¼ˆé€‰ä¸­å¤åˆ¶é‚®ç®±ç­‰ï¼‰ã€‚</p><p>å‚è€ƒäº†Stack Overflowä¸Šçš„ä¸€ä¸ªé—®é¢˜ï¼Œæœ€ç»ˆå®ç°äº†è¯¥åŠŸèƒ½ã€‚</p><p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;.pop&#x27;</span>).popover(&#123;</span><br><span class="line">    trigger: <span class="string">&#x27;manual&#x27;</span>,</span><br><span class="line">    html: <span class="literal">true</span>,</span><br><span class="line">    animation: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line">.on(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="built_in">this</span>;</span><br><span class="line">    $(<span class="built_in">this</span>).popover(<span class="string">&#x27;show&#x27;</span>);</span><br><span class="line">    $(<span class="string">&#x27;.popover&#x27;</span>).on(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      $(_this).popover(<span class="string">&#x27;hide&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;).on(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="built_in">this</span>;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!$(<span class="string">&#x27;.popover:hover&#x27;</span>).length) &#123;</span><br><span class="line">          $(_this).popover(<span class="string">&#x27;hide&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">300</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å®ç°çš„å¤§ä½“æ€æƒ³æ˜¯ï¼Œå°†popoverçš„è§¦å‘æ¨¡å¼æ”¹ä¸ºæ‰‹åŠ¨manualã€‚ç„¶åç›‘å¬é¼ æ ‡è¿›å…¥ç¦»å¼€çš„äº‹ä»¶ã€‚</p><ul><li>å¦‚æœé¼ æ ‡è¿›å…¥è§¦å‘ä½ç½®ï¼Œåˆ™å¼¹å‡ºpopoverï¼Œå¹¶æ³¨å†Œä¸€ä¸ªç¦»å¼€tipsåˆ™éšè—çš„äº‹ä»¶</li><li>å¦‚æœé¼ æ ‡ç¦»å¼€è§¦å‘ä½ç½®ï¼Œåˆ™300msååˆ¤æ–­ï¼Œé¼ æ ‡ä¸åœ¨tipsæ—¶åˆ™éšè—</li><li>é¼ æ ‡ç¦»å¼€tipsæ—¶ï¼Œè§¦å‘è¿›å…¥æ—¶æ³¨å†Œçš„äº‹ä»¶ï¼Œè¿›è¡Œéšè—</li></ul><p>å®ç°æ•ˆæœï¼š</p><iframe height="532" style="width: 100%;" scrolling="no" title="QWGRqbw" src="https://codepen.io/sumy7/embed/preview/QWGRqbw?height=532&theme-id=light&default-tab=result" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">  See the Pen <a href='https://codepen.io/sumy7/pen/QWGRqbw'>QWGRqbw</a> by sumy  (<a href='https://codepen.io/sumy7'>@sumy7</a>) on <a href='https://codepen.io'>CodePen</a>.</iframe><p>ç›´æ¥ä½¿ç”¨çš„æ˜¯Stack Overflowçš„æ —å­ï¼Œå¯ä»¥è¿›è¡Œé€‚å½“æ”¹è¿›ï¼ŒåŸç†è¿˜æ˜¯å·®ä¸å¤šçš„ã€‚å¦‚æœæœ‰å¹¸èƒ½æ‰¾åˆ°ä»¥å‰çš„ä»£ç ï¼Œä¼šå†ä¿®æ”¹å®Œå–„ä¸€ä¸‹ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç›®çš„æ˜¯éœ€è¦åˆ¶ä½œä¸€ä¸ªç‚¹å‡»å¯ä»¥æ‰“å¼€OAè¿›è¡ŒèŠå¤©çš„é“¾æ¥ï¼Œé¼ æ ‡æ”¾ç½®ä¸Šå»å¯ä»¥å±•ç¤ºå½“å‰äººçš„é‚®ç®±ç­‰è”ç³»æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥å‰çš„å¹³å°ä½¿ç”¨çš„æ˜¯Bootstrapçš„å‰ç«¯æ§ä»¶ï¼Œæ‰€ä»¥é€‰æ‹©popoveræ§ä»¶ä½œä¸ºå®ç°çš„åŸºç¡€æ§ä»¶ã€‚ä½†æ˜¯ä½¿ç”¨æ—¶å‘ç°ï¼Œpopoveræ§ä»¶æä¾›çš„å‡ ç§æ–¹å¼ï¼Œhoveræ¨¡å¼ä¸‹é¼ æ ‡</summary>
      
    
    
    
    <category term="æœç„¶è¿˜æ˜¯å‰ç«¯" scheme="https://sumygg.com/categories/%E6%9E%9C%E7%84%B6%E8%BF%98%E6%98%AF%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="jquery" scheme="https://sumygg.com/tags/jquery/"/>
    
    <category term="bootstrap" scheme="https://sumygg.com/tags/bootstrap/"/>
    
    <category term="popover" scheme="https://sumygg.com/tags/popover/"/>
    
  </entry>
  
  <entry>
    <title>Mavenæ„å»ºSpringæ—¶è¿åŒè¿›è¡Œnpmæ„å»ºå¹¶åˆå¹¶éƒ¨ç½²</title>
    <link href="https://sumygg.com/2021/03/16/spring-maven-package-with-npm-build-dist/"/>
    <id>https://sumygg.com/2021/03/16/spring-maven-package-with-npm-build-dist/</id>
    <published>2021-03-16T12:46:06.000Z</published>
    <updated>2021-03-30T15:18:09.419Z</updated>
    
    <content type="html"><![CDATA[<p>å‰åç«¯åˆ†ç¦»å·²æˆä¸ºç°åœ¨çš„ä¸»æµã€‚ä¸€ä¸ªé¡¹ç›®åç«¯ä½¿ç”¨Java+SpringBootçš„æ¨¡å¼ï¼Œæä¾›æ¥å£ï¼›å‰ç«¯ä½¿ç”¨Vueæä¾›ç”¨æˆ·ç•Œé¢ã€‚å‰åç«¯çš„å·®å¼‚ä¹Ÿä½“ç°åœ¨äº†éƒ¨ç½²ä¸Šï¼Œåç«¯éœ€è¦ä¸€å¥—JDKç¯å¢ƒï¼Œè€Œå‰ç«¯å¯èƒ½åªéœ€è¦ä¸€ä¸ªé™æ€ç½‘é¡µæœåŠ¡å™¨ã€‚</p><p>åœ¨è¿™ç§å‰åç«¯æ¨¡å¼æˆç†Ÿçš„åŸºç¡€ä¸Šï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å°†å‰åç«¯éƒ¨ç½²åœ¨ä¸€èµ·ï¼ˆåŒä¸€å®¹å™¨ï¼‰å‘¢ï¼Ÿå¯èƒ½æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p><ol><li>å‰ç«¯åç«¯éƒ½æ˜¯ä¸€ä¸ªäººå†™çš„ï¼Œå…³è”æ€§æ¯”è¾ƒå¼ºï¼Œå¯èƒ½æ›´é€‚åˆä¸€èµ·éƒ¨ç½²</li><li>å¯¹JSPç­‰æ¨¡æ¿æ¸²æŸ“æœ‰æƒ…æ€€ï¼Œä¸æƒ³è®©é¡µé¢å’Œæ•°æ®åˆ†ç¦»</li><li>åˆå¹¶éƒ¨ç½²å¯ä»¥èŠ‚çœä¸€ä¸ªå®¹å™¨ï¼ŒèŠ‚çœéƒ¨ç½²æˆæœ¬ <img class="emoji" draggable="false" alt="ğŸ¤”" src="https://twemoji.maxcdn.com/2/72x72/1f914.png"/></li></ol><p>é‚£å¦‚ä½•è¿›è¡Œå‰åç«¯åˆå¹¶éƒ¨ç½²ï¼Ÿä¸‹é¢ç›´æ¥è¯´é…ç½®æ–¹æ³•ï¼š</p><h1 id="åˆå¹¶éƒ¨ç½²"><a class="markdownIt-Anchor" href="#åˆå¹¶éƒ¨ç½²"></a> åˆå¹¶éƒ¨ç½²</h1><p>é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªMavenæ„å»ºçš„SpringBooté¡¹ç›®ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¢åŠ å‰ç«¯ä»£ç æ¨¡å—ã€‚</p><h2 id="å¢åŠ å‰ç«¯ä»£ç æ¨¡å—"><a class="markdownIt-Anchor" href="#å¢åŠ å‰ç«¯ä»£ç æ¨¡å—"></a> å¢åŠ å‰ç«¯ä»£ç æ¨¡å—</h2><p>åœ¨mavenä¸­å¢åŠ ä¸€ä¸ªæ¨¡å—ï¼Œå°†æ‰€æœ‰å‰ç«¯ä»£ç éƒ½æ‹·è´åˆ°æ¨¡å—ç›®å½•é‡Œï¼Œå‡å¦‚ä½ çš„å‰ç«¯é¡¹ç›®ä½¿ç”¨çš„ä¹Ÿæ˜¯vueï¼Œé‚£ä¹ˆä½ å°±ä¼šå¾—åˆ°ä¸€ä¸ªç±»ä¼¼äºè¿™æ ·çš„ç›®å½•ç»“æ„ã€‚</p><p><img src="1.png" alt="ç›®å½•ç»“æ„" /></p><p>åˆ«å¿˜äº†åœ¨å…¶å®ƒæ¨¡å—ä¸­å¼•ç”¨è¯¥æ¨¡å—çš„æˆå“jarï¼Œä½¿å…¶èƒ½å¤Ÿæ­£å¸¸å‚ä¸åˆ°æ„å»ºä¸­ã€‚</p><p>ä¸‹é¢åˆ†æ­¥éª¤æ¥è¯´æ˜å¦‚ä½•é…ç½®pom.xmlæ–‡ä»¶ã€‚</p><h2 id="å‡†å¤‡nodeç¯å¢ƒ"><a class="markdownIt-Anchor" href="#å‡†å¤‡nodeç¯å¢ƒ"></a> å‡†å¤‡nodeç¯å¢ƒ</h2><p>æ²¡æœ‰nodeç¯å¢ƒï¼Œå°±éœ€è¦æå‰åšä¸€æ­¥æ“ä½œï¼Œå°†nodeç¯å¢ƒå®‰è£…åˆ°æœ¬æœºä¸­ã€‚å¦‚æœä½¿ç”¨jenkinsæ„å»ºï¼Œå¯ä»¥å¢åŠ ä¸€æ­¥shellæ“ä½œï¼Œç”¨æ¥å®‰è£…éƒ¨ç½²nodeç¯å¢ƒã€‚ä½¿ç”¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -kv  https://mirrors.huaweicloud.com/nodejs/v10.15.3/node-v10.15.3-linux-x64.tar.gz  -o /usr/local/node-v10.15.3-linux-x64.tar.gz</span><br><span class="line">tar -zxvf /usr/local/node-v10.15.3-linux-x64.tar.gz -C /usr/local/</span><br><span class="line">export NODEJS_HOME=&quot;/usr/local/node-v10.15.3-linux-x64&quot;</span><br><span class="line">export PATH=&quot;$&#123;NODEJS_HOME&#125;/bin:$&#123;PATH&#125;&quot;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸‹è½½nodeçš„åœ°å€éœ€è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹ã€‚</p><h2 id="å­˜åœ¨nodeç¯å¢ƒ"><a class="markdownIt-Anchor" href="#å­˜åœ¨nodeç¯å¢ƒ"></a> å­˜åœ¨nodeç¯å¢ƒ</h2><p>å¦‚æœä½ çš„æ„å»ºç¯å¢ƒæ¯”è¾ƒç»™åŠ›ï¼Œæ°å·§æœ‰nodeï¼Œé‚£ä¸€åˆ‡éƒ½ç®€å•äº†ã€‚åªéœ€è¦ä¸€ä¸ª <strong>exec-maven-plugin</strong> æ’ä»¶ï¼Œä¾èµ–æ‰§è¡Œé…ç½®é•œåƒæºã€å®‰è£…ä¾èµ–ã€æ„å»ºæˆå“çš„npmæŒ‡ä»¤å³å¯ã€‚</p><p>æ­¤å¤„é…ç½®çš„é•œåƒæºä½¿ç”¨çš„æ˜¯åä¸ºäº‘ï¼Œå®é™…æƒ…å†µä¸‹å¯ä»¥æ›´æ¢æˆå¯¹åº”çš„å†…ç½‘npmæºã€‚éœ€è¦æ‰§è¡Œçš„å‘½ä»¤éœ€è¦æ ¹æ®å‰ç«¯é¡¹ç›®package.jsoné‡Œçš„æŒ‡ä»¤è¿›è¡Œä¿®æ”¹ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.codehaus.mojo<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>exec-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>&gt;</span>exec-npm-config<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">phase</span>&gt;</span>prepare-package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>exec<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">executable</span>&gt;</span>npm<span class="tag">&lt;/<span class="name">executable</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">arguments</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>config<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>set<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>registry<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>https://mirrors.huaweicloud.com/repository/npm/<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">arguments</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>&gt;</span>exec-npm-config-sass<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">phase</span>&gt;</span>prepare-package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>exec<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">executable</span>&gt;</span>npm<span class="tag">&lt;/<span class="name">executable</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">arguments</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>config<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>set<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>sass_binary_site<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>https://mirrors-devcloud.rnd.huawei.com/node-sass<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">arguments</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>&gt;</span>exec-npm-install<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">phase</span>&gt;</span>prepare-package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>exec<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">executable</span>&gt;</span>npm<span class="tag">&lt;/<span class="name">executable</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">arguments</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>install<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">arguments</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">workingDirectory</span>&gt;</span>$&#123;basedir&#125;<span class="tag">&lt;/<span class="name">workingDirectory</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>&gt;</span>exec-npm-run-build<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">phase</span>&gt;</span>prepare-package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>exec<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">executable</span>&gt;</span>npm<span class="tag">&lt;/<span class="name">executable</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">arguments</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>run<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">argument</span>&gt;</span>build<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">arguments</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">workingDirectory</span>&gt;</span>$&#123;basedir&#125;<span class="tag">&lt;/<span class="name">workingDirectory</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><h2 id="æ‹·è´æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ‹·è´æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶"></a> æ‹·è´æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶</h2><p>å‰é¢æ‰§è¡Œå®Œæˆnpmå‘½ä»¤åï¼Œä¼šç”Ÿæˆä¸€äº›é™æ€çš„æˆå“æ–‡ä»¶ï¼Œéœ€è¦å°†å…¶æ‹·è´åˆ°é»˜è®¤çš„é™æ€èµ„æºç›®å½•ä¸­ã€‚</p><p>è¿™é‡Œå°† <code>/dist</code> ç›®å½•è¾“å‡ºçš„æˆå“æ–‡ä»¶æ‹·è´åˆ° <code>/META-INF/resources</code> ç›®å½•ä¸‹ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;project.basedir&#125;/dist/<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">targetPath</span>&gt;</span>$&#123;project.build.outputDirectory&#125;/META-INF/resources<span class="tag">&lt;/<span class="name">targetPath</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>è¿™æ ·ç”Ÿæˆçš„jaråŒ…é‡Œï¼Œå°±å¸¦æœ‰äº†å‰ç«¯çš„èµ„æºæ–‡ä»¶ã€‚</p><h2 id="nginxè½¬å‘é…ç½®"><a class="markdownIt-Anchor" href="#nginxè½¬å‘é…ç½®"></a> nginxè½¬å‘é…ç½®</h2><p>å‰ç«¯è·¯ç”±åœ¨ä½¿ç”¨äº† <strong>history</strong> æ¨¡å¼ä¸‹ï¼Œåˆ·æ–°ä¼šå‡ºç°404çš„æƒ…å†µï¼Œè¿™æ—¶å€™å°±éœ€è¦ nginx å‡ºæ‰‹è§£å†³èµ„æºæ— æ³•æ‰¾åˆ°çš„é—®é¢˜ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">location &#x2F; &#123;</span><br><span class="line">  rewrite ^(.*)$ index.html break;</span><br><span class="line">  proxy_pass http:&#x2F;&#x2F;127.0.0.1:8080;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location &#x2F;api &#123;</span><br><span class="line">  proxy_pass http:&#x2F;&#x2F;127.0.0.1:8080;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location &#x2F;statics &#123;</span><br><span class="line">  proxy_pass http:&#x2F;&#x2F;127.0.0.1:8080;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¦åšçš„æœ‰ä¸‰ä»¶äº‹ï¼š</p><ul><li>ä¸€æ˜¯/apiå¼€å¤´çš„æ¥å£è¯·æ±‚æ­£å¸¸é€šè¿‡</li><li>äºŒæ˜¯/staticsç›®å½•ä¸‹çš„é™æ€èµ„æºæ”¾è¿‡è¯·æ±‚åŸåœ°å€</li><li>ä¸‰æ˜¯å…¶ä½™é“¾æ¥å…¨éƒ¨ä¿®æ”¹æˆè¿”å›index.htmlæ–‡ä»¶</li></ul><p>/api å’Œ /statics éœ€è¦è·Ÿå‰ç«¯åè°ƒå¥½ï¼Œå‰ç«¯æ‰“åŒ…æ„å»ºä¹Ÿè¦ç”Ÿæˆåˆ›å»ºå¯¹åº”çš„ç›®å½•ã€‚</p><h2 id="ä¸€ä¸ªå°æŠ€å·§"><a class="markdownIt-Anchor" href="#ä¸€ä¸ªå°æŠ€å·§"></a> ä¸€ä¸ªå°æŠ€å·§</h2><p>æœ¬åœ°è°ƒè¯•çš„æ—¶å€™ï¼Œåªéœ€è¦å¯åŠ¨æœåŠ¡ç«¯ï¼Œå‰å°UIæœ‰ä¸“é—¨è°ƒè¯•æœåŠ¡å™¨ã€‚ä½†æ˜¯æ¯æ¬¡å¯åŠ¨æœåŠ¡ç«¯çš„æ—¶å€™éƒ½è¦è¿›è¡Œä¸€æ¬¡é¡µé¢æ„å»ºï¼Œå°±æ¯”è¾ƒçš„ä¸äººæ€§ã€‚</p><p>å¯ä»¥é€šè¿‡ Maven çš„ Profiles åŠŸèƒ½ï¼Œä¸º exec-maven-plugin æ’ä»¶å¢åŠ  profile release é…ç½®ï¼Œåœ¨æœ¬åœ°è°ƒè¯•çš„æ—¶å€™ä¸å¯ç”¨æ­¤é…ç½®ï¼Œè€Œçº¿ä¸Šæ‰“åŒ…çš„æ—¶å€™å¢åŠ  <code>-P release</code> å‚æ•°ã€‚è¿™æ ·æœ¬åœ°è°ƒè¯•çš„æ—¶å€™å¯ä»¥å……åˆ†åˆ©ç”¨å‰åç«¯å„è‡ªçš„çƒ­åŠ è½½ç‰¹æ€§ã€‚</p><h1 id="why"><a class="markdownIt-Anchor" href="#why"></a> Why</h1><p>åŸºæœ¬åŸç†å°±æ˜¯ï¼Œfrontend-maven-plugin æ’ä»¶è°ƒç”¨npmæ‰§è¡Œå®‰è£…å’Œæ„å»ºVueçš„å‘½ä»¤ã€‚ç„¶åå°†æ„å»ºå¥½çš„æ–‡ä»¶å½“åšé™æ€èµ„æºä¾›SpringBootå¼•ç”¨ã€‚</p><p>è¿™é‡Œç”¨åˆ°çš„æœ€é‡è¦çš„ä¸€ä¸ªæ˜¯<a href="https://www.webjars.org/">webjars</a>ã€‚è¿™æ˜¯å°†csså’Œjsç­‰é™æ€èµ„æºæ‰“åŒ…åˆ°jarä¸­ï¼Œä»¥mavenä¾èµ–çš„å½¢å¼å¯¹å…¶è¿›è¡Œç®¡ç†çš„ä¸€ç§æ–¹å¼ã€‚è€Œservlet3.0ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥è®¿é—®jaråŒ…ä¸­/META-INF/resourcesç›®å½•ä¸­çš„æ–‡ä»¶ä½œä¸ºé™æ€èµ„æºã€‚</p><p>æ‰€ä»¥è¯´æœ¬æ–¹æ³•åªæ˜¯ä½¿ç”¨äº†webjarsçš„èµ„æºåŠ è½½æ–¹å¼æ¥åŠ è½½ç”Ÿæˆçš„é™æ€èµ„æºã€‚è„šæœ¬ä¸­è¿˜æœ‰ä¸€äº›â€œå¥‡æ€ªâ€çš„é…ç½®ï¼Œæ˜¯ä¸ºäº†è§£å†³å­˜åœ¨å†…ç½‘é•œåƒï¼Œä½†æ˜¯æ— æ³•è®¿é—®å¤–ç½‘èµ„æºï¼Œå¦‚ä½•è¿›è¡Œæ„å»ºçš„è¯¥é—®é¢˜ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å‰åç«¯åˆ†ç¦»å·²æˆä¸ºç°åœ¨çš„ä¸»æµã€‚ä¸€ä¸ªé¡¹ç›®åç«¯ä½¿ç”¨Java+SpringBootçš„æ¨¡å¼ï¼Œæä¾›æ¥å£ï¼›å‰ç«¯ä½¿ç”¨Vueæä¾›ç”¨æˆ·ç•Œé¢ã€‚å‰åç«¯çš„å·®å¼‚ä¹Ÿä½“ç°åœ¨äº†éƒ¨ç½²ä¸Šï¼Œåç«¯éœ€è¦ä¸€å¥—JDKç¯å¢ƒï¼Œè€Œå‰ç«¯å¯èƒ½åªéœ€è¦ä¸€ä¸ªé™æ€ç½‘é¡µæœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç§å‰åç«¯æ¨¡å¼æˆç†Ÿçš„åŸºç¡€ä¸Šï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å°†å‰å</summary>
      
    
    
    
    <category term="å®è·µ" scheme="https://sumygg.com/categories/%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="maven" scheme="https://sumygg.com/tags/maven/"/>
    
    <category term="spring" scheme="https://sumygg.com/tags/spring/"/>
    
    <category term="npm" scheme="https://sumygg.com/tags/npm/"/>
    
    <category term="node" scheme="https://sumygg.com/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨gitä¸­çš„rebaseç®€åŒ–commitæäº¤å†å²</title>
    <link href="https://sumygg.com/2018/10/28/simplify-commit-history-with-git-rebase/"/>
    <id>https://sumygg.com/2018/10/28/simplify-commit-history-with-git-rebase/</id>
    <published>2018-10-28T10:50:26.000Z</published>
    <updated>2021-03-16T08:51:03.056Z</updated>
    
    <content type="html"><![CDATA[<p>Gitä½œä¸ºâ€œç°ä»£â€å¼€å‘ä¸­ä¸å¯è·å–çš„ä¸€éƒ¨åˆ†ï¼Œå¹³æ—¶çš„æœ€å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤æ˜¯ <code>init</code> <code>clone</code> <code>push</code> <code>pull</code> <code>origin</code>ã€‚ä½†GitåŒ…å«çš„åŠŸèƒ½å´è¿œè¿œä¸æ­¢è¿™äº›ã€‚è¯´èµ·å‘½ä»¤ï¼Œå°±æƒ³èµ·ä¹‹å‰é¢è¯•å®˜æåˆ°äº†<code>rebase</code>ï¼Œç„¶åå°±å°è¯•äº†ä¸€ä¸‹<code>rebase</code>è¿™ä¸ªå‘½ä»¤ï¼Œæœ€åå‘ç°è¿™å®Œå…¨æ˜¯å¼ºè¿«ç—‡çš„ç¦åˆ©ã€‚åªè¦å¹³æ—¶çš„å¼€å‘æµé‡Œå†å¤šå‡ ä¸ªç®€å•æ“ä½œï¼Œä¸–ç•Œå°±èƒ½å˜å¾—å¾ˆç¾å¥½ï¼Œè€Œä¸”æœ‰äº†IDEçš„åŠ æŒï¼Œç”¨èµ·æ¥æ›´åŠ ç®€å•ä¾¿æ·äº†ã€‚ç„¶åï¼Œè™½ç„¶è¿™ä¸ªå‰è¨€æ„Ÿè§‰å¾ˆå”çªï¼Œå¤©é“å¥½è½®å›ï¼ŒæŠ€æœ¯å€ºä¹Ÿæ˜¯è¦è¿˜çš„ã€‚</p><h1 id="åˆå¹¶çš„ç­–ç•¥"><a class="markdownIt-Anchor" href="#åˆå¹¶çš„ç­–ç•¥"></a> åˆå¹¶çš„ç­–ç•¥</h1><p>åˆå¹¶ä»åœºæ™¯æ¥è¯´åˆ†ä¸ºä¸¤ç§ï¼Œ <em>ä¸åŒåˆ†æ”¯çš„åˆå¹¶</em> å’Œ <em>å•ä¸ªåˆ†æ”¯çš„åˆå¹¶</em> ã€‚</p><p>ä¸åŒåˆ†æ”¯çš„åˆå¹¶è¿™ä¸ªæ²¡ä»€ä¹ˆå¯è¯´çš„ï¼Œå‚ç…§ <code>git merge --no-ff xxx</code> çš„å‘½ä»¤æ‰§è¡Œã€‚<br />è€Œå•ä¸ªåˆ†æ”¯çš„åˆå¹¶ä¸€èˆ¬åœ¨å¤šäººå¼€å‘åŒä¸€ä¸ªåˆ†æ”¯çš„æ—¶å€™ï¼Œå¦‚æœæœ‰äººæå‰æäº¤åˆ°äº†è¿œç¨‹ä»“åº“ï¼Œé‚£ä¹ˆå…¶å®ƒäººå†æƒ³æäº¤çš„è¯ï¼Œå°±å¿…é¡»å…ˆæŠŠè¿œç¨‹ä»“åº“çš„ä¿®æ”¹åˆå¹¶åˆ°æœ¬åœ°ï¼Œæ‰èƒ½å†æ¬¡æäº¤ã€‚</p><p>åŒäº‹ä»¬å¤§å¤šæ•°éƒ½æ˜¯commitåå‘ç°æäº¤ä¸ä¸Šå»ï¼Œç„¶åpullä¸€ä¸‹æ‰§è¡Œä¸€æ¬¡åŒåˆ†æ”¯åˆå¹¶ã€‚è¿™æ ·æäº¤è®°å½•é‡Œå°±ä¼šåä¸½ä¸½çš„çœ‹åˆ°å¾ˆå¤šåˆ†æ”¯è‡ªå·±mergeè‡ªå·±çš„æƒ…å†µäº†ï¼Œè€Œè¿™ç§æäº¤è®°å½•æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦çš„ã€‚ï¼ˆå¿½ç•¥é»‘é»‘çš„æ‰“ç ï¼‰</p><img src="/2018/10/28/simplify-commit-history-with-git-rebase/1.png" class="" title="åŒ…å«å¾ˆå¤šçš„Merge"><p>marge ç‰¹ç‚¹ï¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çš„commit<br />å¦‚æœåˆå¹¶çš„æ—¶å€™é‡åˆ°å†²çªï¼Œä»…éœ€è¦ä¿®æ”¹åé‡æ–°commit<br />ä¼˜ç‚¹ï¼šè®°å½•äº†çœŸå®çš„commitæƒ…å†µï¼ŒåŒ…æ‹¬æ¯ä¸ªåˆ†æ”¯çš„è¯¦æƒ…<br />ç¼ºç‚¹ï¼šå› ä¸ºæ¯æ¬¡mergeä¼šè‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªmerge commitï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨ä¸€äº›gitçš„GUI toolsï¼Œç‰¹åˆ«æ˜¯commitæ¯”è¾ƒé¢‘ç¹æ—¶ï¼Œçœ‹åˆ°åˆ†æ”¯å¾ˆæ‚ä¹±ã€‚</p><p>rebase ç‰¹ç‚¹ï¼šä¼šåˆå¹¶ä¹‹å‰çš„commitå†å²<br />ä¼˜ç‚¹ï¼šå¾—åˆ°æ›´ç®€æ´çš„é¡¹ç›®å†å²ï¼Œå»æ‰äº†merge commit<br />ç¼ºç‚¹ï¼šå¦‚æœåˆå¹¶å‡ºç°ä»£ç é—®é¢˜ä¸å®¹æ˜“å®šä½ï¼Œå› ä¸ºre-writeäº†history</p><p><strong>å•åˆ†æ”¯</strong> ä¸‹ï¼Œå»ºè®®ä½¿ç”¨rebaseå°†è¿œç¨‹åˆ†æ”¯æ›´æ–°åˆ°æœ¬åœ°ã€‚ <strong>å¤šåˆ†æ”¯</strong> åˆå¹¶ï¼Œä½¿ç”¨mergeç­–ç•¥åˆå¹¶åˆ†æ”¯ã€‚</p><h1 id="rebaseä½¿ç”¨"><a class="markdownIt-Anchor" href="#rebaseä½¿ç”¨"></a> rebaseä½¿ç”¨</h1><p>rebaseçš„å…¶å®ƒç”¨æ³•å°±ä¸å†ä»‹ç»äº†ï¼ˆå…¶å®æ˜¯æš‚æ—¶ç”¨ä¸ä¸Šï¼Œç­‰ç”¨ä¸Šäº†å†è¯´ï¼‰ï¼Œåªè¯´æ˜ä¸€ä¸‹pullçš„æ—¶å€™çš„ç”¨æ³•ã€‚</p><p>æœ‰äººå¯èƒ½ä¼šè¯´ï¼Œé‚£æˆ‘åœ¨commitä¹‹å‰å…ˆpullä¸€ä¸‹ï¼Œè¿™æ ·ä¸å°±å¯ä»¥äº†ï¼Ÿ</p><p>è¿™ç§æ–¹æ³•å®Œå…¨å¯ä»¥ï¼Œâ€œäº‹å‰â€å¯ä»¥ç”¨æ¥è§„é¿å•åˆ†æ”¯åˆå¹¶å‡ºç°æ— ç”¨commitçš„é—®é¢˜ï¼Œä½†æ˜¯ä¸å°å¿ƒåˆ°â€œäº‹åâ€äº†ä¼šæ€æ ·ã€‚</p><p>rebaseä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ï¼Œå‘½ä»¤è¡Œæ¨¡å¼ä¸‹è®°å¾—åœ¨pullçš„ååŠ  <code>--rebase</code> å‚æ•°ã€‚å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git pull --rebase     # ä»¥rebaseæ–¹å¼æ‹‰å–ä»£ç </span><br><span class="line"></span><br><span class="line"># é‡åˆ°å†²çªæ—¶</span><br><span class="line">git rebase --continue # é‡åˆ°å†²çªï¼Œè§£å†³å†²çªåæ‰§è¡Œï¼Œç»§ç»­rebaseå‰©ä½™ä»£ç </span><br><span class="line">git rebase --skip     # å¿½ç•¥å†²çªçš„commitï¼Œç»§ç»­rebaseå‰©ä½™ä»£ç </span><br><span class="line">git rebase --abort    # ç»ˆæ­¢rebaseï¼Œå›åˆ°rebaseæ‰§è¡Œå‰çŠ¶æ€</span><br></pre></td></tr></table></figure><p>GUIä»¥Intellijä¸ºä¾‹</p><p>æäº¤ä»£ç å‰å…ˆæ›´æ–°é¡¹ç›®ï¼Œä½¿ç”¨rebaseæ–¹å¼</p><img src="/2018/10/28/simplify-commit-history-with-git-rebase/2.png" class="" title="æ›´æ–°é¡¹ç›®"><p>é‡åˆ°å†²çªæ—¶è§£å†³å†²çªï¼ŒIDEä¼šè‡ªåŠ¨æ‰§è¡Œ --continue å‘½ä»¤ã€‚</p><img src="/2018/10/28/simplify-commit-history-with-git-rebase/3.png" class="" title="è§£å†³å†²çª"><p>ä¸å¹³æ—¶ä½¿ç”¨çš„mergeçœŸçš„å¾ˆåƒã€‚</p><h1 id="æ€»ç»“ä¸€ä¸‹"><a class="markdownIt-Anchor" href="#æ€»ç»“ä¸€ä¸‹"></a> æ€»ç»“ä¸€ä¸‹</h1><p>rebaseçš„ä¸€äº›ç”¨æ³•ï¼š</p><ol><li>åˆå¹¶å¤šä¸ªcommitä¸ºä¸€ä¸ªå®Œæ•´çš„commit</li><li>å°†æŸä¸€æ®µcommitç²˜è´´åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Š</li></ol><p>rebaseå®è´¨æ˜¯ä¸¢å¼ƒä¸€äº›ç°æœ‰çš„æäº¤ï¼Œç„¶åç›¸åº”åœ°æ–°å»ºä¸€äº›å†…å®¹ä¸€æ ·ä½†å®é™…ä¸Šä¸åŒçš„æäº¤ã€‚</p><p><strong>rebaseä¼šæ”¹å†™å†å²è®°å½•ï¼Œæ°¸è¿œä¸è¦åœ¨å·²ç»pushäº†çš„commitä¸Šä½¿ç”¨ã€‚</strong></p><p>è¿˜æ˜¯ç¨å¾®åæ§½ä¸€ä¸‹ <em>å˜åŸº</em> è¿™ä¸ªåè¯å§ï¼Œæ„Ÿè§‰å¾ˆmagic<img class="emoji" draggable="false" alt="â­" src="https://twemoji.maxcdn.com/2/72x72/2b50.png"/>ï¸</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Gitä½œä¸ºâ€œç°ä»£â€å¼€å‘ä¸­ä¸å¯è·å–çš„ä¸€éƒ¨åˆ†ï¼Œå¹³æ—¶çš„æœ€å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤æ˜¯ &lt;code&gt;init&lt;/code&gt; &lt;code&gt;clone&lt;/code&gt; &lt;code&gt;push&lt;/code&gt; &lt;code&gt;pull&lt;/code&gt; &lt;code&gt;origin&lt;/code&gt;ã€‚ä½†GitåŒ…å«çš„åŠŸèƒ½å´</summary>
      
    
    
    
    <category term="é«˜æ•ˆç”Ÿæ´»" scheme="https://sumygg.com/categories/%E9%AB%98%E6%95%88%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="git" scheme="https://sumygg.com/tags/git/"/>
    
    <category term="git rebase" scheme="https://sumygg.com/tags/git-rebase/"/>
    
  </entry>
  
  <entry>
    <title>é­”æ³•ã®ç­† å‘ªæ–‡ã§çµµæãã‚ˆ å›ã‚‚æã“ã†ï¼</title>
    <link href="https://sumygg.com/2018/07/31/p5js-version-for-taiko-drum-master-song-void-setup/"/>
    <id>https://sumygg.com/2018/07/31/p5js-version-for-taiko-drum-master-song-void-setup/</id>
    <published>2018-07-31T05:48:45.000Z</published>
    <updated>2021-03-16T08:51:03.055Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½ä¹…æ²¡æ›´æ–°åšå®¢äº†ï¼Œä»Šå¤©è¶ç€æœˆæœ«å°±å†æ¥æ°´ä¸€ç¯‡å§ã€‚</p><h1 id="èµ·å› åŸæ¥æ˜¯å¤ªé¼“è¾¾äºº"><a class="markdownIt-Anchor" href="#èµ·å› åŸæ¥æ˜¯å¤ªé¼“è¾¾äºº"></a> èµ·å› åŸæ¥æ˜¯å¤ªé¼“è¾¾äºº</h1><p>å‰åå‡ å¤©åˆ·å¾®åšçš„æ—¶å€™å‘ç°ä¸€ä¸ªæœ‰æ„æ€çš„æ­Œæ›²ï¼Œå°±æ˜¯æ­Œæ›²çš„æ­Œè¯å…¶å®æ˜¯ä¸€ä¸ªç¨‹åºï¼Œæœ‰äººè¿˜æŠŠè¿™é¦–æ­Œçš„æ­Œè¯å¬å†™å‡ºæ¥ï¼Œç„¶åè·‘èµ·æ¥äº†ã€‚</p><iframe src="https://www.youtube.com/embed/RuA9ZwIW7Mg" width="560" height="315" frameborder="0" loading="lazy" allowfullscreen></iframe><p>å¬å®Œé­”æ€§çš„éŸ³ä¹åï¼Œä¸€é¢—æäº‹çš„å¿ƒåœ¨ç†Šç†Šç‡ƒçƒ§ï¼Œå°±æŠŠè¿™æ®µä»£ç æŠ„äº†ä¸‹æ¥ã€‚ã€‚ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span></span>&#123;</span><br><span class="line">  size(<span class="number">400</span>,<span class="number">400</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> a = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span></span>&#123;</span><br><span class="line">  fill (#<span class="number">021050</span>,<span class="number">5</span>);</span><br><span class="line">  rect (<span class="number">0</span>,<span class="number">0</span>,width,height);</span><br><span class="line">  translate (<span class="number">200</span>+a*<span class="number">10</span>,<span class="number">200</span>+a*<span class="number">10</span>);</span><br><span class="line">  rotate (a);</span><br><span class="line">  scale (a/<span class="number">15</span>);</span><br><span class="line">  a+= <span class="number">0.05</span>;</span><br><span class="line">  kao (<span class="number">0</span>,<span class="number">-50</span>);</span><br><span class="line">  kao (<span class="number">1</span>,<span class="number">50</span>);</span><br><span class="line">  <span class="keyword">if</span> (a&gt;<span class="number">30</span>) a-= <span class="number">50</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é­”æ³•ã®ç­† å‘ªæ–‡ã§çµµæãã‚ˆ å›ã‚‚æã“ã†ï¼</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">kao</span> <span class="params">(<span class="keyword">int</span> don,<span class="keyword">float</span> b)</span></span>&#123;</span><br><span class="line">  stroke (<span class="number">0</span>);</span><br><span class="line">  strokeWeight (<span class="number">2</span>);</span><br><span class="line">  fill (#e7eedd);</span><br><span class="line">  ellipse (b,<span class="number">0</span>,<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line">  noStroke ();</span><br><span class="line">  fill (#<span class="number">68</span>c0c0 + #<span class="number">8f</span>8768 * don);</span><br><span class="line">  ellipse (b,<span class="number">0</span>,<span class="number">38</span>,<span class="number">38</span>);</span><br><span class="line"></span><br><span class="line">  stroke (<span class="number">0</span>);</span><br><span class="line">  strokeWeight (<span class="number">1.4</span>);</span><br><span class="line">  arc (b + <span class="number">4.26</span>,<span class="number">5</span>,<span class="number">8.5</span>,<span class="number">7.3</span>,<span class="number">0.3</span>,PI,OPEN);</span><br><span class="line">  arc (b - <span class="number">4.26</span>,<span class="number">5</span>,<span class="number">8.5</span>,<span class="number">7.3</span>,<span class="number">0</span>,PI<span class="number">-0.3</span>,OPEN);</span><br><span class="line"></span><br><span class="line">  fill (<span class="number">0</span>);</span><br><span class="line">  ellipse (b<span class="number">-11</span>,<span class="number">-2</span>,<span class="number">6.56</span>,<span class="number">7</span>);</span><br><span class="line">  ellipse (b+<span class="number">11</span>,<span class="number">-2</span>,<span class="number">6.56</span>,<span class="number">7</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸–ç•ŒãŒå§‹ã¾ã‚‹ã‚ˆãƒ¼ãƒ¼ãƒ¼</span></span><br></pre></td></tr></table></figure><h1 id="void_setupçš„å³å…´è½¬æ¢"><a class="markdownIt-Anchor" href="#void_setupçš„å³å…´è½¬æ¢"></a> void_setupçš„å³å…´è½¬æ¢</h1><p>æŸ¥äº†ä¸€ä¸‹è¿™æ®µä»£ç æ‰€ç”¨çš„è¯­è¨€ï¼Œä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå«<a href="https://processing.org/">Processing</a>çš„è¯­è¨€ã€‚å¥½å·§çš„æ˜¯å‰æ®µæ—¶é—´åˆæ­£å¥½äº†è§£äº†è¿™ä¸ªè¯­è¨€çš„ JavaScript å®ç°ç‰ˆ <a href="https://p5js.org/">p5.js</a>ã€‚èƒ½ä¸èƒ½å°†ä¸Šé¢çš„è¯­è¨€å®ç°æˆä¸‹é¢çš„è¿™ç§å‘¢ï¼Ÿ</p><p>åœ¨ä¸€ä¸ªå‘¨æœ«ï¼Œå€ŸåŠ©æ–‡æ¡£ã€æœç´¢å¼•æ“å’Œé›¶é£Ÿï¼ŒæˆåŠŸçš„å®Œæˆäº†ä»£ç çš„è½¬æ¢å·¥ä½œã€‚ç”±äºæ˜¯åŒä¸€ç§è¯­è¨€çš„ä¸åŒå®ç°ï¼Œä»£ç çš„ç›¸ä¼¼åº¦è¿˜æ˜¯æŒºé«˜çš„ã€‚è¿™æ®µä»£ç å¯ä»¥åœ¨ jsfiddle ä¸­ç›´æ¥è¿è¡Œã€‚</p><iframe scrolling="no" width="100%" height="500px" src="https://jsfiddle.net/89um5a6j/embedded/js,result/light" frameborder="0" loading="lazy" allowfullscreen></iframe><h1 id="é­”æ³•çš„ç”»ç¬”ä½ ä¹Ÿä¸€èµ·æ¥ç”»å§"><a class="markdownIt-Anchor" href="#é­”æ³•çš„ç”»ç¬”ä½ ä¹Ÿä¸€èµ·æ¥ç”»å§"></a> é­”æ³•çš„ç”»ç¬”ï¼Œä½ ä¹Ÿä¸€èµ·æ¥ç”»å§</h1><p>åœ¨è½¬æ¢çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä¸€äº›â€œä¸å¤ªå…¼å®¹â€çš„é—®é¢˜ã€‚</p><p>åœ¨ç½‘é¡µä¸Šéœ€è¦è½¬æ¢æˆCanvasç”»å¸ƒï¼Œäºæ˜¯ <code>size()</code> å‘½ä»¤å°±è½¬æˆäº† <code>createCanvas()</code> å‘½ä»¤ã€‚</p><p>Processingä¸­çš„é¢œè‰²å¯ä»¥ç›´æ¥ä½œä¸ºå¸¸äº®ä½¿ç”¨ï¼Œè€ŒJavaScriptä¸­çš„é¢œè‰²ä½¿ç”¨å­—ç¬¦ä¸²çš„å½¢å¼è¡¨ç¤ºï¼Œä¸åŒçš„å†™æ³•ä»£è¡¨ä¸åŒçš„æ„ä¹‰ã€‚å¦‚ <code>rgba()</code> æ˜¯é¢œè‰²é™„å¸¦äº†é€æ˜åº¦çš„å½¢å¼ã€‚</p><p>é¢œè‰²è¿˜æœ‰ä¸€ä¸ªä¸åŒçš„åœ°æ–¹æ˜¯JavaScriptçš„é¢œè‰²ä¸èƒ½ç›´æ¥ç›¸åŠ ã€‚åœ¨Processingä¸­å°çº¢çš„é¢œè‰²æ˜¯æ ¹æ®å°è“çš„é¢œè‰² <code>#68c0c0</code> åŠ ä¸Š <code>#8f8768</code> å¾—åˆ°çš„ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨äº†è®¡ç®—åçš„å°çº¢çš„é¢œè‰²å€¼ <code>#fb4828</code> ã€‚é¢œè‰²ç›¸åŠ å°±æ˜¯æ™®é€šçš„äºŒè¿›åˆ¶ç›¸åŠ ã€‚</p><p>ç»˜åˆ¶çš„ç®—æ³•ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼Œç¬¬ä¸€æ­¥æ˜¯è¿›è¡Œç”»å¸ƒå˜æ¢ï¼Œå¯¹ç”»å¸ƒè¿›è¡Œä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾çš„å˜æ¢ã€‚ç¬¬äºŒæ­¥åˆ™æ˜¯åœ¨å˜æ¢åçš„ç”»å¸ƒä¸Šç»˜åˆ¶ä¸¤ä¸ªå›¾åƒï¼Œå›¾åƒçš„ç»˜åˆ¶ç”± <code>kao()</code> å‡½æ•°å®Œæˆã€‚</p><img src="/2018/07/31/p5js-version-for-taiko-drum-master-song-void-setup/canvas_draw.png" class="" title="ç”»ä¸€ç”»"><p>ä¸€ä¸ªå¾ˆç®€å•çš„ç»˜å›¾å°ç¨‹åºå°±è¿™æ ·å‡ºç°äº†ï¼ˆå†æ¬¡ã€‚</p><h1 id="æœ€åæ‰å¼€å§‹å§"><a class="markdownIt-Anchor" href="#æœ€åæ‰å¼€å§‹å§"></a> æœ€åæ‰å¼€å§‹å§</h1><p>å¯¹äº†ï¼Œå¿˜äº†è¯´è¿™é¦–æ­Œå«ã€Švoid setupã€‹ï¼Œå¯æƒœçš„æ˜¯ç½‘æ˜“äº‘éŸ³ä¹è¿˜æ²¡æœ‰æ”¶å½•è¯¥éŸ³ä¹ã€‚ä¸è¿‡è‡ªå·±å·²ç»ä»æ²¹ç®¡ä¸Šä¸‹è½½äº†éŸ³é¢‘æ–‡ä»¶ï¼Œæœ‰ç©ºçš„æ—¶å€™å¯ä»¥æ…¢æ…¢å›å‘³ä¸€ä¸‹ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¥½ä¹…æ²¡æ›´æ–°åšå®¢äº†ï¼Œä»Šå¤©è¶ç€æœˆæœ«å°±å†æ¥æ°´ä¸€ç¯‡å§ã€‚&lt;/p&gt;
&lt;h1 id=&quot;èµ·å› åŸæ¥æ˜¯å¤ªé¼“è¾¾äºº&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#èµ·å› åŸæ¥æ˜¯å¤ªé¼“è¾¾äºº&quot;&gt;&lt;/a&gt; èµ·å› åŸæ¥æ˜¯å¤ªé¼“è¾¾äºº&lt;/h1&gt;
&lt;p&gt;å‰åå‡ å¤©åˆ·å¾®åšçš„æ—¶å€™å‘ç°ä¸€ä¸ªæœ‰æ„æ€çš„æ­Œæ›²</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>è®°ä¸€æ¬¡ç®€å•çš„åŸŸåè§£ææ‰¾å›æ“ä½œ</title>
    <link href="https://sumygg.com/2018/06/26/domain-resolves-to-an-unknown-website/"/>
    <id>https://sumygg.com/2018/06/26/domain-resolves-to-an-unknown-website/</id>
    <published>2018-06-26T14:38:55.000Z</published>
    <updated>2021-03-16T08:51:03.054Z</updated>
    
    <content type="html"><![CDATA[<p>å‰æ®µæ—¶é—´æäº†ç‚¹ä¸œè¥¿ï¼Œæƒ³æ”¾åˆ°è‡ªå·±çš„åŸŸåä¸Šã€‚å¾ˆè‡ªç„¶çš„åœ¨åŸŸåè§£æé‡Œé…ç½®äº†å°†åŸŸåè§£æåˆ°è‡ªå·±æœåŠ¡å™¨ä¸Šï¼Œç»“æœè¿‡äº†ä¸€æ®µæ—¶é—´å‘ç°ï¼ŒåŸŸåè¢«è§£æåˆ°ä¸€ä¸ª**å½©ç½‘ç«™ä¸Šé¢å»äº†ã€‚ä»¥ä¸ºè‡ªå·±æé”™äº†è§£æï¼Œå†ä¸‰ç¡®è®¤äº†é…ç½®æ²¡æœ‰é”™è¯¯ã€‚ç„¶åå¼€å§‹äº†è§£æé”™è¯¯æŸ¥æ‰¾ä¹‹æ—…ã€‚</p><p>é¦–å…ˆç¡®è®¤äº†è§£ææœ‰æ²¡æœ‰è¿‡æ¥ï¼Œä½¿ç”¨äº†<a href="http://ping.chinaz.com">ç«™é•¿å·¥å…·Pingæ£€æµ‹</a>æµ‹è¯•äº†åŸŸåçš„è¿é€šæƒ…å†µï¼Œå‘ç°å›½å†…çš„è§£æéƒ½æŒ‡å‘äº†ä¸€ä¸ªIPåœ°å€ï¼Œå›½å¤–çš„è§£æéƒ½æ˜¯æ­£å¸¸çš„ã€‚è€Œç›´æ¥è®¿é—®è¿™ä¸ªIPåœ°å€ï¼Œå°±æ˜¯é‚£ä¸ªä»€ä¹ˆä»€ä¹ˆçš„ç½‘ç«™ã€‚</p><p>å›½å†…å›½å¤–å‡ºç°äº†ä¸åŒçš„è§£æåœ°å€ï¼Œä¸‹ä¸€æ­¥ç”¨ <code>dig</code> å‘½ä»¤çœ‹ä¸€ä¸‹åŸŸåçš„dnsæƒ…å†µï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">sumy@DESKTOP-14HIGI1:&#x2F;mnt&#x2F;c&#x2F;Users&#x2F;sumy$ dig sumygg.com</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1-Ubuntu &lt;&lt;&gt;&gt; sumygg.com</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 7830</span><br><span class="line">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 11</span><br><span class="line"></span><br><span class="line">;; OPT PSEUDOSECTION:</span><br><span class="line">; EDNS: version: 0, flags:; udp: 4096</span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;sumygg.com.                    IN      A</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">sumygg.com.             600     IN      A       45.114.10.107</span><br><span class="line"></span><br><span class="line">;; AUTHORITY SECTION:</span><br><span class="line">sumygg.com.             86202   IN      NS      f1g1ns2.dnspod.net.</span><br><span class="line">sumygg.com.             86202   IN      NS      f1g1ns1.dnspod.net.</span><br><span class="line"></span><br><span class="line">;; ADDITIONAL SECTION:</span><br><span class="line">f1g1ns1.dnspod.net.     166658  IN      A       182.140.167.166</span><br><span class="line">f1g1ns1.dnspod.net.     166658  IN      A       14.215.150.17</span><br><span class="line">f1g1ns1.dnspod.net.     166658  IN      A       58.247.212.36</span><br><span class="line">f1g1ns1.dnspod.net.     166658  IN      A       61.151.180.44</span><br><span class="line">f1g1ns1.dnspod.net.     166658  IN      A       180.163.19.15</span><br><span class="line">f1g1ns2.dnspod.net.     166657  IN      A       61.129.8.159</span><br><span class="line">f1g1ns2.dnspod.net.     166657  IN      A       101.226.220.16</span><br><span class="line">f1g1ns2.dnspod.net.     166657  IN      A       121.51.128.164</span><br><span class="line">f1g1ns2.dnspod.net.     166657  IN      A       182.140.167.188</span><br><span class="line">f1g1ns2.dnspod.net.     166657  IN      A       52.220.136.67</span><br><span class="line"></span><br><span class="line">;; Query time: 46 msec</span><br><span class="line">;; SERVER: 192.168.1.1#53(192.168.1.1)</span><br><span class="line">;; WHEN: Sun Jun 17 00:41:30 DST 2018</span><br><span class="line">;; MSG SIZE  rcvd: 269</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°è§£æè¢«dnspodæ¥ç®¡äº†ï¼Œä½†æ˜¯æˆ‘ä¹‹å‰å¹¶æ²¡æœ‰åœ¨ä¸Šé¢é…ç½®ç›¸å…³çš„dnsè§£æï¼Ÿä¸ç®¡æ€æ ·è¿˜æ˜¯ç™»é™†ä¸Šå»çœ‹ä¸€çœ‹ã€‚</p><p>dnspodä¸åŸŸåè§£æçš„ç½‘ç«™å¾ˆç›¸ä¼¼ï¼Œå…³é”®æ˜¯å¯ä»¥ <strong>è‡ªå®šä¹‰</strong> è¾“å…¥åŸŸåï¼Œå³ä½¿é‚£ä¸ªåŸŸåä¸æ˜¯dnspodæ‰€æœ‰ã€‚æˆ‘è¯•ç€è¾“å…¥äº†æˆ‘çš„åŸŸåï¼Œæç¤ºåŸŸåå·²ç»è¢«å…¶å®ƒè´¦æˆ·å ç”¨äº†ï¼Œæ˜¯å¦éœ€è¦è®¤é¢†ã€‚</p><img src="/2018/06/26/domain-resolves-to-an-unknown-website/1.png" class="" title="åŸŸåè®¤é¢†æç¤º"><p>è®¤é¢†åŸŸåéœ€è¦è®¤è¯ <strong>WHOIS</strong> é‚®ç®±ï¼Œè¿˜å¥½ä¹‹å‰å·²ç»åœ¨åŸŸåé‡Œé…ç½®äº†ç›¸å…³çš„é‚®ç®±ï¼Œé€šè¿‡WHOISæˆåŠŸå°†åŸŸåå–å›åˆ°äº†è‡ªå·±çš„è´¦æˆ·é‡Œã€‚</p><p>è®¤é¢†å›æ¥ç¬¬ä¸€æ­¥å°±æ˜¯æŠŠé”™è¯¯çš„åŸŸåè§£æåˆ é™¤ï¼Œç„¶å <em>ä¸æƒ…æ„¿</em> çš„æ¢ä¸Šäº†è‡ªå·±çš„åŸŸåè§£æã€‚</p><p>æŸ¥çœ‹äº†åŸŸåæ“ä½œè®°å½•ï¼Œå‘ç°å®ƒåœ¨å‡ å¤©å‰å°±å·²ç»æ¶æ„æ³¨å†Œäº†åŸŸåè§£æï¼Œè¿‡äº†å‡ å¤©æ‰è¢«æˆ‘å‘ç°ã€‚</p><img src="/2018/06/26/domain-resolves-to-an-unknown-website/2.png" class="" title="åŸŸåæ“ä½œè®°å½•"><p>é™äºè‡ªå·±çš„æ°´å¹³ï¼Œå°±æ²¡å¯¹è¿™ä¸ªé‚®ç®±åšè¿›ä¸€æ­¥å¤„ç†ï¼ŒåŸŸåè§£ææ‰¾å›æ¥äº†ï¼Œå¯å–œå¯è´ºï¼Œå¯å–œå¯è´ºã€‚</p><p>å›æƒ³è¿™ä»¶äº‹ï¼Œdnspodè¿™ç§å…ˆæ¥å…ˆå¾—çš„åŸŸåè®¤é¢†æ–¹å¼å­˜åœ¨å¾ˆå¤§çš„éšæ‚£ï¼Œè¿˜ä¸çŸ¥é“æœ‰å¤šå°‘äººçš„åŸŸåè¢«æ¶æ„è®¤é¢†ã€‚è§„åˆ™ä¹‹ä¸‹ï¼Œæ— è‡³åˆ™æºƒã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å‰æ®µæ—¶é—´æäº†ç‚¹ä¸œè¥¿ï¼Œæƒ³æ”¾åˆ°è‡ªå·±çš„åŸŸåä¸Šã€‚å¾ˆè‡ªç„¶çš„åœ¨åŸŸåè§£æé‡Œé…ç½®äº†å°†åŸŸåè§£æåˆ°è‡ªå·±æœåŠ¡å™¨ä¸Šï¼Œç»“æœè¿‡äº†ä¸€æ®µæ—¶é—´å‘ç°ï¼ŒåŸŸåè¢«è§£æåˆ°ä¸€ä¸ª**å½©ç½‘ç«™ä¸Šé¢å»äº†ã€‚ä»¥ä¸ºè‡ªå·±æé”™äº†è§£æï¼Œå†ä¸‰ç¡®è®¤äº†é…ç½®æ²¡æœ‰é”™è¯¯ã€‚ç„¶åå¼€å§‹äº†è§£æé”™è¯¯æŸ¥æ‰¾ä¹‹æ—…ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆç¡®è®¤äº†è§£ææœ‰æ²¡æœ‰è¿‡æ¥ï¼Œä½¿ç”¨äº†&lt;a</summary>
      
    
    
    
    <category term="ç½‘ç«™" scheme="https://sumygg.com/categories/%E7%BD%91%E7%AB%99/"/>
    
    
    <category term="åŸŸå" scheme="https://sumygg.com/tags/%E5%9F%9F%E5%90%8D/"/>
    
    <category term="è§£æ" scheme="https://sumygg.com/tags/%E8%A7%A3%E6%9E%90/"/>
    
    <category term="dnspod" scheme="https://sumygg.com/tags/dnspod/"/>
    
  </entry>
  
  <entry>
    <title>ä¼˜åŒ–SQLæŸ¥è¯¢æ—¶å€™çš„æ€§èƒ½</title>
    <link href="https://sumygg.com/2018/05/31/optimize-sql-queries-to-improving-the-performance/"/>
    <id>https://sumygg.com/2018/05/31/optimize-sql-queries-to-improving-the-performance/</id>
    <published>2018-05-31T13:43:49.000Z</published>
    <updated>2021-03-16T08:51:03.054Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æ˜¯ç‰¹æ®Šæ—¶æœŸï¼Œéƒ½åœ¨å¼ºè°ƒç³»ç»Ÿæ€§èƒ½çš„ä¼˜åŒ–ã€‚åœ¨å¸ˆå‚…çš„æŒ‡å¯¼ä¸‹ï¼Œå¯¹ç³»ç»Ÿä¸­ä¸€ä¸ªæ¯”è¾ƒè´¹åŠ²çš„åŠŸèƒ½è¿›è¡Œäº†ä¼˜åŒ–ã€‚å¸ˆå‚…çš„ç†å¿µæ˜¯ï¼š <strong>èƒ½ç”¨SQLè§£å†³çš„é—®é¢˜ç»ä¸ç”¨ç¨‹åºå¤„ç†</strong> ã€‚åœ¨å®é™…åœºæ™¯ä¸‹ï¼Œé€šè¿‡ä¼˜åŒ–ï¼Œå°†3åˆ†é’Ÿæ— æ³•å®Œæˆçš„ä¸šåŠ¡ä¼˜åŒ–åˆ°äº†1åˆ†é’Ÿä»¥å†…ã€‚è™½ç„¶æ²¡æœ‰ä¼˜åŒ–åˆ°æè‡´ï¼Œä½†å¯¹SQLæŸ¥è¯¢æ€§èƒ½çš„äº†è§£å‰è¿›äº†ä¸€å¤§æ­¥ï¼Œäºæ˜¯ç¨å¾®è®°å½•ä¸€ä¸‹ã€‚</p><h1 id="å»ºç«‹ç´¢å¼•"><a class="markdownIt-Anchor" href="#å»ºç«‹ç´¢å¼•"></a> å»ºç«‹ç´¢å¼•</h1><p>ç´¢å¼•æ˜¯é¿å…å…¨è¡¨æ‰«æçš„ä¸€ä¸ªé‡è¦æ‰‹æ®µã€‚æœ‰ç´¢å¼•å’Œæ²¡æœ‰ç´¢å¼•ï¼Œå¥½çš„ç´¢å¼•å’Œå·®çš„ç´¢å¼•ï¼Œå¯¹äºæ€§èƒ½çš„å½±å“éƒ½æ˜¯ä¸åŒçš„ã€‚å¯¹äºç»å¸¸æŸ¥è¯¢çš„å­—æ®µå¯ä»¥å»ºç«‹ç´¢å¼•ï¼Œå¦‚ä¸»é”®ï¼›å¯¹äºç»å¸¸ç»„åˆæŸ¥è¯¢çš„å­—æ®µå¯ä»¥å»ºç«‹è”åˆç´¢å¼•ã€‚</p><p>è¿™æ¬¡é‡åˆ°çš„æƒ…å†µæ˜¯ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table1 <span class="keyword">where</span> a<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> b <span class="keyword">in</span> (?, ?);</span><br></pre></td></tr></table></figure><p>è¿™æ ·å­å¯ä»¥è€ƒè™‘å°† <code>(a, b)</code> å»ºç«‹ç»„åˆç´¢å¼•ã€‚</p><h1 id="ä½¿ç”¨inè¿›è¡Œæ‰¹é‡æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#ä½¿ç”¨inè¿›è¡Œæ‰¹é‡æŸ¥è¯¢"></a> ä½¿ç”¨INè¿›è¡Œæ‰¹é‡æŸ¥è¯¢</h1><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¸€æ¬¡æŸ¥è¯¢ä¹‹åå¯èƒ½ä¸ä¼šå®Œå…¨è¿”å›éœ€è¦çš„æ‰€æœ‰æ•°æ®ï¼Œè¿™æ—¶å€™ä¼šå¯¹æ¯ä¸€æ¡æ•°æ®è¿›è¡Œä¸€æ¬¡è¡¥å……æŸ¥è¯¢ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- è¿”å›åˆå§‹æ•°æ®</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table1 <span class="keyword">where</span> deleted <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å¯¹åˆå§‹æ•°æ®è¡¥å……æŸ¥è¯¢æ•°æ®</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table2 <span class="keyword">where</span> id <span class="operator">=</span> ? <span class="keyword">and</span> deleted <span class="operator">=</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ•°æ®æ¡ç›®æ¯”è¾ƒå¤šï¼Œä¼šé¢‘ç¹è¿›è¡Œè®¿é—®æ•°æ®åº“æ“ä½œã€‚</p><p>ä¸ºäº†å‡è½»æ•°æ®åº“çš„å‹åŠ›ï¼Œå¯ä»¥å°†ç¬¬ä¸€æ¬¡æŸ¥è¯¢åˆå§‹æ•°æ®åçš„å€¼æ•´åˆåˆ°åˆ—è¡¨ä¸­ï¼ŒæŸ¥è¯¢è¡¥å……æ•°æ®çš„æ—¶å€™é€šè¿‡ <strong>IN</strong> æ“ä½œä¸€æ¬¡å…¨éƒ¨æŸ¥è¯¢å‡ºæ¥ï¼Œç„¶ååœ¨å†…å­˜ä¸­è½¬æˆmapä¸åˆå§‹æ•°æ®å¯¹åº”ç»“åˆã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table2 <span class="keyword">where</span> deleted <span class="operator">=</span> <span class="number">0</span> <span class="keyword">and</span> id <span class="keyword">IN</span> (?, ?, ?);</span><br></pre></td></tr></table></figure><h1 id="é¿å…å°†ä¸åŒå­—æ®µä½œä¸ºæ¡ä»¶è¿›è¡ŒoræŸ¥è¯¢"><a class="markdownIt-Anchor" href="#é¿å…å°†ä¸åŒå­—æ®µä½œä¸ºæ¡ä»¶è¿›è¡ŒoræŸ¥è¯¢"></a> é¿å…å°†ä¸åŒå­—æ®µä½œä¸ºæ¡ä»¶è¿›è¡ŒORæŸ¥è¯¢</h1><p>ä½¿ç”¨ <strong>OR</strong> å¯ä»¥æŸ¥è¯¢å‡ºæ»¡è¶³å¤šä¸ªæ¡ä»¶ä¸­è‡³å°‘ä¸€ä¸ªæ¡ä»¶çš„æ•°æ®ã€‚ä½†æ˜¯å¦‚æœé‡åˆ°æ²¡æœ‰ç´¢å¼•çš„å­—æ®µï¼Œå¯èƒ½ä¼šé€ æˆæ— ç”¨çš„å…¨è¡¨æ‰«æã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table1 <span class="keyword">where</span> deleted <span class="operator">=</span> <span class="number">0</span> <span class="keyword">and</span> ( a <span class="operator">=</span> ? <span class="keyword">OR</span> b <span class="operator">=</span> ?);</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µä¸‹é€šè¿‡å°†ORè¿›è¡Œæ‹†åˆ†ï¼Œä½œä¸ºä¸¤ä¸ªselectè¯­å¥ï¼Œé€šè¿‡ <strong>UNION ALL</strong> çš„æ–¹å¼ç»“åˆæ•°æ®ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table1 <span class="keyword">where</span> deleted <span class="operator">=</span> <span class="number">0</span> <span class="keyword">and</span> a <span class="operator">=</span> ?</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table1 <span class="keyword">where</span> deleted <span class="operator">=</span> <span class="number">0</span> <span class="keyword">and</span> b <span class="operator">=</span> ?</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä½¿å¾—ä¸¤ä¸ªSQLå¯ä»¥åˆ†åˆ«æ ¹æ®è‡ªå·±çš„æ¡ä»¶è¿›è¡Œä¼˜åŒ–ï¼Œé¿å…å…¨è¡¨æ‰«æçš„å‡ºç°ã€‚</p><h1 id="é¿å…è¿›è¡Œå¤§é‡çš„joinæ“ä½œ"><a class="markdownIt-Anchor" href="#é¿å…è¿›è¡Œå¤§é‡çš„joinæ“ä½œ"></a> é¿å…è¿›è¡Œå¤§é‡çš„JOINæ“ä½œ</h1><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œéœ€è¦çš„æ•°æ®ä¼šå­˜åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨ä¸­ã€‚ä½¿ç”¨ <strong>JOIN</strong> å¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†å¤šä¸ªè¡¨ä¸­éœ€è¦çš„å­—æ®µæ•°æ®èšåˆèµ·æ¥ã€‚ä½†æ˜¯å¦‚æœJOINçš„è¡¨è¿‡å¤šï¼Œæ•°æ®åº“å¼•æ“ä¼šå…ˆå°†å„ä¸ªè¡¨æ ¹æ®JOINæ¡ä»¶èšåˆæˆä¸€ä¸ªå®½è¡¨ï¼Œç„¶åä»ä¸­æŸ¥è¯¢ã€‚JOINåè¡¨è®°å½•æ•°æ˜¯ä¹˜ç§¯å¼çš„å¢é•¿ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> t1.<span class="operator">*</span> <span class="keyword">from</span> table1 t1</span><br><span class="line">  <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> table2 t2 <span class="keyword">ON</span> t1.id<span class="operator">=</span>t2.t1_id</span><br><span class="line">  <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> table3 t3 <span class="keyword">ON</span> t1.id<span class="operator">=</span>t3.t1_id</span><br><span class="line">  <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> table4 t4 <span class="keyword">ON</span> t1.id<span class="operator">=</span>t4.t1_id</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">  t1.delted <span class="operator">=</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p>JOINçš„è¡¨ä¸æ˜“è¿‡å¤šï¼Œ1-2å¼ ä¸ºæ˜“ï¼Œæœ€è¿‘çœ‹åˆ°ä¸€å¼ JOINäº†5å¼ è¡¨çš„æŸ¥è¯¢ï¼Œè¿™æ ·åšçš„åŸå› æ˜¯æƒ³åœ¨SQLä¸­æŸ¥è¯¢å…¶å®ƒè¡¨ä¸­çš„å­—æ®µçš„èšåˆæ•°æ®ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥è€ƒè™‘ä½¿ç”¨å­æŸ¥è¯¢è¿›è¡Œæ”¹å†™ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> t1.<span class="operator">*</span></span><br><span class="line">    (<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> table2 t2 <span class="keyword">where</span> t2.t1_id<span class="operator">=</span>t1.id) t2_count,</span><br><span class="line">    (<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> table3 t3 <span class="keyword">where</span> t3.t1_id<span class="operator">=</span>t1.id) t3_count,</span><br><span class="line">    (<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> table4 t4 <span class="keyword">where</span> t4.t1_id<span class="operator">=</span>t1.id) t4_count,</span><br><span class="line"> <span class="keyword">from</span> table1 t1</span><br><span class="line"> <span class="keyword">where</span></span><br><span class="line">   t1.deleted <span class="operator">=</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p>å¦‚æœå®åœ¨éœ€è¦å…¶å®ƒè¡¨çš„ä¸€äº›å­—æ®µæ•°æ®ï¼Œå¯ä»¥å‚è€ƒå‰é¢æåˆ°çš„ <strong>æ‰¹é‡æŸ¥è¯¢</strong> çš„æ–¹æ³•ï¼Œå…ˆæ˜¯å‡ å¼ è¡¨è¿›è¡Œå…³è”æŸ¥å‡ºåŸºç¡€æ•°æ®ï¼Œç„¶åå…¶å®ƒè¡¨å…³è”æŸ¥è¯¢é™„åŠ æ•°æ®ï¼Œæœ€ååœ¨å†…å­˜ä¸­å¯¹è¿™äº›æ•°æ®è¿›è¡Œæ•´åˆã€‚</p><p>å¦‚æœè¿™æ ·å…³è”çš„è¡¨è¿˜æ˜¯å¾ˆå¤šï¼Œè¯´æ˜æ•°æ®åº“è®¾è®¡æœ‰é—®é¢˜ã€‚</p><h1 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h1><p>æ‹œæ‹œã€‚<img class="emoji" draggable="false" alt="âœ‹" src="https://twemoji.maxcdn.com/2/72x72/270b.png"/></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘æ˜¯ç‰¹æ®Šæ—¶æœŸï¼Œéƒ½åœ¨å¼ºè°ƒç³»ç»Ÿæ€§èƒ½çš„ä¼˜åŒ–ã€‚åœ¨å¸ˆå‚…çš„æŒ‡å¯¼ä¸‹ï¼Œå¯¹ç³»ç»Ÿä¸­ä¸€ä¸ªæ¯”è¾ƒè´¹åŠ²çš„åŠŸèƒ½è¿›è¡Œäº†ä¼˜åŒ–ã€‚å¸ˆå‚…çš„ç†å¿µæ˜¯ï¼š &lt;strong&gt;èƒ½ç”¨SQLè§£å†³çš„é—®é¢˜ç»ä¸ç”¨ç¨‹åºå¤„ç†&lt;/strong&gt; ã€‚åœ¨å®é™…åœºæ™¯ä¸‹ï¼Œé€šè¿‡ä¼˜åŒ–ï¼Œå°†3åˆ†é’Ÿæ— æ³•å®Œæˆçš„ä¸šåŠ¡ä¼˜åŒ–åˆ°äº†1åˆ†é’Ÿä»¥å†…ã€‚è™½ç„¶æ²¡æœ‰ä¼˜åŒ–åˆ°æè‡´ï¼Œä½†å¯¹S</summary>
      
    
    
    
    <category term="å®è·µ" scheme="https://sumygg.com/categories/%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="mysql" scheme="https://sumygg.com/tags/mysql/"/>
    
    <category term="sql" scheme="https://sumygg.com/tags/sql/"/>
    
    <category term="ä¼˜åŒ–" scheme="https://sumygg.com/tags/%E4%BC%98%E5%8C%96/"/>
    
    <category term="æ•°æ®åº“" scheme="https://sumygg.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªå®šä¹‰åŸŸååœ¨Github Pagesä¸­æ”¯æŒé€šè¿‡HTTPSè®¿é—®</title>
    <link href="https://sumygg.com/2018/05/28/custom-domains-on-github-pages-support-for-https/"/>
    <id>https://sumygg.com/2018/05/28/custom-domains-on-github-pages-support-for-https/</id>
    <published>2018-05-28T13:43:23.000Z</published>
    <updated>2021-03-16T08:51:03.053Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘<a href="https://blog.github.com/2018-05-01-github-pages-custom-domains-https/">Githubå®˜æ–¹åšå®¢</a>ä¸Šå·²ç»å®£å¸ƒè‡ªå®šä¹‰åŸŸåä¹Ÿæ”¯æŒé€šè¿‡HTTPSè¿›è¡Œè®¿é—®ã€‚ä¹‹å‰ä¹Ÿæ²¡æƒ³è¿‡è¦å¼„ä¸ªHTTPSï¼Œå€Ÿç€è¿™ä¸ªæœºä¼šå°±æä¸€æHTTPSè®¿é—®å§ã€‚ä¸è¿‡éƒ½ç°åœ¨äº†ï¼Œå·²ç»è¿‡äº†å°é²œæœŸäº†ã€‚</p><h1 id="æ›´æ–°åŸŸåè§£æåœ°å€"><a class="markdownIt-Anchor" href="#æ›´æ–°åŸŸåè§£æåœ°å€"></a> æ›´æ–°åŸŸåè§£æåœ°å€</h1><p>ä¹‹å‰å·²ç»å°†åŸŸåè®¿é—®æŒ‡å‘äº† <code>192.30.252.153</code> å’Œ <code>192.30.252.154</code>ï¼Œè¿™æ¬¡è¦ä½¿ç”¨æœ€æ–°çš„HTTPSéœ€è¦å°†åŸŸåè®°å½•æŒ‡å‘æ–°çš„IPåœ°å€ï¼Œå®˜æ–¹ç»™å‡ºäº†å››ç»„IPåœ°å€ï¼š</p><blockquote><p>185.199.108.153<br />185.199.109.153<br />185.199.110.153<br />185.199.111.153</p></blockquote><p>æˆ‘ç”¨äº†é¡¶çº§åŸŸåå½“åšåšå®¢çš„åŸŸåï¼Œå°†é¡¶çº§åŸŸåçš„Aè®°å½•å…¨éƒ¨æ¥å¸åˆ°äº†ä»¥ä¸Šå››ä¸ªIPåœ°å€ä¸Šã€‚è§£æè§„åˆ™å¦‚ä¸‹ï¼š</p><img src="/2018/05/28/custom-domains-on-github-pages-support-for-https/1.png" class="" title="DNSè§£æé…ç½®"><p>Githubä¸Šç»™å‡ºäº†å¾ˆè¯¦ç»†çš„è¯´æ˜ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹<a href="https://help.github.com/articles/using-a-custom-domain-with-github-pages/">å¦‚ä½•è‡ªå®šä¹‰åŸŸå</a>ã€‚</p><h1 id="å¯ç”¨httpsåŸŸåè·³è½¬"><a class="markdownIt-Anchor" href="#å¯ç”¨httpsåŸŸåè·³è½¬"></a> å¯ç”¨HTTPSåŸŸåè·³è½¬</h1><p>ä¿®æ”¹åŸŸåè§£æä¹‹åæ ¹æ®è§£ææ—¶é—´çš„é•¿çŸ­ï¼Œéœ€è¦å‡ ä¸ªå°æ—¶åˆ°1å¤©ä¸ç­‰çš„æ—¶é—´æ¥åŒæ­¥DNSè§£æã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥å»è®¾ç½®é‡Œçœ‹ä¸€çœ‹èƒ½ä¸èƒ½è¡Œã€‚</p><p>åœ¨Githubä¸Šï¼Œæ‰“å¼€ä½ å­˜æ”¾åšå®¢çš„é‚£ä¸ªä»“åº“ï¼Œé€‰æ‹© <strong>Settings</strong>ï¼Œåœ¨ â€œGitHub Pagesâ€ ä¸‹å¦‚æœå¯ä»¥é€‰ä¸­ <strong>Enforce HTTPS</strong> ï¼Œé‚£ä¹ˆæ­å–œä½ å·²ç»å¼€å¯HTTPSè§£æäº†ã€‚</p><p>ä½†å¤§å¤šæ•°æƒ…å†µè¿˜æ˜¯ä¼šå‡ºç° <strong>Unavailable for your site because your domain is not properly configured to support HTTPS</strong> çš„æç¤ºï¼š</p><img src="/2018/05/28/custom-domains-on-github-pages-support-for-https/2.png" class="" title="GitHub Pagesé…ç½®"><p>è¿™ä¸ªæ—¶å€™éœ€è¦å…ˆæ¸…ç©º <strong>Custom Domain</strong> é‡Œçš„è®¾ç½®ï¼Œä¿å­˜åé‡æ–°å¡«å…¥åŸŸåï¼Œè§¦å‘ä¸€ä¸‹Githubç”Ÿæˆé¡µé¢çš„æœºåˆ¶ã€‚å¦‚æœè¿™æ—¶å€™çœ‹åˆ° <strong>Not yet available for your site because the certificate has not finished being issued</strong> çš„æç¤ºï¼Œè¯´æ˜å†ç­‰ä¸€æ®µæ—¶é—´ï¼Œç­‰Githubä¸ºä½ çš„åŸŸåç­¾å‘è¯ä¹¦å°±é€‰ä¸­äº†ã€‚</p><p>æˆ‘åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œä¿®æ”¹äº†DNSè§£æï¼Œåˆ é™¤å¹¶æ·»åŠ åŸŸåå¥½å¤šæ¬¡éƒ½æ— æ³•æˆåŠŸç”Ÿæˆè¯ä¹¦ã€‚åæ¥å‘ç°ä¹‹å‰åœ¨DNSPodè®¾ç½®äº†åŸŸåè§£æï¼Œäºæ˜¯æŠŠä¸Šé¢çš„è§£æåˆ é™¤æ‰ã€‚è¿‡äº†ä¸€å¤©å·¦å³ï¼Œé€šè¿‡åœ¨çº¿DNSè§£ææµ‹è¯•ï¼Œå‘ç°æ‰€æœ‰çš„åŸŸåéƒ½å·²ç»è§£æåˆ°æ­£ç¡®çš„IPåœ°å€ä¸Šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> dig sumygg.com +noall +answer</span></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.10.3-P4-Ubuntu &lt;&lt;&gt;&gt; sumygg.com +noall +answer</span><br><span class="line">;; global options: +cmd</span><br><span class="line">sumygg.com. 6332 IN A 185.199.111.153</span><br><span class="line">sumygg.com. 6332 IN A 185.199.110.153</span><br><span class="line">sumygg.com. 6332 IN A 185.199.108.153</span><br><span class="line">sumygg.com. 6332 IN A 185.199.109.153</span><br></pre></td></tr></table></figure><p>ä½†è¿˜æ˜¯æ— æ³•é€‰ä¸­ <strong>Enforce HTTPS</strong> ï¼Œæ— å¥ˆä¹‹ä¸‹ç”¨è¹©è„šçš„è‹±è¯­ç»™Github Staffå‘äº†é‚®ä»¶ï¼Œæœ€åStaffå¤§å¤§å¸®å¿™è§£å†³äº†é—®é¢˜ã€‚</p><blockquote><p>Hey there,</p><p>Thanks for reaching out! I just gave your certificate a nudge and you should be all set now.</p><p>Best,<br />Shawna</p></blockquote><p>å¯å–œå¯è´ºï¼Œå¯å–œå¯è´ºã€‚</p><img src="/2018/05/28/custom-domains-on-github-pages-support-for-https/3.png" class="" title="å°ç»¿é”"><h1 id="æ£€æŸ¥ç½‘ç«™å†…å®¹"><a class="markdownIt-Anchor" href="#æ£€æŸ¥ç½‘ç«™å†…å®¹"></a> æ£€æŸ¥ç½‘ç«™å†…å®¹</h1><p>æ¥ä¸‹æ¥è¦åšçš„äº‹æƒ…æ˜¯è®©ç½‘ç«™é»˜è®¤è·³è½¬åˆ°HTTPSï¼Œè¿™é‡Œä»ç½‘ä¸Š <em>å€Ÿé‰´</em> äº†ä¸€æ®µä»£ç ä»£ç å°±å¯ä»¥æå®šäº†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">if theme.forcehttps &#x3D;&#x3D; true</span><br><span class="line">  script.</span><br><span class="line">    (function (root) &#123;</span><br><span class="line">      &quot;use strict&quot;;</span><br><span class="line">      var h &#x3D; root ? root.location.hostname : &quot;&quot;,</span><br><span class="line">      p &#x3D; root ? root.location.protocol : &quot;&quot;;</span><br><span class="line">      if (&quot;http:&quot; &#x3D;&#x3D;&#x3D; p &amp;&amp; !(&#x2F;^(localhost|127.0.0.1)&#x2F;).test(h)) &#123;</span><br><span class="line">        root.location.protocol &#x3D; &quot;https:&quot;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)(&quot;undefined&quot; !&#x3D;&#x3D; typeof window ? window : this);</span><br></pre></td></tr></table></figure><p>ç”±äºHTTPSè®¿é—®ä¸­ä¸å…è®¸å‡ºç°httpå’Œhttpsé“¾æ¥æ··ç”¨çš„æƒ…å†µï¼Œéœ€è¦æ£€æŸ¥ä½ ç½‘ç«™ä¸­çš„é“¾æ¥ï¼Œæƒ³åŠæ³•å°†httpå‡çº§åˆ°httpsã€‚</p><p>å…¶å®ƒçš„ä»¥åå†è¯´å§ï¼Œæˆ‘å…ˆå»å˜šç‘Ÿä¸€ä¸‹äº†ã€‚<img class="emoji" draggable="false" alt="ğŸ˜" src="https://twemoji.maxcdn.com/2/72x72/1f60e.png"/></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘&lt;a href=&quot;https://blog.github.com/2018-05-01-github-pages-custom-domains-https/&quot;&gt;Githubå®˜æ–¹åšå®¢&lt;/a&gt;ä¸Šå·²ç»å®£å¸ƒè‡ªå®šä¹‰åŸŸåä¹Ÿæ”¯æŒé€šè¿‡HTTPSè¿›è¡Œè®¿é—®ã€‚ä¹‹å‰ä¹Ÿæ²¡æƒ³è¿‡è¦å¼„ä¸ªHTTPSï¼Œå€Ÿ</summary>
      
    
    
    
    <category term="ç½‘ç«™" scheme="https://sumygg.com/categories/%E7%BD%91%E7%AB%99/"/>
    
    
    <category term="github" scheme="https://sumygg.com/tags/github/"/>
    
    <category term="https" scheme="https://sumygg.com/tags/https/"/>
    
    <category term="åŸŸå" scheme="https://sumygg.com/tags/%E5%9F%9F%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªå¤„ç†JavaScriptæ—¥æœŸçš„æ—¶å€™å‡ºç°çš„é—®é¢˜</title>
    <link href="https://sumygg.com/2018/05/21/a-plus-one-day-problem-in-javascript/"/>
    <id>https://sumygg.com/2018/05/21/a-plus-one-day-problem-in-javascript/</id>
    <published>2018-05-21T12:29:53.000Z</published>
    <updated>2021-03-16T08:51:03.053Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œæœ‰åŠå¹´ä¹‹ä¹…äº†å§ã€‚ä»Šå¤©å°±ä¹‹å‰é‡åˆ°çš„ä¸€ä¸ªbugèŠä¸€èŠåœ¨ç”¨JavaScriptå¤„ç†æ—¥æœŸçš„æ—¶å€™å‡ºç°çš„ä¸€ä¸ªé—®é¢˜ã€‚</p><p>ä»£ç éœ€è¦è·å–startDateå’ŒendDateä¹‹é—´çš„æ‰€æœ‰é—´éš”çš„å¤©æ•°ï¼Œä¼ å…¥çš„æ—¥æœŸæ ¼å¼ä¸º <code>YYYY-MM-DD</code> ã€‚ä»£ç çš„é€»è¾‘å¾ˆæ˜æœ—ï¼Œè®¾ç½®å¼€å§‹æ—¶é—´ï¼Œç»™å¼€å§‹æ—¶é—´å¢åŠ å¤©æ•°ï¼Œä¸ç»“æŸæ—¶é—´ç›¸æ¯”è¾ƒï¼Œç›´åˆ°å¤šäºç»“æŸæ—¶é—´ä¸ºæ­¢ã€‚å½“æ—¶çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”Ÿæˆæ—¥æœŸåˆ—è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDateList</span>(<span class="params">startDate, endDate</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> datas = [];</span><br><span class="line">    <span class="keyword">if</span> (startDate == endDate) &#123;</span><br><span class="line">        <span class="keyword">var</span> date = &#123;&#125;;</span><br><span class="line">        date.dataDate = getDate(startDate);</span><br><span class="line">        datas.push(date);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//è®¡ç®—å‡ºè®¾ç½®çš„å¼€å§‹æ—¶é—´</span></span><br><span class="line">        <span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        myDate.setFullYear(startDate.split(<span class="string">&quot;-&quot;</span>)[<span class="number">0</span>]);</span><br><span class="line">        myDate.setMonth(startDate.split(<span class="string">&quot;-&quot;</span>)[<span class="number">1</span>] - <span class="number">1</span>);</span><br><span class="line">        myDate.setDate(startDate.split(<span class="string">&quot;-&quot;</span>)[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ·»åŠ ç¬¬ä¸€å¤©</span></span><br><span class="line">        <span class="keyword">var</span> sd = getDate(startDate); <span class="comment">//å¼€å§‹æ—¶é—´è½¬æ¢æˆyyyyMMddæ ¼å¼</span></span><br><span class="line">        <span class="keyword">var</span> ed = getDate(endDate); <span class="comment">//ç»“æŸæ—¶é—´è½¬æ¢æˆyyyyMMddæ ¼å¼</span></span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (sd &lt;= ed) &#123; <span class="comment">//å½“å¾ªç¯åˆ°æ—¶é—´å¤§äºç»“æŸæ—¶é—´ï¼Œåˆ™é€€å‡ºå¾ªç¯</span></span><br><span class="line">            <span class="comment">//ä»å¼€å§‹æ—¶é—´æ²¡å¾ªç¯ä¸€æ¬¡å¢åŠ ä¸€å¤©</span></span><br><span class="line">            <span class="keyword">var</span> date = &#123;&#125;;</span><br><span class="line">            date.dataDate = sd;</span><br><span class="line">            datas.push(date);</span><br><span class="line">            i++;</span><br><span class="line">            sd = getDate(addDate(myDate, i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> datas;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹ä¸€çœ‹ä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å°±åœ¨ä»Šå¹´çš„1æœˆ31æ—¥çš„æ—¶å€™ï¼Œæœ‰äººåé¦ˆï¼Œè¯¥ä»£ç çš„åŠŸèƒ½æ— æ³•ä½¿ç”¨ï¼Œè·å–çš„æ—¶é—´åˆ—è¡¨ä¸æ­£ç¡®ï¼Œå¹¶æä¾›äº†100%å¤ç°çš„æ–¹æ³•ã€‚å°±è¿™æ ·å¼€å§‹äº†çº ç»“çš„debugä¹‹æ—…ã€‚</p><p>å¥‡æ€ªçš„åœ°æ–¹æœ‰ä¸‰ç‚¹ï¼š</p><ol><li>è§¦å‘æ—¶é—´ã€‚ä¹‹å‰ä¸€ç›´æ­£å¸¸ï¼Œåå31å·çš„æ—¶å€™ä½¿ç”¨ä¸æ­£å¸¸ã€‚</li><li>bugè¡Œä¸ºã€‚è¡¨ç°æ˜¯è·å–çš„æ—¶é—´åˆ—è¡¨åªå‡ºç°ä¸€ä¸ªå€¼ã€‚</li><li>å‡‘æ•°ç”¨çš„ç¬¬ä¸‰ç‚¹ï¼ˆå¿½ç•¥æ‰ã€‚ã€‚ã€‚</li></ol><p>æœ€åï¼Œè¿˜æ˜¯é€šè¿‡Consoleçš„å•æ­¥Debugæ‰¾åˆ°çš„é—®é¢˜çš„æ‰€åœ¨ã€‚åŸæ¥åœ¨ä¿®æ”¹æ—¥æœŸçš„æ—¶å€™ï¼Œåˆ†åˆ«èµ‹å€¼äº†å¹´ã€æœˆã€æ—¥ã€‚ç”±äºä¿®æ”¹ä¸æ˜¯ä¸€æ¬¡å®Œæˆï¼ŒæœŸé—´å°±ä¼šå‡ºç°éæ³•æ—¥æœŸï¼Œæµè§ˆå™¨ä¼šä¿®æ­£è¿™ä¸ªéæ³•æ—¥æœŸã€‚</p><p>ä»¥ä»Šå¤©ä¸º2018å¹´1æœˆ31æ—¥ï¼Œè®¾ç½®â€œ2017-11-11â€ä¸ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="built_in">Date</span>(); <span class="comment">// 2018-1-31</span></span><br><span class="line">myDate.setFullYear(startDate.split(<span class="string">&quot;-&quot;</span>)[<span class="number">0</span>]); <span class="comment">// 2017-1-31</span></span><br><span class="line">myDate.setMonth(startDate.split(<span class="string">&quot;-&quot;</span>)[<span class="number">1</span>] - <span class="number">1</span>); <span class="comment">// 2017-11-31 æ—¥æœŸéæ³•ï¼Œä¿®æ­£åˆ°ä¸€ä¸ªç›¸é‚»çš„æ—¥æœŸ 2017-12-1</span></span><br><span class="line">myDate.setDate(startDate.split(<span class="string">&quot;-&quot;</span>)[<span class="number">2</span>]); <span class="comment">// 2017-12-11</span></span><br></pre></td></tr></table></figure><p>æˆ‘å†™äº†ä¸€ä¸ªjsfiddleå°ç‰‡æ®µï¼Œå¯ä»¥ç”¨æ¥å•æ­¥è°ƒè¯•ä¸€ä¸‹ä¸Šè¿°é—®é¢˜çš„è¿‡ç¨‹ã€‚</p><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/p9u16zfg/embedded/html,js,result/light" frameborder="0" loading="lazy" allowfullscreen></iframe><p>è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œåªè¦ä¿è¯å¹´æœˆæ—¥ä¸€æ¬¡èµ‹å€¼è¿›å»å°±å¯ä»¥äº†ï¼Œæœ€å¥½ç›´æ¥çš„æ–¹æ³•å°±æ˜¯åœ¨æ„é€ å‡½æ•°é‡ŒæŒ‡å®šè¦èµ‹å€¼çš„å¹´æœˆæ—¥ <code>new Date(2017, 11, 11)</code> ã€‚</p><p>å°±è¿™æ ·åˆæ¶ˆç­äº†ä¸€ä¸ªbugï¼Œä¸–ç•Œå†æ¬¡å’Œå¹³äº†ã€‚ã€‚ã€‚<img class="emoji" draggable="false" alt="ğŸ˜¸" src="https://twemoji.maxcdn.com/2/72x72/1f638.png"/></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œæœ‰åŠå¹´ä¹‹ä¹…äº†å§ã€‚ä»Šå¤©å°±ä¹‹å‰é‡åˆ°çš„ä¸€ä¸ªbugèŠä¸€èŠåœ¨ç”¨JavaScriptå¤„ç†æ—¥æœŸçš„æ—¶å€™å‡ºç°çš„ä¸€ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç éœ€è¦è·å–startDateå’ŒendDateä¹‹é—´çš„æ‰€æœ‰é—´éš”çš„å¤©æ•°ï¼Œä¼ å…¥çš„æ—¥æœŸæ ¼å¼ä¸º &lt;code&gt;YYYY-MM-DD&lt;/code&gt; ã€‚ä»£ç </summary>
      
    
    
    
    <category term="é—®é¢˜éº»çƒ¦" scheme="https://sumygg.com/categories/%E9%97%AE%E9%A2%98%E9%BA%BB%E7%83%A6/"/>
    
    
    <category term="javascript" scheme="https://sumygg.com/tags/javascript/"/>
    
    <category term="æ—¥æœŸæ—¶é—´" scheme="https://sumygg.com/tags/%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4/"/>
    
  </entry>
  
  <entry>
    <title>åˆ¶ä½œã€Šæ±‚ç”Ÿä¹‹è·¯2ã€‹å–·æ¼†</title>
    <link href="https://sumygg.com/2017/09/23/make-left4dead2-spray-paint-from-new-game-op/"/>
    <id>https://sumygg.com/2017/09/23/make-left4dead2-spray-paint-from-new-game-op/</id>
    <published>2017-09-23T07:37:59.000Z</published>
    <updated>2021-03-16T08:51:03.007Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æ¯”è¾ƒè¿·ã€Šæ±‚ç”Ÿä¹‹è·¯2ã€‹ï¼Œä¸è¿‡ç°åœ¨çš„æ°´å¹³ä¹Ÿåªèƒ½æ‰“æ‰“æ™®é€šéš¾åº¦ã€‚ç½‘ä¸Šæœ‰è®¸å¤šä¸ªäººçš„æœåŠ¡å™¨ï¼Œå¯ä»¥æ”¯æŒå¤šäº4äººçš„æ¸¸æˆã€‚æ¸¸æˆäººå¤šäº†å°±æ„Ÿè§‰æ¯”è¾ƒæœ‰æ„æ€äº†ã€‚è¿‡ç¨‹ä¸­çœ‹åˆ°å¥½å¤šäººéƒ½ä¼šå¾€å¢™ä¸Šæˆ–åœ°ä¸Šç”»ä¸€äº›ä¸ªæ€§çš„å›¾ç”»ï¼ˆæˆ–è€…ä¸å¯æè¿°çš„å›¾ç‰‡ï¼‰ï¼Œæ„Ÿè§‰æ¯”è¾ƒæœ‰æ„æ€ã€‚æŸ¥äº†æŸ¥å‘ç°åˆ¶ä½œå–·æ¼†ä¹Ÿå¾ˆç®€å•ï¼Œäºæ˜¯æ‰“ç®—åŠ¨æ‰‹åˆ¶ä½œä¸€ä¸ªã€‚<img class="emoji" draggable="false" alt="ğŸ˜‹" src="https://twemoji.maxcdn.com/2/72x72/1f60b.png"/></p><h1 id="å·¥å…·"><a class="markdownIt-Anchor" href="#å·¥å…·"></a> å·¥å…·</h1><p>å·²çŸ¥å–·æ¼†çš„ç±»å‹æœ‰å‡ ç§ï¼šæ™®é€šè´´å›¾å–·æ¼†ã€è·ç¦»å˜æ¢å–·æ¼†ã€åŠ¨å›¾å–·æ¼†ã€‚å–·æ¼†çš„åŸç†å…¶å®åªæ˜¯ä¸€å¸§ä¸€å¸§çš„å›¾ç‰‡è½®ç•ªæ˜¾ç¤ºè€Œå·²ã€‚æƒ³åšä¸€ä¸ªåŠ¨å›¾çš„å–·æ¼†ã€‚</p><p>éœ€è¦çš„å·¥å…·ï¼š</p><ol><li>vtfedit-ä¸»è¦ç”¨æ¥ç¼–è¾‘å’Œç”Ÿæˆå–·æ¼†æ–‡ä»¶</li><li>ScreenToGif-é›†å±å¹•å½•åˆ¶å’Œgifç¼–è¾‘äºä¸€èº«çš„å·¥å…·</li></ol><h1 id="åˆ¶ä½œ"><a class="markdownIt-Anchor" href="#åˆ¶ä½œ"></a> åˆ¶ä½œ</h1><h2 id="æ¥æºå›¾ç‰‡"><a class="markdownIt-Anchor" href="#æ¥æºå›¾ç‰‡"></a> æ¥æºå›¾ç‰‡</h2><p>å–·æ¼†é€‰ç”¨çš„å›¾ç‰‡å½“ç„¶æ˜¯æœ€æœ€å¯çˆ±çš„æ—¥å¯Œç¾äº†<img class="emoji" draggable="false" alt="ğŸ˜" src="https://twemoji.maxcdn.com/2/72x72/1f60d.png"/>ï¼Œé€‰ç”¨äº†ã€ŠNEW GAMEï¼ï¼ã€‹opä¸­çš„ä¸€æ®µï¼Œâ€œè½»æŸ”å¦‚ç¾½æ¯›â€ã€‚ã€‚ã€‚</p><img src="/2017/09/23/make-left4dead2-spray-paint-from-new-game-op/rifumei.gif" class="" title="è½»æŸ”å¦‚ç¾½æ¯›"><p>è¿™ä¸ªgifä½¿ç”¨ScreenToGifå½•åˆ¶ã€‚ä¸ºäº†ç¼©å°ä½“ç§¯ï¼Œä¿®æ”¹äº†å›¾ç‰‡çš„å¤§å°ï¼Œåªæˆªå–äº†ä¸­é—´æ­£æ–¹å½¢çš„éƒ¨åˆ†ã€‚è¿˜æœ‰åˆ å»äº†å‡ å¸§ï¼Œè¿™æ ·çš„æ„Ÿè§‰ä¼¼ä¹æœ‰ç‚¹é¬¼ç•œï¼Œä¸è¿‡åœ¨æ¸¸æˆä¸­ä¼¼ä¹æ— æ‰€è°“ã€‚</p><img src="/2017/09/23/make-left4dead2-spray-paint-from-new-game-op/3.gif" class="" title="è½»æŸ”å¦‚ç¾½æ¯›"><p>æ¥ä¸‹æ¥ç»§ç»­ä½¿ç”¨ScreenToGifå°†gifçš„æ¯ä¸€å¸§å¯¼æˆä¸€å¼ å›¾ç‰‡ã€‚è¿™æ ·æ•´ä¸ªgifå°±å˜æˆäº†ç›¸å†Œé›†äº†ã€‚</p><p>çœ‹ç€æœ‰ç‚¹æ™ƒçœ¼<img class="emoji" draggable="false" alt="ğŸ˜–" src="https://twemoji.maxcdn.com/2/72x72/1f616.png"/>ï¼Œå¿«ç‚¹ç»§ç»­ã€‚ã€‚ã€‚</p><h2 id="åˆ¶ä½œå–·æ¼†"><a class="markdownIt-Anchor" href="#åˆ¶ä½œå–·æ¼†"></a> åˆ¶ä½œå–·æ¼†</h2><p>æŒ‰å¸§å¯¼å‡ºå›¾ç‰‡ä¹‹åï¼Œè¦ç”¨vtfeditå·¥å…·åˆ¶ä½œå–·æ¼†ã€‚</p><img src="/2017/09/23/make-left4dead2-spray-paint-from-new-game-op/2.png" class="" title="æŒ‰å¸§å¯¼å‡ºå›¾ç‰‡"><p>æ‰“å¼€VTFEditè½¯ä»¶ï¼Œé€‰æ‹©File-&gt;Importâ€¦ï¼ŒæŒ‰ä½Shitfæˆ–Ctrlé€‰æ‹©å¯¼å‡ºå›¾ç‰‡çš„æ‰€æœ‰å¸§ã€‚é€‰æ‹©åå‡ºç°VTF Optionså¯¹è¯æ¡†ã€‚</p><img src="/2017/09/23/make-left4dead2-spray-paint-from-new-game-op/3.png" class="" title="å›¾ç‰‡å¯¼å…¥é€‰é¡¹"><p>å¯¼å…¥é€‰é¡¹å…¶ä½™çš„æ²¡æœ‰è¦ä¿®æ”¹çš„ï¼Œéœ€è¦æ³¨æ„è°ƒæ•´Clampå¤§å°ï¼Œä¸ºäº†å‡å°‘æ–‡ä»¶ä½“ç§¯ï¼Œè¿™é‡Œé€‰æ‹©64x64å¤§å°çš„ã€‚å¯ä»¥å¤šåˆ¶ä½œå‡ ä¸ªé€‰æ‹©ä¸åŒå¤§å°æµ‹è¯•ä¸€ä¸‹ï¼Œæ–‡ä»¶ä½“ç§¯å°½é‡ä¿æŒåœ¨100kbå·¦å³å§ã€‚</p><img src="/2017/09/23/make-left4dead2-spray-paint-from-new-game-op/4.png" class="" title="å¯¼å…¥å"><p>å¯¼å…¥åç‚¹å‡»Playå°±èƒ½æ’­æ”¾ï¼Œæ’­æ”¾æ„Ÿè§‰é€Ÿåº¦ä¼šå¾ˆå¿«ï¼Œä½†æ˜¯æ¸¸æˆä¸­çš„é€Ÿåº¦æ²¡æœ‰è¿™ä¹ˆå¿«ã€‚è¿˜æœ‰å¤§å°ä¹Ÿæ²¡æœ‰çœ‹åˆ°çš„è¿™ä¹ˆå°ï¼Œæ¸¸æˆä¸­å°±æ„Ÿè§‰å¾ˆå¤§çš„æ ·å­äº†ã€‚</p><p>æœ€åé€šè¿‡File-&gt;Saveâ€¦ä¿å­˜æˆvtfå–·æ¼†æ–‡ä»¶ã€‚</p><h2 id="å¯¼å…¥å–·æ¼†"><a class="markdownIt-Anchor" href="#å¯¼å…¥å–·æ¼†"></a> å¯¼å…¥å–·æ¼†</h2><p>æ‰“å¼€æ¸¸æˆï¼Œåœ¨ä¸»ç•Œé¢é€‰æ‹©â€œé€‰é¡¹â€-&gt;â€œå¤šäººè”æœºâ€ï¼Œä¸‹é¢æœ‰ä¸ªâ€œå¯¼å…¥å–·æ¼†å›¾æ¡ˆâ€¦â€çš„èœå•ã€‚ç”±äºæ¸¸æˆå¯¹ä¸­æ–‡æ”¯æŒä¸å¤Ÿå¥½ï¼Œå–·æ¼†éœ€è¦æ”¾åœ¨å…¨è‹±æ–‡è·¯å¾„ä¸‹ï¼Œæ–‡ä»¶åä¹Ÿæ˜¯è‹±æ–‡å­—ç¬¦å³å¯ã€‚</p><p>å¯¼å…¥å–·æ¼†åå°±å¯ä»¥åœ¨æ¸¸æˆä¸­ä½¿ç”¨äº†ã€‚å–·æ¼†çš„å¿«æ·é”®é»˜è®¤æ˜¯Tã€‚</p><p>æ¸¸æˆä¸­çš„æ•ˆæœå¤§æ¦‚æ˜¯è¿™æ ·å­ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ã€‚</p><img src="/2017/09/23/make-left4dead2-spray-paint-from-new-game-op/5.png" class="" title="æ•ˆæœå›¾">]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘æ¯”è¾ƒè¿·ã€Šæ±‚ç”Ÿä¹‹è·¯2ã€‹ï¼Œä¸è¿‡ç°åœ¨çš„æ°´å¹³ä¹Ÿåªèƒ½æ‰“æ‰“æ™®é€šéš¾åº¦ã€‚ç½‘ä¸Šæœ‰è®¸å¤šä¸ªäººçš„æœåŠ¡å™¨ï¼Œå¯ä»¥æ”¯æŒå¤šäº4äººçš„æ¸¸æˆã€‚æ¸¸æˆäººå¤šäº†å°±æ„Ÿè§‰æ¯”è¾ƒæœ‰æ„æ€äº†ã€‚è¿‡ç¨‹ä¸­çœ‹åˆ°å¥½å¤šäººéƒ½ä¼šå¾€å¢™ä¸Šæˆ–åœ°ä¸Šç”»ä¸€äº›ä¸ªæ€§çš„å›¾ç”»ï¼ˆæˆ–è€…ä¸å¯æè¿°çš„å›¾ç‰‡ï¼‰ï¼Œæ„Ÿè§‰æ¯”è¾ƒæœ‰æ„æ€ã€‚æŸ¥äº†æŸ¥å‘ç°åˆ¶ä½œå–·æ¼†ä¹Ÿå¾ˆç®€å•ï¼Œäºæ˜¯æ‰“ç®—åŠ¨æ‰‹åˆ¶ä½œä¸€ä¸ª</summary>
      
    
    
    
    <category term="æ¸¸æˆäººç”Ÿ" scheme="https://sumygg.com/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F/"/>
    
    
    <category term="æ¸¸æˆ" scheme="https://sumygg.com/tags/%E6%B8%B8%E6%88%8F/"/>
    
    <category term="æ±‚ç”Ÿä¹‹è·¯2" scheme="https://sumygg.com/tags/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF2/"/>
    
    <category term="å–·æ¼†" scheme="https://sumygg.com/tags/%E5%96%B7%E6%BC%86/"/>
    
    <category term="newgame" scheme="https://sumygg.com/tags/newgame/"/>
    
    <category term="æ—¥å¯Œç¾" scheme="https://sumygg.com/tags/%E6%97%A5%E5%AF%8C%E7%BE%8E/"/>
    
  </entry>
  
  <entry>
    <title>æ·±æœ&amp;å¹¿æœä¸€äºŒä¸‰</title>
    <link href="https://sumygg.com/2017/09/11/breadth-first-search-and-depth-first-search-one-two-three/"/>
    <id>https://sumygg.com/2017/09/11/breadth-first-search-and-depth-first-search-one-two-three/</id>
    <published>2017-09-11T08:12:22.000Z</published>
    <updated>2021-03-16T08:51:03.007Z</updated>
    
    <content type="html"><![CDATA[<p>æœç´¢æ˜¯ä¸€ç§æ±‚è§£çš„æ–¹æ³•ï¼Œé€šå¸¸æ¥è¯´å°±æ˜¯å°†æ‰€æœ‰æƒ…å†µæ¢ç´¢ä¸€éï¼Œæ‰¾å‡ºå…¶ä¸­ç¬¦åˆè¦æ±‚çš„æƒ…å†µä½œä¸ºæœ€åçš„è§£ã€‚æŒ‰ç…§ç”Ÿæˆè§£çš„é¡ºåºæœ‰ä¸¤ç§åŸºæœ¬çš„æ±‚è§£é¡ºåºï¼š<strong>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDepth-first Searchï¼‰</strong> å’Œ <strong>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBreadth-first searchï¼‰</strong>ã€‚å…³äºè¿™ä¸¤ç§æœç´¢æ–¹å¼çš„åŸºæœ¬åŸç†ä¸åšè¿‡å¤šä»‹ç»äº†ï¼Œä¸‹é¢åªè¯´æ˜ä¸ªäººå¯¹è¿™ä¸¤ç§æœç´¢æ–¹å¼çš„ä¸€äº›ç†è§£ã€‚</p><h1 id="æ·±åº¦ä¼˜å…ˆæœç´¢"><a class="markdownIt-Anchor" href="#æ·±åº¦ä¼˜å…ˆæœç´¢"></a> æ·±åº¦ä¼˜å…ˆæœç´¢</h1><p>æ·±åº¦ä¼˜å…ˆæœç´¢ä¿—ç§°dfsï¼Œæ ¸å¿ƒå®ç°æ–¹å¼æ˜¯ä¾é™„äºé€’å½’ã€‚é€‚ç”¨äºéœ€è¦æ±‚è§£å‡ºæ‰€æœ‰å¯èƒ½è§£çš„é—®é¢˜ï¼Œåœ¨åˆ°è¾¾é—®é¢˜ç•Œé™ä¹‹å‰ä¼šä¸€ç›´é€’å½’ä¸‹å»ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">dfs() &#123;</span><br><span class="line">  if(åˆ°è¾¾ç›®æ ‡é€’å½’æ·±åº¦) &#123;</span><br><span class="line">    åˆ¤æ–­å½“å‰çŠ¶æ€æ˜¯å¦ä¸ºè§£ï¼Ÿ-&gt;æ·»åŠ å½“å‰çŠ¶æ€åˆ°è§£é›†åˆ</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  for(i in æ‰€æœ‰å¯èƒ½æƒ…å†µ) &#123;</span><br><span class="line">    if(iè¿˜æœªè¿›è¡Œæœç´¢) &#123;</span><br><span class="line">      æ ‡è®°iå·²æœç´¢</span><br><span class="line">      dfs()</span><br><span class="line">      è¿˜åŸç°åœºï¼ˆæ ‡è®°iæœªæœç´¢ï¼‰</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥<a href="https://leetcode.com/problems/permutations/description/">LeetCode Q46 Permutations</a>ä¾‹å­ä¸ºä¾‹ï¼Œè¯¥é¢˜ç›®è¦æ±‚è¾“å‡ºä¸€ç»„æ•°å­—çš„å…¨æ’åˆ—ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; ans, List&lt;Integer&gt; tmp, <span class="keyword">int</span>[] nums, <span class="keyword">boolean</span>[] visited, <span class="keyword">int</span> cnt)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cnt == nums.length) &#123;                       <span class="comment">// å·²éå†çš„æ•°å­—ä¸ªæ•° ç­‰äº æ‰€æœ‰æ•°å­—çš„ä¸ªæ•°</span></span><br><span class="line">        ans.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tmp));              <span class="comment">// ä¿å­˜å½“å‰è§£</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;         <span class="comment">// éå†æ‰€æœ‰å¯èƒ½çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (!visited[i]) &#123;                          <span class="comment">// è¯¥æƒ…å†µæœªè¢«è®¿é—®</span></span><br><span class="line">            visited[i] = <span class="keyword">true</span>;                      <span class="comment">// æ ‡è®°</span></span><br><span class="line">            tmp.add(nums[i]);</span><br><span class="line">            dfs(ans, tmp, nums, visited, cnt + <span class="number">1</span>);  <span class="comment">// é€’å½’</span></span><br><span class="line">            tmp.remove(tmp.size() - <span class="number">1</span>);             <span class="comment">// è¿˜åŸ</span></span><br><span class="line">            visited[i] = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦ä¿å­˜çš„çŠ¶æ€æœ‰ï¼šansï¼ˆå­˜å‚¨æ‰€æœ‰çš„æ’åˆ—ï¼‰ã€tmpï¼ˆåˆ°è¾¾å½“å‰ä½ç½®éå†è¿‡çš„æ•°å­—ï¼‰ã€numsï¼ˆæ•°å­—æ•°ç»„ï¼‰ã€visitedï¼ˆæ•°å­—æ˜¯å¦éå†è¿‡ï¼Œé˜²æ­¢åœ¨ä¸€æ¡è·¯å¾„ä¸­ç›¸åŒæ•°å­—éå†å¤šæ¬¡ï¼‰ï¼Œcntï¼ˆå½“å‰éå†äº†å¤šå°‘æ•°å­—äº†ï¼‰ã€‚</p><p>ä¾é äºé€’å½’çš„æ·±æœå¤§ä½“ç»“æ„æ˜¯ä¸ä¼šå˜åŒ–çš„ã€‚éœ€è¦æ³¨æ„çš„ç‚¹æœ‰ï¼šå‚æ•°è®°å½•çš„çŠ¶æ€ã€è¿‡æ»¤æ‰ä¸å¯èƒ½çš„çŠ¶æ€ã€çŠ¶æ€çš„ä¿å­˜å’Œè¿˜åŸã€‚</p><h1 id="å¹¿åº¦ä¼˜å…ˆæœç´¢"><a class="markdownIt-Anchor" href="#å¹¿åº¦ä¼˜å…ˆæœç´¢"></a> å¹¿åº¦ä¼˜å…ˆæœç´¢</h1><p>å¹¿åº¦ä¼˜å…ˆæœç´¢ç®€ç§°bfsï¼Œä¹Ÿæ˜¯é€šå¸¸æ‰€è¯´çš„å±‚çº§éå†ã€‚bfsé€‚ç”¨äºé‚£äº›æœ€å°æˆ–æœ€çŸ­é—®é¢˜çš„æ±‚è§£ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡é˜Ÿåˆ—æˆ–ä¼˜å…ˆé˜Ÿåˆ—ä¿å­˜çŠ¶æ€ï¼Œä¼˜å…ˆé€‰æ‹©çœ‹ä¼¼æœ€ä¼˜çš„çŠ¶æ€è¿›è¡Œæ‰©å±•ï¼Œå·²è¾¾åˆ°æœ€å…ˆæ‰©å±•åˆ°ç›®æ ‡èŠ‚ç‚¹çš„ç›®çš„ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">bfs()&#123;</span><br><span class="line">  é˜Ÿåˆ—queue</span><br><span class="line">  queue.add(åˆå§‹çŠ¶æ€);</span><br><span class="line">  ç½®åˆå§‹çŠ¶æ€è®¿é—®</span><br><span class="line">  while(!queue.empty()) &#123;</span><br><span class="line">    å½“å‰çŠ¶æ€ cur &#x3D; queue.poll();</span><br><span class="line">    å¤„ç†å½“å‰çŠ¶æ€ï¼ˆç¬¦åˆæ¡ä»¶è®°å½•æˆ–è¿”å›ï¼‰</span><br><span class="line"></span><br><span class="line">    for(curçš„æ‰€æœ‰å¯èƒ½çš„ä¸‹ä¸€ä¸ªçŠ¶æ€ --&gt; next) &#123;</span><br><span class="line">      if(nextæ²¡æœ‰è¢«è®¿é—®)&#123;</span><br><span class="line">          queue.add(next);</span><br><span class="line">          ç½®nextè®¿é—®</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¨¡æ¿æä¾›çš„æ˜¯ä¸€ç§æ±‚è§£æœ€è¿‘ã€æœ€çŸ­è§£çš„æ€è·¯ã€‚ä¸‹é¢ä»¥<a href="https://leetcode.com/problems/binary-tree-level-order-traversal/description/">LeetCode Q102 Binary Tree Level Order Traversal</a>ä¸ºä¾‹ã€‚è¯¥é¢˜è¦æ±‚æŒ‰å±‚æ¬¡è¾“å‡ºæ ‘çš„èŠ‚ç‚¹ï¼ŒåŒä¸€å±‚æ¬¡çš„èŠ‚ç‚¹æ”¾åˆ°ä¸€ä¸ªListä¸­ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNodeWrapper</span> </span>&#123;</span><br><span class="line">    TreeNode node;</span><br><span class="line">    <span class="keyword">int</span> level;</span><br><span class="line"></span><br><span class="line">    TreeNodeWrapper(TreeNode node, <span class="keyword">int</span> level) &#123;</span><br><span class="line">        <span class="keyword">this</span>.node = node;</span><br><span class="line">        <span class="keyword">this</span>.level = level;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> ans;</span><br><span class="line">    Queue&lt;TreeNodeWrapper&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(<span class="keyword">new</span> TreeNodeWrapper(root, <span class="number">0</span>));  <span class="comment">// ç½®åˆå§‹è®¿é—®çŠ¶æ€</span></span><br><span class="line">    List&lt;Integer&gt; levelNode = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span> (queue.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// å¤„ç†å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">        TreeNodeWrapper treenode = queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (treenode.level != ans.size()) &#123;</span><br><span class="line">            ans.add(levelNode);</span><br><span class="line">            levelNode = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        levelNode.add(treenode.node.val);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­</span></span><br><span class="line">        <span class="keyword">if</span> (treenode.node.left != <span class="keyword">null</span>)</span><br><span class="line">            queue.add(<span class="keyword">new</span> TreeNodeWrapper(treenode.node.left, treenode.level + <span class="number">1</span>));</span><br><span class="line">        <span class="keyword">if</span> (treenode.node.right != <span class="keyword">null</span>)</span><br><span class="line">            queue.add(<span class="keyword">new</span> TreeNodeWrapper(treenode.node.right, treenode.level + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    ans.add(levelNode);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>bfsä¸»è¦æ€è·¯æ˜¯å¯¹ä¸‹ä¸€ä¸ªçŠ¶æ€çš„é€‰å–å’ŒçŠ¶æ€çš„éå†ï¼Œåœ¨éå†æ ‘çš„æ—¶å€™ï¼ŒèŠ‚ç‚¹ä¼šæŒ‰ç…§å±‚æ¬¡ä»¥æ­¤æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œåœ¨å¤„ç†å®Œä¸€å±‚ä¹‹åï¼Œä¸‹ä¸€å±‚ä¹Ÿè‡ªç„¶è€Œç„¶çš„æ·»åŠ åˆ°äº†é˜Ÿåˆ—ä¸­ã€‚</p><h1 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h1><p>æ·±åº¦ä¼˜å…ˆæœç´¢å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢åªæ˜¯æœ€åŸºæœ¬çš„æœç´¢æ–¹å¼ï¼Œæœ‰å¥è¯è¯´ï¼Œé€šè¿‡æœç´¢å¯ä»¥è§£å†³æ‰€æœ‰çš„é—®é¢˜ã€‚å½“ç„¶åœ¨ä¸€äº›è§£ç©ºé—´å¾ˆå¤§çš„é—®é¢˜ä¸Šï¼Œæœç´¢ä¼šè€—è´¹å¾ˆå¤šçš„æ—¶é—´æ¥éå†æ‰€æœ‰çš„æƒ…å†µã€‚</p><p>ä¸ºäº†å‡å°‘æœç´¢éå†çš„ä¸å¿…è¦çš„è·¯å¾„ï¼Œå‡ºç°äº†å¾ˆå¤šå‰ªææˆ–è€…å«å˜ç§æ–¹å¼ï¼Œé€šè¿‡ä¸€äº›æ‰‹æ®µå°½å¯èƒ½çš„å‡å°‘è§£ç©ºé—´ã€‚è¿™äº›ç•™åˆ°ä»¥åå†æ…¢æ…¢å»äº†è§£å§ã€‚</p><p>ç»ˆäºï¼Œåˆæ°´å®Œäº†ä¸€ç¯‡åšå®¢ï¼Œå¼€å¿ƒ<img class="emoji" draggable="false" alt="ğŸ˜‚" src="https://twemoji.maxcdn.com/2/72x72/1f602.png"/>ã€‚ã€‚ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœç´¢æ˜¯ä¸€ç§æ±‚è§£çš„æ–¹æ³•ï¼Œé€šå¸¸æ¥è¯´å°±æ˜¯å°†æ‰€æœ‰æƒ…å†µæ¢ç´¢ä¸€éï¼Œæ‰¾å‡ºå…¶ä¸­ç¬¦åˆè¦æ±‚çš„æƒ…å†µä½œä¸ºæœ€åçš„è§£ã€‚æŒ‰ç…§ç”Ÿæˆè§£çš„é¡ºåºæœ‰ä¸¤ç§åŸºæœ¬çš„æ±‚è§£é¡ºåºï¼š&lt;strong&gt;æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDepth-first Searchï¼‰&lt;/strong&gt; å’Œ &lt;strong&gt;å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBreadth-firs</summary>
      
    
    
    
    <category term="ç®—æ³•" scheme="https://sumygg.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="æ·±æœ" scheme="https://sumygg.com/tags/%E6%B7%B1%E6%90%9C/"/>
    
    <category term="å¹¿æœ" scheme="https://sumygg.com/tags/%E5%B9%BF%E6%90%9C/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨Javaå®ç°C++::stdä¸­çš„upper_boundå’Œlower_bound</title>
    <link href="https://sumygg.com/2017/09/08/upper-bound-and-lower-bound-in-java/"/>
    <id>https://sumygg.com/2017/09/08/upper-bound-and-lower-bound-in-java/</id>
    <published>2017-09-08T08:30:18.000Z</published>
    <updated>2021-03-16T08:51:03.007Z</updated>
    
    <content type="html"><![CDATA[<p>Cppçš„Stdæ ‡å‡†åº“ä¸­åŒ…å«äº†å¾ˆå¤šç®—æ³•ï¼Œä»¥å‰å†™Cppçš„æ—¶å€™å—ç›ŠäºStdåº“ï¼Œç¡®å®æ–¹ä¾¿äº†ä¸å°‘ï¼Œåœ¨Javaè¯­è¨€ä¸‹è¿˜æ˜¯è¦æ…¢æ…¢é€‚åº”Javaè¯­è¨€çš„æ–¹å¼ã€‚</p><p>Javaæ²¡æœ‰è¿­ä»£å™¨æŒ‡é’ˆè¿™ä¸ªæ¦‚å¿µï¼Œæ‰€ä»¥å¾ˆå¤šå†…å®¹ä¸C++æœ‰æ‰€ä¸åŒã€‚Javaä¸­æœ‰äºŒåˆ†çš„å®ç°ï¼Œå«åš<code>java.util.Arrays.binarySearch()</code>ã€‚ä½¿ç”¨äºŒåˆ†çš„å‰ææ˜¯æ•°ç»„å¿…é¡»æœ‰åºï¼ˆä»å°åˆ°å¤§ï¼‰ã€‚å¦‚æœæ²¡æœ‰æ’åºï¼Œé‚£ä¹ˆæ–¹æ³•æ— æ³•ç¡®å®šè¿”å›å“ªä¸ªå€¼ã€‚å¯¹äºæœ‰åºçš„æ•°ç»„ï¼Œå¦‚æœæ•°ç»„ä¸­åŒ…å«å¤šä¸ªç›¸åŒçš„ç›®æ ‡å€¼ï¼Œæ–¹æ³•ä¹Ÿæ— æ³•ä¿è¯æ‰¾åˆ°çš„æ˜¯å“ªä¸€ä¸ªã€‚è‹¥æ‰¾åˆ°äº†ç›®æ ‡å€¼ï¼Œæ–¹æ³•ä¼šè¿”å›ç›®æ ‡å€¼æ‰€åœ¨çš„ä¸‹æ ‡ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œåˆ™æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯ä»¥æ’å…¥è¯¥å€¼çš„ä½ç½®ï¼Œä»¥è´Ÿæ•°è¡¨ç¤º <em>-(<em>æ’å…¥ç‚¹</em> - 1)</em> ã€‚</p><p>C++ä¸­ä¹Ÿæœ‰ç›¸åº”çš„äºŒåˆ†æŸ¥æ‰¾å‡½æ•° <code>std::binary_search</code> ä¸è¿‡è¯¥å‡½æ•°è¿”å›ä¸€ä¸ª <code>bool</code> å‹è¡¨ç¤ºæœ‰æ²¡æœ‰æ‰¾åˆ°ç›®æ ‡å€¼ã€‚ç›¸å¯¹äºäºŒåˆ†æŸ¥æ‰¾ï¼Œè¿˜æ˜¯æ›´å€¾å‘äºä½¿ç”¨ <code>std::lower_bound</code> å’Œ <code>std::upper_boudn</code> å‡½æ•°ã€‚</p><h1 id="lower_bound"><a class="markdownIt-Anchor" href="#lower_bound"></a> lower_bound</h1><p><code>lower_bound</code>æ˜¯æ‰¾åˆ°ç¬¬ä¸€ä¸ª<strong>å¤§äºç­‰äº</strong>valueçš„ä½ç½®ï¼Œæ¯”å¦‚ <code>[1, 2, 3, 3, 3, 4, 7, 8]</code> æŸ¥æ‰¾ <code>3</code> ä¼šè¿”å›ä¸‹æ ‡ä¸º2çš„ä½ç½®ï¼ŒæŸ¥æ‰¾ <code>6</code> ä¼šè¿”å›ä¸‹æ ‡ä¸º6çš„ä½ç½®ã€‚å¦‚æœæœªæ‰¾åˆ°åˆ™è¿”å›æ•°ç»„çš„é•¿åº¦ï¼ˆC++ä¸­ä¼šè¿”å›end()è¿­ä»£å™¨çš„ä½ç½®ï¼‰ã€‚</p><p>é¦–å…ˆæ¥çœ‹stdä¸­çš„ä¸€ä¸ªå®ç°ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">template&lt;class ForwardIt, class T&gt; ForwardIt lower_bound(ForwardIt first, ForwardIt last, const T&amp; value)</span><br><span class="line">&#123;</span><br><span class="line">    ForwardIt it;</span><br><span class="line">    <span class="keyword">typename</span> <span class="built_in">std</span>::iterator_traits&lt;ForwardIt&gt;::difference_type count, step;</span><br><span class="line">    count = <span class="built_in">std</span>::distance(first, last);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        it = first;</span><br><span class="line">        step = count / <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">std</span>::advance(it, step);</span><br><span class="line">        <span class="keyword">if</span> (*it &lt; value) &#123;</span><br><span class="line">            first = ++it;</span><br><span class="line">            count -= step + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            count = step;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç…§è‘«èŠ¦ç”»ç“¢ï¼Œå†™ä¸€ä¸ªJavaçš„ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> begin, <span class="keyword">int</span> end, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count, step, it;</span><br><span class="line">    count = end - begin;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        it = begin;</span><br><span class="line">        step = count / <span class="number">2</span>;</span><br><span class="line">        it += step;</span><br><span class="line">        <span class="keyword">if</span> (nums[it] &lt; value) &#123;</span><br><span class="line">            begin = ++it;</span><br><span class="line">            count -= step + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            count = step;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> begin;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºä¸ç¡®å®šè¿­ä»£å™¨æ˜¯ä¸æ˜¯éšæœºè®¿é—®è¿­ä»£å™¨ï¼ŒC++å®ç°æ¯”è¾ƒä¿å®ˆçš„ä½¿ç”¨äº† <code>å¼€å§‹ä½ç½®</code> å’Œ <code>åŒºé—´é•¿åº¦</code> ä½œä¸ºäºŒåˆ†çš„æŒ‡æ ‡ã€‚ä¸è¿‡Javaå¼±åŒ–äº†è¿­ä»£å™¨çš„æ¦‚å¿µï¼Œæ‰€ä»¥å¯ä»¥å°†æ•°ç»„çš„ç‰ˆæœ¬ç²¾ç®€å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> begin, <span class="keyword">int</span> end, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (begin &lt; end) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = begin + (end - begin) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; value) &#123;</span><br><span class="line">            begin = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            end = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> begin;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªç›¸å¯¹ç®€å•çš„ <code>lower_bound</code> ç‰ˆæœ¬äº†ã€‚</p><h1 id="upper_bound"><a class="markdownIt-Anchor" href="#upper_bound"></a> upper_bound</h1><p><code>upper_bound</code> ä¼šå»å¯»æ‰¾<strong>å¤§äº</strong>valueçš„ä½ç½®ï¼Œæ¯”å¦‚ <code>[1, 2, 3, 3, 3, 4, 7, 8]</code> æŸ¥æ‰¾ <code>3</code> ä¼šè¿”å›ä¸‹æ ‡ä¸º5çš„ä½ç½®ï¼ŒæŸ¥æ‰¾ <code>6</code> ä¼šè¿”å›ä¸‹æ ‡ä¸º6çš„ä½ç½®ã€‚</p><p>stdä¸€ç§å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">template&lt;class ForwardIt, class T&gt; ForwardIt upper_bound(ForwardIt first, ForwardIt last, const T&amp; value)</span><br><span class="line">&#123;</span><br><span class="line">    ForwardIt it;</span><br><span class="line">    <span class="keyword">typename</span> <span class="built_in">std</span>::iterator_traits&lt;ForwardIt&gt;::difference_type count, step;</span><br><span class="line">    count = <span class="built_in">std</span>::distance(first,last);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        it = first;</span><br><span class="line">        step = count / <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">std</span>::advance(it, step);</span><br><span class="line">        <span class="keyword">if</span> (!(value &lt; *it)) &#123;</span><br><span class="line">            first = ++it;</span><br><span class="line">            count -= step + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> count = step;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¹æ®è¿™ä¸ªå®ç°ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹æˆä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">upper_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> begin, <span class="keyword">int</span> end, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count, step, it;</span><br><span class="line">    count = end - begin;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        it = begin;</span><br><span class="line">        step = count / <span class="number">2</span>;</span><br><span class="line">        it += step;</span><br><span class="line">        <span class="keyword">if</span> (nums[it] &lt;= value) &#123;</span><br><span class="line">            begin = ++it;</span><br><span class="line">            count -= step + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            count = step;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> begin;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€åŒ–ç‰ˆæœ¬å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">upper_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> begin, <span class="keyword">int</span> end, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (begin &lt; end) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = begin + (end - begin) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt;= value) &#123;</span><br><span class="line">            begin = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            end = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> begin;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°åªæœ‰ <code>if</code> åˆ¤æ–­é‚£ä¸€å¥ä¸åŒã€‚</p><h1 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h1><p><code>lower_bound</code> å’Œ <code>upper_bound</code> çš„å®ç°å€ŸåŠ©äº† <strong>äºŒåˆ†æŸ¥æ‰¾</strong> çš„æ€æƒ³ï¼ŒäºŒåˆ†æŸ¥æ‰¾å¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯å¯¹_äºŒåˆ†åŒºé—´çš„èˆå¼ƒ_ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œ<code>lower_bound</code>æ˜¯æ‰¾åˆ°ç¬¬ä¸€ä¸ª<strong>å¤§äºç­‰äº</strong>valueçš„å€¼ï¼Œé‚£ä¹ˆå¯¹äº<strong>å°äºç­‰äº</strong>midçš„å€¼è¦æœæ–­èˆå¼ƒï¼Œå¤§äºmidçš„å€¼ç”±äºå¯èƒ½åŒ…å«valueï¼Œéœ€è¦ä¿å®ˆä¸€ç‚¹ã€‚</p><p>è¿™ä¸¤ä¸ªå‡½æ•°çš„å®ç°åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œè€Œå…³äºäºŒåˆ†é‡Œçš„åŒºé—´èˆå¼ƒä¿ç•™é—®é¢˜ï¼Œæœ‰ç©ºå­¦ä¹ ä¸€ä¸‹ï¼Œå†æ°´ä¸€ç¯‡å§ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Cppçš„Stdæ ‡å‡†åº“ä¸­åŒ…å«äº†å¾ˆå¤šç®—æ³•ï¼Œä»¥å‰å†™Cppçš„æ—¶å€™å—ç›ŠäºStdåº“ï¼Œç¡®å®æ–¹ä¾¿äº†ä¸å°‘ï¼Œåœ¨Javaè¯­è¨€ä¸‹è¿˜æ˜¯è¦æ…¢æ…¢é€‚åº”Javaè¯­è¨€çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;Javaæ²¡æœ‰è¿­ä»£å™¨æŒ‡é’ˆè¿™ä¸ªæ¦‚å¿µï¼Œæ‰€ä»¥å¾ˆå¤šå†…å®¹ä¸C++æœ‰æ‰€ä¸åŒã€‚Javaä¸­æœ‰äºŒåˆ†çš„å®ç°ï¼Œå«åš&lt;code&gt;java.util</summary>
      
    
    
    
    <category term="ç®—æ³•" scheme="https://sumygg.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="ç®—æ³•" scheme="https://sumygg.com/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="java" scheme="https://sumygg.com/tags/java/"/>
    
    <category term="c++" scheme="https://sumygg.com/tags/c/"/>
    
    <category term="upper_bound" scheme="https://sumygg.com/tags/upper-bound/"/>
    
    <category term="lower_bound" scheme="https://sumygg.com/tags/lower-bound/"/>
    
    <category term="äºŒåˆ†" scheme="https://sumygg.com/tags/%E4%BA%8C%E5%88%86/"/>
    
  </entry>
  
  <entry>
    <title>èƒŒæ™¯ã€Šçƒçƒå¤§ä½œæˆ˜ã€‹å®ç°è¦ç‚¹</title>
    <link href="https://sumygg.com/2017/08/03/ball-battle-on-my-blog-background/"/>
    <id>https://sumygg.com/2017/08/03/ball-battle-on-my-blog-background/</id>
    <published>2017-08-03T14:48:39.000Z</published>
    <updated>2021-03-16T08:51:03.006Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ˆæ—©ä»¥å‰æœ‰ä¸ªæ¸¸æˆå« <code>agar</code> ï¼Œå°±æ˜¯ç±»ä¼¼å¤§çƒåƒå°çƒçš„æ¸¸æˆã€‚æœ€è¿‘å›½å†…åœ¨æ‰‹æ¸¸ä¸Šä¹Ÿå‡ºç°äº†ç±»ä¼¼çš„æ¸¸æˆï¼Œæ¯”è¾ƒå¥½çš„æœ‰ã€Šçƒçƒå¤§ä½œæˆ˜ã€‹å’Œã€Šç–¯ç‹‚è´ªåƒè›‡ã€‹ã€‚å¯¹äºè¿™ä¸¤æ¬¾æ¸¸æˆï¼Œä¸æ˜¯å¾ˆæ„Ÿå†’ï¼Œä¸è¿‡è¿˜æ˜¯æƒ³æŠŠå…¶ä¸­çš„ä¸€äº›å†…å®¹æå–å‡ºæ¥ï¼Œåšæˆä¸€ä¸ªåšå®¢èƒŒæ™¯åŠ¨ç”»ã€‚</p><p>ä»æƒ³æ³•åˆ°å®ç°èŠ±è´¹äº†å¤§çº¦ä¸€å¤©åŠçš„æ—¶é—´ï¼Œå…·ä½“å®ç°ç»†èŠ‚å¯ä»¥å‚è€ƒä»£ç ï¼Œè¿™é‡Œåªè®°å½•ä¸€ä¸‹ä¸€äº›å®ç°éš¾ç‚¹ã€‚</p><h1 id="æ¸¸æˆå¼•æ“"><a class="markdownIt-Anchor" href="#æ¸¸æˆå¼•æ“"></a> æ¸¸æˆå¼•æ“</h1><p>å®ç°æ²¡æœ‰ç”¨ä»€ä¹ˆæ¸¸æˆå¼•æ“ï¼Œä¹Ÿæ˜¯è‡ªå·±æ‰‹å†™äº†ä¸€ä¸ªç®€å•çš„â€œå¼•æ“â€ï¼Œæœ‰ä¸€ä¸ªä¸æ–­é€šè¿‡è°ƒç”¨ <code>window.requestAnimationFrame()</code> å®ç°è‡ªèº«æ­»å¾ªç¯çš„å‡½æ•°ï¼Œåœ¨å‡½æ•°å†…éƒ¨ä¾æ¬¡è°ƒç”¨â€œç»˜ç”»å¯¹è±¡â€çš„ <code>update</code> å’Œ <code>draw</code> æ–¹æ³•ï¼Œæ¥è®©å¯¹è±¡æ›´æ–°è‡ªèº«å’Œç»˜åˆ¶è‡ªèº«ã€‚</p><p>ç®€åŒ–ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> that = <span class="built_in">this</span>;</span><br><span class="line"><span class="built_in">this</span>.mainLoop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (isRunning) &#123;</span><br><span class="line">        <span class="built_in">window</span>.requestAnimationFrame(that.mainLoop); <span class="comment">// å¾ªç¯è‡ªèº«</span></span><br><span class="line">    &#125;</span><br><span class="line">    update(); <span class="comment">// æ›´æ–°</span></span><br><span class="line">    draw(); <span class="comment">// ç»˜åˆ¶</span></span><br><span class="line">    cleanup(); <span class="comment">// æ¸…ç†è¿‡æœŸå¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">this</span>.mainLoop();</span><br></pre></td></tr></table></figure><h1 id="å¯¹è±¡ç®¡ç†"><a class="markdownIt-Anchor" href="#å¯¹è±¡ç®¡ç†"></a> å¯¹è±¡ç®¡ç†</h1><p>éœ€è¦è¢«ç®¡ç†çš„å¯¹è±¡æ”¾ç½®åœ¨ä¸€ä¸ªarrayé‡Œï¼ˆä¸çŸ¥é“JavaScriptå¯¹è¿™ç±»æ•°æ®ç»“æ„å«ä»€ä¹ˆï¼‰ï¼Œæ¯ä¸ªå¯¹è±¡ï¼ˆObjectï¼‰éƒ½æœ‰è‡ªå·±çš„æ•°æ®å’Œå‡½æ•°ï¼Œç±»ä¼¼äºä¸‹é¢çš„æ ·å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">spritObject</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        update: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">        draw: <span class="function"><span class="keyword">function</span>(<span class="params">ctx</span>) </span>&#123;&#125;</span><br><span class="line">        isDead: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>obj</code> ä¸­å¯ä»¥å­˜å‚¨å¯¹è±¡çš„ç§æœ‰æ•°å€¼ï¼Œæ¯”å¦‚å°çƒçš„ä½ç½®ï¼ˆåæ ‡ï¼‰ã€å°çƒçš„å¤§å°ï¼ˆåŠå¾„ï¼‰ã€å°çƒçš„é€Ÿåº¦ã€å°çƒçš„åŠ é€Ÿåº¦ç­‰ç­‰ã€‚<code>update</code> æ¯ä¸€å¸§ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå¯ä»¥æ›´æ–°å°çƒçš„çŠ¶æ€ã€‚<code>draw</code> æ¯ä¸€å¸§ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œä¹‹å‰Canvasç”»å¸ƒä¼šè¢«æå‰æ¸…ç©ºï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°çƒéœ€è¦é‡æ–°ç»˜åˆ¶è‡ªå·±çš„æ ·å¼ã€‚ <code>isDead</code> ç”¨äºåˆ¤æ–­å½“å‰å¯¹è±¡æ˜¯å¦è¿˜æœ‰ç”¨ï¼Œæ²¡ç”¨çš„å¯¹è±¡ä¼šåœ¨ä¸‹ä¸ªå‘¨æœŸè¢«ä»Arrayä¸­æ¸…ç†å‡ºå»ã€‚</p><p>é™„ä¸€æ®µæ¸…ç†çš„ä»£ç ï¼Œå…¶å®å°±æ˜¯ä»Arrayä¸­åˆ é™¤å…ƒç´ çš„ä»£ç ï¼Œæˆ‘æ‰å‘ç°æˆ‘ä¸Šä¸ªç‰ˆæœ¬çš„æ¸…ç†ä»£ç ä¸­æœ‰ä¸ªå‡½æ•°å†™é”™äº†<img class="emoji" draggable="false" alt="ğŸ˜“" src="https://twemoji.maxcdn.com/2/72x72/1f613.png"/>ã€‚ï¼ˆæˆ‘æŠŠ <code>splice</code> å†™æˆäº† <code>split</code>ï¼Œå¹¸äºä¸Šä¸ªèƒŒæ™¯çš„å¯¹è±¡ä¸ç”¨è¢«æ¸…ç†ã€‚<img class="emoji" draggable="false" alt="ğŸ˜‹" src="https://twemoji.maxcdn.com/2/72x72/1f60b.png"/>ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.list.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.list[i].isDead()) &#123;</span><br><span class="line">        <span class="built_in">this</span>.list.splice(i, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å°çƒ"><a class="markdownIt-Anchor" href="#å°çƒ"></a> å°çƒ</h1><p>å°çƒæ˜¯åŠ¨ç”»é‡Œè§’è‰²çš„åŸºæœ¬æ ·å¼ï¼Œä¸€åˆ‡è¡Œä¸ºå’Œç»˜åˆ¶éƒ½å›´ç»•ç€åœ†å½¢çƒæ¥è¿›è¡Œã€‚æˆ‘å°†å°çƒæ ¹æ®åŠŸèƒ½åˆ’åˆ†ä¸ºä¸‰ç±»ï¼šçƒçƒã€é£Ÿç‰©å’Œåˆºçƒã€‚<strong>çƒçƒ</strong> é€šè¿‡åƒé£Ÿç‰©å’Œå…¶å®ƒå°ç‚¹çš„çƒçƒæ¥å¢å¤§è‡ªèº«ï¼Œ<strong>é£Ÿç‰©</strong> å°±æ˜¯è¢«çƒçƒåƒçš„ï¼Œ<strong>åˆºçƒ</strong> æ˜¯ä½œä¸ºé™åˆ¶çƒçƒæ— é™å¢é•¿çš„è§’è‰²å­˜åœ¨çš„ã€‚</p><p>å°çƒæœ€åŸºæœ¬çš„å®šä¹‰ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ball = &#123;</span><br><span class="line">    type: ,  <span class="comment">// å°çƒç±»å‹ï¼ˆçƒçƒã€é£Ÿç‰©ã€åˆºçƒï¼‰</span></span><br><span class="line">    x: ,     <span class="comment">// å½“å‰xåæ ‡</span></span><br><span class="line">    y: ,     <span class="comment">// å½“å‰yåæ ‡</span></span><br><span class="line">    vx: ,    <span class="comment">// xæ–¹å‘é€Ÿåº¦ï¼Œæ¯å¸§xæ–¹å‘ç§»åŠ¨çš„è·ç¦»</span></span><br><span class="line">    vy: ,    <span class="comment">// yæ–¹å‘é€Ÿåº¦</span></span><br><span class="line">    size: ,  <span class="comment">// å°çƒçš„é¢ç§¯</span></span><br><span class="line">    radius: ,<span class="comment">// å°çƒåŠå¾„</span></span><br><span class="line">    isDead: ,<span class="comment">// å°çƒæ˜¯å¦éœ€è¦è¢«æ¸…ç†</span></span><br><span class="line">    age: ,   <span class="comment">// å°çƒå½“å‰å­˜æ´»å¸§æ•°ï¼ˆä¿æŠ¤æœŸä½¿ç”¨ï¼‰</span></span><br><span class="line">    color:   <span class="comment">// å°çƒçš„é¢œè‰²</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸åŒç±»å‹çš„å°çƒåªæ˜¯å…¶ä¸­çš„ä¸€äº›å±æ€§ä¸åŒï¼Œæ¯”å¦‚ï¼Œé£Ÿç‰©å’Œåˆºçƒä¸ç§»åŠ¨ï¼Œé‚£ä¹ˆå®ƒä»¬çš„vxå’Œvyéƒ½ä¸º0ï¼ˆå®é™…ä¸Šï¼Œå°±æ²¡æ‰§è¡Œè¿™ä¸¤ç±»çš„updateå‡½æ•°ï¼‰ã€‚</p><img src="/2017/08/03/ball-battle-on-my-blog-background/1.png" class="" title="å°çƒç±»å‹"><p>å°çƒçš„ç»˜åˆ¶å…¶å®å°±æ˜¯åœ¨(x, y)åæ ‡çš„ä½ç½®ç”»ä¸€ä¸ªradiusåŠå¾„çš„åœ†ï¼Œå¹¶å¡«å……é¢œè‰²ã€‚</p><h1 id="ç¢°æ’æ£€æµ‹"><a class="markdownIt-Anchor" href="#ç¢°æ’æ£€æµ‹"></a> ç¢°æ’æ£€æµ‹</h1><p>è¯´åˆ°ç¢°æ’æ£€æµ‹ï¼Œè¿™é‡Œä¸å¾—ä¸è¯´ä¸€ä¸‹ç‰©ç†ä¸Šé¢çš„çŸ¥è¯†ï¼Œå°çƒä»¬çš„ç¢°æ’è¢«åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p><h2 id="çƒçƒ-vs-åˆºçƒ"><a class="markdownIt-Anchor" href="#çƒçƒ-vs-åˆºçƒ"></a> (çƒçƒ vs åˆºçƒ)</h2><p>è¿™ç±»ä½¿ç”¨çš„æ˜¯â€œç¢°â€ç­–ç•¥ï¼Œä¸¤ä¸ªç‰©ä½“ç¢°åˆ°ä¸€èµ·å°±ä¼šè§¦å‘æ“ä½œã€‚ä¸»è¦åˆ¤æ–­çš„æ€æƒ³æ˜¯<strong>ä¸¤ä¸ªç‰©ä½“åœ†å¿ƒçš„è·ç¦» å°äºç­‰äº ä¸¤ç‰©ä½“åŠå¾„ä¹‹å’Œ</strong>ï¼Œè¿™é‡Œç”¨å…¬å¼å°±æ˜¯ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>&lt;</mo><mo>=</mo><msub><mi>r</mi><mn>1</mn></msub><mo>+</mo><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">dis(o_1, o_2) &lt;= r_1 + r_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><img src="/2017/08/03/ball-battle-on-my-blog-background/2.png" class="" title="å°çƒå¤–åˆ‡"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆºçƒåˆ¤æ–­</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>._prick.list.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> prick = <span class="built_in">this</span>._prick.list[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="built_in">this</span>._balls.list.length; j++) &#123;</span><br><span class="line">        <span class="keyword">var</span> ball = <span class="built_in">this</span>._balls.list[j];</span><br><span class="line">        <span class="keyword">if</span> (ball.isDead) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (prick.isDead) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (prick.size &gt; ball.size) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">var</span> dis = <span class="built_in">Math</span>.sqrt((ball.x - prick.x) * (ball.x - prick.x) + (ball.y - prick.y) * (ball.y - prick.y));</span><br><span class="line">        <span class="keyword">if</span> (dis &lt;= ball.radius + prick.radius) &#123;</span><br><span class="line">            ball.isDead = <span class="literal">true</span>;</span><br><span class="line">            prick.isDead = <span class="literal">true</span>;</span><br><span class="line">            <span class="comment">//TODOï¼šçƒçƒåˆ†è£‚</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆä¿è¯çƒçƒå’Œåˆºçƒéƒ½æ˜¯å­˜æ´»çš„ï¼Œç„¶åè®¡ç®—çƒçƒå’Œåˆºçƒåœ†å¿ƒçš„è·ç¦»ï¼Œå¦‚æœè·ç¦»å°äºä¸¤ä¸ªå°çƒçš„åŠå¾„ä¹‹å’Œï¼Œç„¶åå°±å¯ä»¥æ¸…ç†æ‰è¿™ä¸¤ä¸ªå°çƒäº†ã€‚</p><h2 id="çƒçƒ-vs-çƒçƒ-or-çƒçƒ-vs-é£Ÿç‰©"><a class="markdownIt-Anchor" href="#çƒçƒ-vs-çƒçƒ-or-çƒçƒ-vs-é£Ÿç‰©"></a> (çƒçƒ vs çƒçƒ) or (çƒçƒ vs é£Ÿç‰©)</h2><p>è¿™ç±»ä½¿ç”¨çš„æ˜¯â€œåŒ…å«â€ç­–ç•¥ï¼Œå½“åŠå¾„å¤§çš„ç‰©ä½“å®Œå…¨åŒ…å«åŠå¾„å°çš„ç‰©ä½“çš„æ—¶å€™è§¦å‘æ“ä½œã€‚ä¸»è¦åˆ¤æ–­æ€æƒ³æ˜¯<strong>ä¸¤ä¸ªç‰©ä½“åœ†å¿ƒçš„è·ç¦» å’Œ å°åœ†åŠå¾„ä¹‹å’Œ å°äºç­‰äº å¤§åœ†åŠå¾„</strong>ï¼Œä½¿ç”¨å…¬å¼æè¿°ä¸€ä¸‹ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mo stretchy="false">(</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>r</mi><mn>2</mn></msub><mo>&lt;</mo><mo>=</mo><msub><mi>r</mi><mn>1</mn></msub><mi mathvariant="normal">ï¼Œ</mi><mi mathvariant="normal">å…¶</mi><mi mathvariant="normal">ä¸­</mi><mi mathvariant="normal">ï¼Œ</mi><msub><mi>r</mi><mn>1</mn></msub><mo>&gt;</mo><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">dis(o_1, o_2) + r_2 &lt;= r_1ï¼Œå…¶ä¸­ï¼Œ r_1&gt;r_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord cjk_fallback">å…¶</span><span class="mord cjk_fallback">ä¸­</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><img src="/2017/08/03/ball-battle-on-my-blog-background/3.png" class="" title="å°çƒå†…åˆ‡"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çƒçƒåƒçƒçƒ</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>._balls.list.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> balla = <span class="built_in">this</span>._balls.list[i];</span><br><span class="line">    <span class="keyword">if</span> (balla.age &lt; <span class="built_in">this</span>._balls.opts.protectedAge) <span class="keyword">continue</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; <span class="built_in">this</span>._balls.list.length; j++) &#123;</span><br><span class="line">        <span class="keyword">var</span> ballb = <span class="built_in">this</span>._balls.list[j];</span><br><span class="line">        <span class="keyword">if</span> (ballb.isDead) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (balla.isDead) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (ballb.age &lt; <span class="built_in">this</span>._balls.opts.protectedAge) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">var</span> dis = <span class="built_in">Math</span>.sqrt((balla.x - ballb.x) * (balla.x - ballb.x) + (balla.y - ballb.y) * (balla.y - ballb.y));</span><br><span class="line">        <span class="keyword">if</span> (balla.radius &lt; ballb.radius &amp;&amp; dis + balla.radius &lt;= ballb.radius) &#123;</span><br><span class="line">            ballb.size += balla.size;</span><br><span class="line">            ballb.radius = <span class="built_in">Math</span>.sqrt(ballb.size / <span class="built_in">Math</span>.PI);</span><br><span class="line">            balla.isDead = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ballb.radius &lt; balla.radius &amp;&amp; dis + ballb.radius &lt;= balla.radius) &#123;</span><br><span class="line">            balla.size += ballb.size;</span><br><span class="line">            balla.radius = <span class="built_in">Math</span>.sqrt(balla.size / <span class="built_in">Math</span>.PI);</span><br><span class="line">            ballb.isDead = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆåˆ¤æ–­çƒçƒæ˜¯å¦åœ¨ä¿æŠ¤æœŸï¼Œåœ¨ä¿æŠ¤æœŸçš„çƒçƒç›´æ¥è·³è¿‡ã€‚åˆ¤æ–­åŠå¾„çš„å¤§å°ï¼Œæ ¹æ®åŠå¾„å¤§å°åº”ç”¨ä¸Šé¢çš„å…¬å¼ã€‚</p><h1 id="åˆºçƒç»˜åˆ¶"><a class="markdownIt-Anchor" href="#åˆºçƒç»˜åˆ¶"></a> åˆºçƒç»˜åˆ¶</h1><p>åˆºçƒçš„ç»˜åˆ¶å•ç‹¬æ‹¿å‡ºæ¥è¯´ä¸€ä¸‹ï¼Œç›¸æ¯”çƒçƒæ¥è¯´ï¼Œåˆºçƒå¤–é¢å¤šäº†ä¸€å±‚åˆºçš„å½¢çŠ¶ã€‚</p><img src="/2017/08/03/ball-battle-on-my-blog-background/5.png" class="" title="åˆºçƒ"><p>è¯´èµ·åˆºçš„å½¢çŠ¶ï¼Œå°±åƒèµ·ä¼çš„å±±å³°ä¸€æ ·ï¼Œè¯´åˆ°èµ·ä¼çš„å±±å³°ï¼Œå°±æƒ³åˆ°äº†<code>sin</code>ï¼Œæ©æ©ã€‚è¿™é‡ŒæŠŠ<code>sin</code>çš„å€¼é‡åŒ–ä¸€ä¸‹ï¼Œç”¨çº¿è¿èµ·æ¥å°±æˆäº†å±±å³°çš„å½¢çŠ¶äº†ã€‚</p><img src="/2017/08/03/ball-battle-on-my-blog-background/4.png" class="" title="siné‡åŒ–è¿çº¿"><p>ä¹‹åæ€ä¹ˆå°†è¿™ä¸ªâ€œå˜åŒ–â€åº”ç”¨åˆ°æ›²é¢ä¸Šã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mi>r</mi><mo separator="true">â‹…</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mi mathvariant="normal">å’Œ</mi><mi>y</mi><mo>=</mo><mi>r</mi><mo separator="true">â‹…</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x=rÂ·cos(a)å’Œy=rÂ·sin(a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mclose">)</span><span class="mord cjk_fallback">å’Œ</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mclose">)</span></span></span></span>ç®—å‡ºå½“å‰è§’åº¦aåœ¨åœ†å‘¨ä¸Šçš„ç‚¹çš„åæ ‡ï¼Œä½†æ˜¯å¦‚ä½•å°†â€œå˜åŒ–â€åº”ç”¨åˆ°åæ ‡ä¸Šã€‚è¿™é‡Œç›´æ¥æƒ³è±¡ä¸å¤ªå¥½æƒ³è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£æˆåŠå¾„éšç€<code>sin</code>çš„å˜åŒ–è€Œå˜åŒ–ï¼Œäºæ˜¯ï¼Œæ–°çš„åŠå¾„ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mi>a</mi></msub><mo>=</mo><mi>r</mi><mo>+</mo><mi>b</mi><mo separator="true">â‹…</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">r_a=r+bÂ·sin(a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mclose">)</span></span></span></span>ï¼Œå…¶ä¸­bä¸ºä¸€ä¸ªè°ƒæ•´ç³»æ•°å¸¸é‡ï¼Œç»˜åˆ¶åæ ‡å…¬å¼ä¹Ÿä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy="false">(</mo><mi>r</mi><mo>+</mo><mi>b</mi><mo separator="true">â‹…</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo separator="true">â‹…</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mi mathvariant="normal">å’Œ</mi><mi>y</mi><mo>=</mo><mo stretchy="false">(</mo><mi>r</mi><mo>+</mo><mi>b</mi><mo separator="true">â‹…</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo separator="true">â‹…</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x=(r+bÂ·sin(a))Â·cos(a)å’Œy=(r+bÂ·sin(a))Â·sin(a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mclose">)</span><span class="mclose">)</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mclose">)</span><span class="mord cjk_fallback">å’Œ</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mclose">)</span><span class="mclose">)</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mclose">)</span></span></span></span>ã€‚</p><img src="/2017/08/03/ball-battle-on-my-blog-background/6.png" class="" title="è·¯å¾„ç‚¹è®¡ç®—"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»˜åˆ¶åˆºçƒ</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>._prick.list.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> prick = <span class="built_in">this</span>._prick.list[i];</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.arc(prick.x, prick.y, prick.radius, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</span><br><span class="line">    ctx.closePath();</span><br><span class="line">    ctx.fillStyle = <span class="string">&quot;#fff&quot;</span>;</span><br><span class="line">    ctx.fill();</span><br><span class="line"></span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.strokeStyle = <span class="string">&quot;rgba(255, 0, 0, 0.4)&quot;</span>;</span><br><span class="line">    ctx.lineWidth = <span class="number">2</span>;</span><br><span class="line">    ctx.moveTo(prick.x + prick.radius * <span class="built_in">Math</span>.cos(<span class="number">0</span>), prick.y + prick.radius * <span class="built_in">Math</span>.sin(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">0</span>; a &lt; <span class="number">360</span>; a++) &#123;</span><br><span class="line">        ctx.lineTo(prick.x + (prick.radius + <span class="number">2</span> * <span class="built_in">Math</span>.sin(a * <span class="number">2</span>)) * <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI / <span class="number">180.0</span> * a),</span><br><span class="line">            prick.y + (prick.radius + <span class="number">2</span> * <span class="built_in">Math</span>.sin(a * <span class="number">2</span>)) * <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI / <span class="number">180.0</span> * a))</span><br><span class="line">    &#125;</span><br><span class="line">    ctx.stroke();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç»˜åˆ¶ç½‘æ ¼èƒŒæ™¯"><a class="markdownIt-Anchor" href="#ç»˜åˆ¶ç½‘æ ¼èƒŒæ™¯"></a> ç»˜åˆ¶ç½‘æ ¼èƒŒæ™¯</h1><p>è¿™ä¸ªæ²¡å•¥å¥½è¯´çš„ï¼Œå°±æ˜¯åˆ’çº¿ï¼Œä¸€å®šé—´éš”åˆ’çº¿ã€‚è¯è¯´ï¼Œå¦‚æœé—´éš”è¶³å¤Ÿå°ï¼Œé‚£ä¹ˆç”»çš„çº¿å°±å˜æˆäº†é¢ï¼Œè¿™å°±æ˜¯â€œçº¿åŠ¨æˆé¢â€çš„åŸç†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// èƒŒæ™¯ç½‘æ ¼</span></span><br><span class="line">ctx.lineWidth = <span class="number">1</span>;</span><br><span class="line">ctx.strokeStyle = <span class="string">&quot;#eee&quot;</span>;</span><br><span class="line">ctx.beginPath();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="built_in">this</span>.width; i += <span class="number">20</span>) &#123;</span><br><span class="line">    ctx.moveTo(i, <span class="number">0</span>);</span><br><span class="line">    ctx.lineTo(i, <span class="built_in">this</span>.height);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="built_in">this</span>.height; i += <span class="number">20</span>) &#123;</span><br><span class="line">    ctx.moveTo(<span class="number">0</span>, i);</span><br><span class="line">    ctx.lineTo(<span class="built_in">this</span>.width, i);</span><br><span class="line">&#125;</span><br><span class="line">ctx.stroke();</span><br></pre></td></tr></table></figure><h1 id="å…¶å®ƒ"><a class="markdownIt-Anchor" href="#å…¶å®ƒ"></a> å…¶å®ƒ</h1><p>é™¤äº†ä¸Šé¢è¯´åˆ°çš„é‚£äº›ï¼Œè¿˜æœ‰å…¶å®ƒä¸€äº›ç»†èŠ‚ã€‚æ¯”å¦‚ï¼Œç»™çƒçƒè®¾ç½®äº†ä¸€ä¸ªä¿æŠ¤æœŸï¼Œä¸»è¦é¿å…çƒçƒç¢°åˆ°åˆºçƒåˆ†è£‚çš„æ—¶å€™ï¼Œåˆè¢«è‡ªå·±åƒæ‰äº†ã€‚<img class="emoji" draggable="false" alt="ğŸ¶" src="https://twemoji.maxcdn.com/2/72x72/1f436.png"/>è¿™é‡Œå®šä¹‰200å¸§ä»¥å†…ä¸ºä¿æŠ¤æœŸï¼Œä¿æŠ¤æœŸå†…ä¼šç¦æ­¢ç¢°æ’æ£€æµ‹ï¼Œåªè¿›è¡Œä½ç½®æ›´æ–°ã€‚æ¯”å¦‚ï¼Œåˆºçƒå¯¹æ¯”å®ƒå°çš„çƒçƒæ²¡æœ‰æ•ˆæœï¼Œå¯ä»¥è¯´æ˜¯å¼±è€…çš„ä¿æŠ¤ä¼å‘<img class="emoji" draggable="false" alt="â˜”" src="https://twemoji.maxcdn.com/2/72x72/2614.png"/>ï¸ã€‚è¿˜æ¯”å¦‚ï¼Œä¿æŠ¤æœŸå†…è¿˜ç»™çƒçƒç”»äº†ä¸€ä¸ªè´´å¿ƒçš„ä¿æŠ¤ç½©ç½©ï¼Œç”¨çš„ç”»å¼§çº¿å®ç°çš„ã€‚å“ï¼Œå­—å†™èµ·æ¥å¤ªç´¯ï¼Œè¿™é‡Œå°±ä¸å™è¿°äº†ã€‚</p><p>å¸Œæœ›çœ‹å®˜ä»¬å–œæ¬¢è¿™æ¬¡çš„èƒŒæ™¯ï¼Œä¸‹æ¬¡æ›´æ–°è¿˜ä¸çŸ¥é“è¦åˆ°å•¥æ—¶å€™ï¼Œæœ‰ç©ºå¯ä»¥ç§»æ­¥â€œç§€ä¸€ç§€â€çœ‹çœ‹è¿‡å»çš„é‚£äº›èƒŒæ™¯ã€‚å…¶å®æœ€è¿‘å·²ç»æ„æƒ³äº†5-6ä¸ªèƒŒæ™¯ï¼Œä¸è¿‡å¤ªæ‡’äº†å†åŠ ä¸Šå¿ƒæƒ…å¾ˆå®¹æ˜“ä¸å¥½ï¼Œæœ‰ç©ºçš„æ—¶å€™ä¼šä¸€ä¸€å®ç°çš„ï¼Œæ„Ÿè§‰è¿˜æ˜¯è›®æœ‰æ„æ€çš„ã€‚é‚£ä¹ˆæœ€å¿«ä¸‹æœˆå†è§äº†ã€‚</p><p>ç¥ä½ çš„å…«æœˆå¤©å¤©å¿«ä¹ã€‚<img class="emoji" draggable="false" alt="ğŸ‘Š" src="https://twemoji.maxcdn.com/2/72x72/1f44a.png"/></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¾ˆæ—©ä»¥å‰æœ‰ä¸ªæ¸¸æˆå« &lt;code&gt;agar&lt;/code&gt; ï¼Œå°±æ˜¯ç±»ä¼¼å¤§çƒåƒå°çƒçš„æ¸¸æˆã€‚æœ€è¿‘å›½å†…åœ¨æ‰‹æ¸¸ä¸Šä¹Ÿå‡ºç°äº†ç±»ä¼¼çš„æ¸¸æˆï¼Œæ¯”è¾ƒå¥½çš„æœ‰ã€Šçƒçƒå¤§ä½œæˆ˜ã€‹å’Œã€Šç–¯ç‹‚è´ªåƒè›‡ã€‹ã€‚å¯¹äºè¿™ä¸¤æ¬¾æ¸¸æˆï¼Œä¸æ˜¯å¾ˆæ„Ÿå†’ï¼Œä¸è¿‡è¿˜æ˜¯æƒ³æŠŠå…¶ä¸­çš„ä¸€äº›å†…å®¹æå–å‡ºæ¥ï¼Œåšæˆä¸€ä¸ªåšå®¢èƒŒæ™¯åŠ¨ç”»ã€‚&lt;/p&gt;
&lt;p&gt;ä»æƒ³æ³•åˆ°å®</summary>
      
    
    
    
    <category term="æœç„¶è¿˜æ˜¯å‰ç«¯" scheme="https://sumygg.com/categories/%E6%9E%9C%E7%84%B6%E8%BF%98%E6%98%AF%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="canvas" scheme="https://sumygg.com/tags/canvas/"/>
    
    <category term="animation" scheme="https://sumygg.com/tags/animation/"/>
    
    <category term="çƒçƒå¤§ä½œæˆ˜" scheme="https://sumygg.com/tags/%E7%90%83%E7%90%83%E5%A4%A7%E4%BD%9C%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>ä»é›¶å¼€å§‹æ£é¼“ä¸€ä¸ªElectronåº”ç”¨â€”â€”æ–‡ä»¶è¯»å–</title>
    <link href="https://sumygg.com/2017/06/20/start-from-the-very-beginning-for-electron-with-reading-file-state/"/>
    <id>https://sumygg.com/2017/06/20/start-from-the-very-beginning-for-electron-with-reading-file-state/</id>
    <published>2017-06-20T15:08:09.000Z</published>
    <updated>2021-03-16T08:51:03.006Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©è¦å®ç°çš„ä¸€ä¸ªå†…å®¹æ˜¯ï¼Œé€‰æ‹©ä¸€ä¸ªç›®å½•ï¼Œè¯»å–ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œç„¶åæŠŠæ‰©å±•åä¸º <code>.md</code> æ–‡ä»¶çš„æ–‡ä»¶åå’Œæ–‡ä»¶å¤§å°åˆ—ä¸¾å‡ºæ¥ï¼Œæœ€åå±•ç¤ºåœ¨è¡¨æ ¼ä¸­ã€‚</p><h1 id="æœ¬ç¯‡æŠ€æœ¯æ ˆå’Œä¸»è¦æŠ€èƒ½"><a class="markdownIt-Anchor" href="#æœ¬ç¯‡æŠ€æœ¯æ ˆå’Œä¸»è¦æŠ€èƒ½"></a> æœ¬ç¯‡æŠ€æœ¯æ ˆå’Œä¸»è¦æŠ€èƒ½</h1><ul><li>Vueç»„ä»¶çš„ç¼–å†™ï¼ˆä¸»è¦æ˜¯templateï¼Œä¸æ¶‰åŠå¤šä¸ªç»„ä»¶ä¼ é€’ï¼‰</li><li>é€šè¿‡electronè°ƒç”¨ç³»ç»ŸåŸç”Ÿç»„ä»¶ï¼ˆæ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†ï¼‰</li><li>fså’Œpathæ“ä½œæ–‡ä»¶ï¼ˆè·å–æ–‡ä»¶ä¿¡æ¯ï¼‰</li></ul><h1 id="ç›´æ¥è´´ä»£ç å§"><a class="markdownIt-Anchor" href="#ç›´æ¥è´´ä»£ç å§"></a> ç›´æ¥è´´ä»£ç å§</h1><p>ä¸‹é¢ä»£ç æ˜¯å•ä¸ªé¡µé¢çš„ä»£ç ï¼Œè¦ä½¿ç”¨è¿˜è¦åœ¨è·¯ç”±æ–‡ä»¶ <code>route/index.js</code> ä¸­åŠ å…¥è·¯ç”±ä¿¡æ¯ï¼Œå¹¶åœ¨å¯¼èˆªæ ä¸Šæ·»åŠ å…¥å£ã€‚å…¶å®ƒçš„åœ°æ–¹ä¸éœ€è¦è¿‡å¤šçš„ä¿®æ”¹ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;selecter&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©ç›®å½•&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;dictorySelected&quot;</span> <span class="attr">:disabled</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;prepend&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showFileDialog()&quot;</span>&gt;</span>é€‰æ‹©ç›®å½•<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;datatable&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>å…±æœ‰ &#123;&#123;tableData.length&#125;&#125; æ¡è®°å½•<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">v-loading</span>=<span class="string">&quot;isLoading&quot;</span> <span class="attr">element-loading-text</span>=<span class="string">&quot;æ‹¼å‘½åŠ è½½ä¸­&quot;</span> <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;filename&quot;</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ä»¶å&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;filesize&quot;</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡ä»¶å¤§å°&quot;</span> <span class="attr">fixed</span>=<span class="string">&quot;right&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  name: <span class="string">&#x27;file-listing-page&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      dictorySelected: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      isLoading: <span class="literal">false</span>,</span></span><br><span class="line">      tableData: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">showFileDialog</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> dialog = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>).remote.dialog</span></span><br><span class="line"><span class="javascript">      dialog.showOpenDialog(&#123; <span class="attr">properties</span>: [<span class="string">&#x27;openDirectory&#x27;</span>] &#125;, <span class="function">(<span class="params">filename</span>) =&gt;</span> &#123;</span></span><br><span class="line">        if (filename.length === 1) &#123;</span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.dictorySelected = filename[<span class="number">0</span>]</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.listingFile(<span class="built_in">this</span>.dictorySelected)</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">listingFile</span>(<span class="params">filepath</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.isLoading = <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span></span><br><span class="line"><span class="javascript">      fs.readdir(filepath, <span class="function">(<span class="params">err, file</span>) =&gt;</span> &#123;</span></span><br><span class="line">        if (err) &#123;</span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.isLoading = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> alert(err)</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.tableData = []</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> filename <span class="keyword">of</span> file) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> stat = fs.statSync(path.join(filepath, filename))</span></span><br><span class="line">          if (stat.isFile()) &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (path.extname(filename).toLowerCase() === <span class="string">&#x27;.md&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">              <span class="built_in">this</span>.tableData.push(&#123;</span></span><br><span class="line">                filename: filename,</span><br><span class="line">                filesize: stat.size</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.isLoading = <span class="literal">false</span></span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">.container &#123;</span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.datatable &#123;</span><br><span class="line"><span class="css">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="æœç„¶è¿˜æ˜¯è¦ç¨å¾®è¯´æ˜ä¸€ä¸‹"><a class="markdownIt-Anchor" href="#æœç„¶è¿˜æ˜¯è¦ç¨å¾®è¯´æ˜ä¸€ä¸‹"></a> æœç„¶è¿˜æ˜¯è¦ç¨å¾®è¯´æ˜ä¸€ä¸‹</h1><h2 id="æ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†"><a class="markdownIt-Anchor" href="#æ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†"></a> æ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†</h2><p>é€šè¿‡electronå¯ä»¥è°ƒç”¨åŸç”Ÿçš„ç³»ç»Ÿç»„ä»¶ï¼Œè¿™é‡Œéœ€è¦å±•ç¤ºæ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†ã€‚<code>require('electron').remote.dialog</code> å¯ä»¥å¼•ç”¨electronä¸­æ“ä½œdialogçš„éƒ¨åˆ†ï¼Œç„¶åé€šè¿‡<code>dialog.showOpenDialog()</code>å‡½æ•°æ˜¾ç¤ºæ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†ã€‚åœ¨å›è°ƒå‡½æ•°ä¸­å¯ä»¥è·å–åˆ°é€‰æ‹©çš„å†…å®¹ã€‚</p><p>å¦å¤–æ³¨æ„çš„æ˜¯ï¼Œelectronåˆ†ä¸º<strong>ä¸»è¿›ç¨‹</strong>å’Œ<strong>æ¸²æŸ“è¿›ç¨‹</strong>ï¼Œæˆ‘ä»¬çš„è¿™äº›ä»£ç æ˜¯éœ€è¦æ‰§è¡Œåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­çš„ï¼Œå› æ­¤ï¼Œéœ€è¦é€šè¿‡<code>remote</code>æ¥å£è·å–ä¸»è¿›ç¨‹çš„<code>dialog</code>å¯¹è±¡ã€‚</p><h2 id="fsåˆ—ä¸¾æ–‡ä»¶å¤¹å†…å®¹"><a class="markdownIt-Anchor" href="#fsåˆ—ä¸¾æ–‡ä»¶å¤¹å†…å®¹"></a> fsåˆ—ä¸¾æ–‡ä»¶å¤¹å†…å®¹</h2><p>nodeæä¾›çš„fsåŒ…å¯ä»¥æ“ä½œæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œ<code>fs.readdir(filepath, function(err, file)&#123;&#125;)</code>ç»™å‡ºä¸€ä¸ªç›®å½•filepathï¼Œå¯ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­è·å–åˆ°æ–‡ä»¶ä¿¡æ¯ã€‚</p><p><code>fs.statSync()</code> å¯ä»¥è·å–æ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œæœ‰è¿”å›å€¼ã€‚é€šè¿‡è¿”å›çš„statå¯¹è±¡å°±å¯ä»¥åˆ¤æ–­å½“å‰æ–‡ä»¶æ˜¯ä¸æ˜¯ä¸ªæ–‡ä»¶<code>isFile()</code>ï¼Œå½“ç„¶å¦‚æœä¸æ˜¯æ–‡ä»¶å°±ç›´æ¥å¿½ç•¥è¿‡å»ã€‚statä¸­çš„å…·ä½“å†…å®¹å¯ä»¥æ‰“ä¸ªlogæŸ¥çœ‹ä¸€ä¸‹ã€‚</p><p><strong>å¼‚æ­¥æ–¹æ³•</strong>éœ€è¦åœ¨å›è°ƒå‡½æ•°é‡Œè·å–å‡½æ•°è¿”å›çš„å†…å®¹ï¼Œ<strong>åŒæ­¥æ–¹æ³•</strong>ç›´æ¥ä»å‡½æ•°è¿”å›å€¼è·å–ã€‚</p><h2 id="pathæ–‡ä»¶åè·¯å¾„æ“ä½œ"><a class="markdownIt-Anchor" href="#pathæ–‡ä»¶åè·¯å¾„æ“ä½œ"></a> pathæ–‡ä»¶åè·¯å¾„æ“ä½œ</h2><p><code>path.extname()</code> è·å–æ–‡ä»¶çš„æ‰©å±•åï¼ŒåŒ…å«ç‚¹å·ã€‚</p><p><code>path.join()</code> å¯ä»¥å°†ä¸¤ä¸ªç›®å½•è¿æ¥èµ·æ¥ï¼Œè¿æ¥çš„æ–¹å¼å¯ä»¥å‚è€ƒå‘½ä»¤CDçš„æ–¹å¼ã€‚</p><h2 id="style-scoped"><a class="markdownIt-Anchor" href="#style-scoped"></a> style scoped</h2><p><code>&lt;style scoped&gt;</code> è¡¨ç¤ºå½“å‰styleåªä½œç”¨äºå½“å‰templateï¼Œå…·ä½“å®ç°æ–¹å¼æ˜¯ç¼–è¯‘çš„æ—¶å€™æ·»åŠ æ ‡è¯†ç¬¦ï¼Œé€šè¿‡classå’Œæ ‡è¯†ç¬¦åŒé‡é€‰ä¸­ï¼Œä»¥é™å®šèŒƒå›´ã€‚</p><h1 id="æ€»ç»“ä¸€ä¸‹"><a class="markdownIt-Anchor" href="#æ€»ç»“ä¸€ä¸‹"></a> æ€»ç»“ä¸€ä¸‹</h1><p>æœ¬ç¯‡çš„å†…å®¹ä¸ç®—å¤ªå¤šï¼Œä¸»è¦æ—¶é—´èŠ±è´¹åœ¨äº†è°ƒè¯•ä¹‹å‰ç•Œé¢ä¸€ä¸ªfixedèƒŒæ™¯ä¸å……æ»¡çš„é—®é¢˜ä¸Šã€‚å¦å¤–ï¼Œå¯¹å‡½æ•°çš„ä¸ç†Ÿæ‚‰ä¹Ÿä¼šä¸¾æ­¥ç»´è‰°ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä»Šå¤©è¦å®ç°çš„ä¸€ä¸ªå†…å®¹æ˜¯ï¼Œé€‰æ‹©ä¸€ä¸ªç›®å½•ï¼Œè¯»å–ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œç„¶åæŠŠæ‰©å±•åä¸º &lt;code&gt;.md&lt;/code&gt; æ–‡ä»¶çš„æ–‡ä»¶åå’Œæ–‡ä»¶å¤§å°åˆ—ä¸¾å‡ºæ¥ï¼Œæœ€åå±•ç¤ºåœ¨è¡¨æ ¼ä¸­ã€‚&lt;/p&gt;
&lt;h1 id=&quot;æœ¬ç¯‡æŠ€æœ¯æ ˆå’Œä¸»è¦æŠ€èƒ½&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=</summary>
      
    
    
    
    <category term="ä½“éªŒElectron" scheme="https://sumygg.com/categories/%E4%BD%93%E9%AA%8CElectron/"/>
    
    
    <category term="electron" scheme="https://sumygg.com/tags/electron/"/>
    
    <category term="vue" scheme="https://sumygg.com/tags/vue/"/>
    
    <category term="fs" scheme="https://sumygg.com/tags/fs/"/>
    
    <category term="path" scheme="https://sumygg.com/tags/path/"/>
    
  </entry>
  
  <entry>
    <title>ä»é›¶å¼€å§‹æ£é¼“ä¸€ä¸ªElectronåº”ç”¨â€”â€”ç•Œé¢ç»„ä»¶</title>
    <link href="https://sumygg.com/2017/06/19/start-from-the-very-beginning-for-electron-with-element-ui-and-icon/"/>
    <id>https://sumygg.com/2017/06/19/start-from-the-very-beginning-for-electron-with-element-ui-and-icon/</id>
    <published>2017-06-19T13:04:10.000Z</published>
    <updated>2021-03-16T08:51:03.005Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡æ£é¼“äº†ä¸€ä¸ªElectron-vueçš„è„šæ‰‹æ¶ï¼ŒæŠŠVueçš„å…¨å®¶æ¡¶æ­å»ºäº†ä¸€ä¸‹ï¼Œä¹Ÿå¾ˆç»™é¢å­çš„è·‘äº†èµ·æ¥ã€‚æ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥å®Œæˆæˆ‘å¿ƒä¸­çš„é‚£ä¸ªâ€œå¥¹â€äº†ã€‚</p><p>é¦–å…ˆå…ˆå·´æ‹‰å·´æ‹‰è‡ªå·±çš„æŠ€èƒ½ï¼š</p><ol><li>Vueç”¨è¿‡ï¼Œäº†è§£Vueçš„MVVMæ€æƒ³ï¼Œä½†æ˜¯Vue2åŠå…¶å…¨å®¶æ¡¶ç¡®å®ç¬¬ä¸€æ¬¡ç”¨</li><li>èƒ½å†™åŸç”ŸJavaScriptç¨‹åºï¼Œä½†æ˜¯ä¸æ˜ç™½ä»€ä¹ˆæ˜¯ES5æˆ–æ˜¯ES6ï¼Œåæ­£å°±æ˜¯çœ‹å¿ƒæƒ…å†™äº†</li><li>Reactäº†è§£ä¸€ç‚¹ï¼Œä½†æ˜¯æ²¡æœ‰å†™è¿‡ï¼Œæ‰€ä»¥Vue2ä¸­ç±»ä¼¼äºReactçš„æ€æƒ³ä¹Ÿæ˜¯ã€‚ã€‚ã€‚<img class="emoji" draggable="false" alt="ğŸ˜‚" src="https://twemoji.maxcdn.com/2/72x72/1f602.png"/></li><li>æ€»ä¹‹ï¼Œä¸è¦æ”¾å¼ƒæ²»ç–—ï¼Œä»0å¼€å§‹å¼‚ä¸–ç•Œä¹‹æ—…å§ã€‚ã€‚ã€‚</li></ol><p>æ¯ä¸€ç¯‡æ–‡ç« éƒ½æŠŠè‡ªå·±çš„æ€ï¼ˆxï¼‰è€ƒï¼ˆåº¦ï¼‰è¿‡ç¨‹å°½é‡è¡¨è¿°å‡ºæ¥ï¼Œåœ¨æ–‡ç« å¼€å§‹çš„æ—¶å€™ä¹Ÿä¼šå°†æœ¬ç¯‡ç”¨åˆ°çš„ä¸œè¥¿ç¨å¾®åˆ—ä¸¾ä¸€ä¸‹çš„ã€‚</p><h1 id="æœ¬ç¯‡æŠ€æœ¯æ ˆå’Œä¸»è¦æŠ€èƒ½"><a class="markdownIt-Anchor" href="#æœ¬ç¯‡æŠ€æœ¯æ ˆå’Œä¸»è¦æŠ€èƒ½"></a> æœ¬ç¯‡æŠ€æœ¯æ ˆå’Œä¸»è¦æŠ€èƒ½</h1><p>æœ¬ç¯‡å…ˆæŠŠä»¥ä¸‹å†…å®¹æ•´åˆåˆ°ä¸€èµ·ï¼Œç„¶ååšä¸€ä¸ªç®€å•çš„æ¬¢è¿é¡µé¢ï¼Œä¹‹åéœ€è¦ä»€ä¹ˆå†ç»§ç»­è¡¥å……ã€‚</p><ul><li><img class="emoji" draggable="false" alt="ğŸ“¤" src="https://twemoji.maxcdn.com/2/72x72/1f4e4.png"/>Vueå…¨å®¶æ¡¶ï¼švue2 + vuex + vue-router + webpack</li><li><img class="emoji" draggable="false" alt="ğŸ‡" src="https://twemoji.maxcdn.com/2/72x72/1f407.png"/>ç½‘ç»œè¯·æ±‚ï¼šaxiosï¼ˆè„šæ‰‹æ¶é‡Œè‡ªå¸¦ï¼Œæ„Ÿè§‰ä¸Šä¸ä¼šç”¨åˆ°ç½‘ç»œè¯·æ±‚çš„ï¼‰</li><li><img class="emoji" draggable="false" alt="ğŸˆ" src="https://twemoji.maxcdn.com/2/72x72/1f388.png"/>é¡µé¢UIï¼šElement-UIï¼ˆæœ¬ç¯‡é‡ç‚¹å°±æ˜¯æŠŠå®ƒæ‹›å‹Ÿè¿›æ¥ï¼‰ã€vue-awesomeï¼ˆè¿™ä¸æ˜¯æ–‡ç« æ±‡æ€»ï¼‰</li></ul><h1 id="ç»„ä»¶å®‰è£…"><a class="markdownIt-Anchor" href="#ç»„ä»¶å®‰è£…"></a> ç»„ä»¶å®‰è£…</h1><h2 id="å¼•ç”¨element-ui"><a class="markdownIt-Anchor" href="#å¼•ç”¨element-ui"></a> å¼•ç”¨Element-UI</h2><p>Element-UIçš„å®‰è£…æ–‡æ¡£å¯ä»¥å‚è€ƒ<a href="http://element.eleme.io/#/zh-CN/component/installation">è¿™é‡Œ</a></p><p>é€šè¿‡npmå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-ui -S</span><br></pre></td></tr></table></figure><p>ç„¶åæƒ³è¦å®Œæ•´å¼•å…¥Elementï¼Œåœ¨main.jsåŠ å…¥ä»¥ä¸‹å‡ è¡Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-default/index.css&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(ElementUI)</span><br></pre></td></tr></table></figure><p>éšä¾¿æµ‹è¯•ä¸€ä¸‹åº”è¯¥å°±èƒ½ç”¨äº†ã€‚</p><h2 id="å¼•å…¥vue-awesome"><a class="markdownIt-Anchor" href="#å¼•å…¥vue-awesome"></a> å¼•å…¥vue-awesome</h2><p><a href="https://github.com/justineo/vue-awesome">vue-awesom</a> æ˜¯å¯¹ <a href="http://fontawesome.io/">Font Awesome</a> çš„ä¸€ä¸ªå°è£…ï¼Œé¦–å…ˆè¿˜æ˜¯é€šè¿‡npmå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-awesome</span><br></pre></td></tr></table></figure><p>ç„¶åè¿˜æ˜¯åœ¨main.jså†…å…¨å±€å¼•å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;vue-awesome/icons&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Icon <span class="keyword">from</span> <span class="string">&#x27;vue-awesome/components/Icon&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.component(<span class="string">&#x27;icon&#x27;</span>, Icon)</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ä¸€ä¸‹è‚¯å®šä¹Ÿèƒ½ç”¨ã€‚</p><h1 id="åˆ›å»ºå¸ƒå±€"><a class="markdownIt-Anchor" href="#åˆ›å»ºå¸ƒå±€"></a> åˆ›å»ºå¸ƒå±€</h1><p>ä¸‹é¢å¼€å§‹å®ç°ä¸€äº›åŠŸèƒ½ï¼Œé¦–å…ˆæƒ³åœ¨å·¦é¢åŠ å…¥ä¸€ä¸ªå¯¼èˆªæ ï¼Œç”¨æ¥é€‰å–åŠŸèƒ½ï¼Œå³é¢æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½ï¼Œæ•´ä¸ªé¡µé¢å¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚</p><img src="/2017/06/19/start-from-the-very-beginning-for-electron-with-element-ui-and-icon/1.png" class="" title="é¡µé¢å¸ƒå±€"><p>å·¦è¾¹å¯¼èˆªæ å›ºå®šå®½åº¦ï¼Œå³è¾¹æµ®åŠ¨ã€‚å¸ƒå±€é¡µé¢ <code>PageFrame.vue</code> å®šä¹‰å¯¼èˆªæ å’Œæ˜¾ç¤ºå†…å®¹çš„ä½ç½®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sidebar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">default-active</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">v-bind:to</span>=<span class="string">&quot;&#x27;/home&#x27;&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">icon</span> <span class="attr">name</span>=<span class="string">&quot;home&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">icon</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span>é¦–é¡µ</span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">v-bind:to</span>=<span class="string">&quot;&#x27;/sysinfo&#x27;&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">icon</span> <span class="attr">name</span>=<span class="string">&quot;car&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">icon</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span>æµ‹è¯•</span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  name: <span class="string">&#x27;page-frame&#x27;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar &#123;</span><br><span class="line"><span class="css">  <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">background-color</span>: <span class="number">#eef1f6</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content &#123;</span><br><span class="line"><span class="css">  <span class="attribute">margin-left</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">300px</span>);</span></span><br><span class="line"><span class="css">  <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: <span class="built_in">radial-gradient</span>( ellipse at top left,</span></span><br><span class="line">  rgba(255, 255, 255, 1) 40%,</span><br><span class="line">  rgba(229, 229, 229, .9) 100%);</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŸå…¥å£ <code>App.vue</code> æ”¹ä¸ºåªæ¸²æŸ“é¡µé¢å¸ƒå±€ï¼Œå³ä¸Šé¢æåˆ°çš„å†…å®¹ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">page-frame</span>&gt;</span><span class="tag">&lt;/<span class="name">page-frame</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> PageFrame <span class="keyword">from</span> <span class="string">&#x27;./components/PageFrame&#x27;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  name: <span class="string">&#x27;markdown-yaml-info-manager&#x27;</span>,</span></span><br><span class="line">  components: &#123; PageFrame &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">.fa-icon &#123;</span><br><span class="line"><span class="css">  <span class="attribute">height</span>: <span class="number">1em</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">1em</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">bottom</span>: -<span class="number">0.125em</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">position</span>: relative;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ«å¿˜äº†å®šä¹‰ä¸€ä¸‹vue-routeï¼Œåœ¨ <code>route/index.js</code> ä¸‹ï¼Œè‡³äºä»€ä¹ˆæ˜¯vue-routeï¼Œç…§ç€å†™å°±å¯ä»¥äº†ã€‚å¤§ä½“æ„æ€æ˜¯ï¼Œ<code>/home</code> è½½å…¥åŸå…ˆçš„æ¬¢è¿é¡µï¼Œ<code>/sysinfo</code> è¾“å‡ºä¸€ä¸‹ç³»ç»Ÿä¿¡æ¯ï¼Œå¦‚æœæ˜¯å…¶å®ƒçš„å°±è·³è½¬åˆ° <code>/home</code>ã€‚è¿™äº›é…ç½®ä¿¡æ¯å¯ä»¥é…åˆ <code>&lt;router-link&gt;</code> æ ‡ç­¾ä½¿ç”¨ï¼Œç”¨æ¥è½¬æ¢ <code>&lt;route-view&gt;</code> æ ‡ç­¾ä½ç½®æ˜¾ç¤ºçš„å†…å®¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">      name: <span class="string">&#x27;landing-page&#x27;</span>,</span><br><span class="line">      component: <span class="built_in">require</span>(<span class="string">&#x27;@/components/LandingPage&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">&#x27;/sysinfo&#x27;</span>,</span><br><span class="line">      name: <span class="string">&#x27;system-information&#x27;</span>,</span><br><span class="line">      component: <span class="built_in">require</span>(<span class="string">&#x27;@/components/LandingPage/SystemInformation&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">      redirect: <span class="string">&#x27;/home&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å…¶å®ƒçš„é¡µé¢csså’Œå¸ƒå±€ç¨å¾®è°ƒæ•´ä¸€ä¸‹ï¼Œæ•´ä¸ªå¸ƒå±€å°±okäº†ã€‚æœ€åæ•ˆæœé¡µã€‚</p><img src="/2017/06/19/start-from-the-very-beginning-for-electron-with-element-ui-and-icon/2.png" class="" title="æ•ˆæœé¡µé¢"><h1 id="é—®é¢˜è¯´æ˜"><a class="markdownIt-Anchor" href="#é—®é¢˜è¯´æ˜"></a> é—®é¢˜è¯´æ˜</h1><h2 id="å›¾æ ‡ä¸å­—ä½“å¯¹å…¶é—®é¢˜"><a class="markdownIt-Anchor" href="#å›¾æ ‡ä¸å­—ä½“å¯¹å…¶é—®é¢˜"></a> å›¾æ ‡ä¸å­—ä½“å¯¹å…¶é—®é¢˜</h2><p>è°ƒæ•´ä¸€ä¸‹å›¾æ ‡å¤§å°ï¼Œå¾®è°ƒä¸€ä¸‹ä½ç½®ï¼Œ<a href="https://github.com/aleen42/PersonalWiki/blob/master/translation/align_svg/align_svg.md">å‚è€ƒ</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.fa-icon</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">0.125em</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="eslinté—®é¢˜"><a class="markdownIt-Anchor" href="#eslinté—®é¢˜"></a> eslinté—®é¢˜</h2><p>eslintä¼šæ£€æŸ¥ä»£ç æ ¼å¼ï¼Œæ‰€ä»¥å¹³æ—¶è¦æ³¨æ„æŠŠæ ¼å¼åŒ–å¼„çš„è·Ÿeslintä¸€æ ·ï¼Œä¸ç„¶æ¯æ¬¡æ ¼å¼åŒ–éƒ½ä¼šå‡ºé”™ã€‚</p><p>è¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼Œé€šè¿‡é…ç½® <code>.eslintrc.js</code> å¯ä»¥æ§åˆ¶æ£€æµ‹çš„é€‰é¡¹ï¼Œæ¯”å¦‚ä¸‹é¢çš„é€‰é¡¹ç¦ç”¨äº†å‡½æ•°ç©ºæ ¼çš„æ£€æŸ¥ï¼Œå› ä¸ºä¸€ç›´è°ƒä¸å¥½</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x27;rules&#x27;: &#123;</span><br><span class="line">  &quot;space-before-function-paren&quot;: [&quot;error&quot;, &#123;</span><br><span class="line">      &quot;anonymous&quot;: &quot;never&quot;,</span><br><span class="line">      &quot;named&quot;: &quot;never&quot;,</span><br><span class="line">      &quot;asyncArrow&quot;: &quot;never&quot;</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="templateåªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ "><a class="markdownIt-Anchor" href="#templateåªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ "></a> templateåªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ </h2><p>vueçš„æ¨¡æ¿çš„æ ¹å…ƒç´ åªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ </p><blockquote><p>Component template should contain exactly one root element</p></blockquote><p>æ‰€ä»¥åªèƒ½å†™</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>abcde....</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è€Œä¸èƒ½å†™æˆ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>abcde....<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="æ‰“åŒ…ç¼–è¯‘"><a class="markdownIt-Anchor" href="#æ‰“åŒ…ç¼–è¯‘"></a> æ‰“åŒ…ç¼–è¯‘</h1><p>æ‰“åŒ…ç¼–è¯‘å¯ä»¥è¿è¡Œå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn run build</span><br></pre></td></tr></table></figure><p>åªå‘ç°å¯ä»¥ç¼–è¯‘æˆexeæ–‡ä»¶ï¼Œæ— æ³•ç”Ÿæˆmacä¸Šçš„æ–‡ä»¶ï¼Œåæ¥å‘ç°åœ¨ electron-builder çš„æ–‡æ¡£é‡Œå‘ç°äº†ï¼Œç¼–è¯‘åªèƒ½ç”Ÿæˆæœ¬èº«å¹³å°çš„æ–‡ä»¶<a href="https://github.com/electron-userland/electron-builder/wiki/Multi-Platform-Build">Multi Platform Build</a></p><blockquote><p>Donâ€™t expect that you can build app for all platforms on one platform.</p></blockquote><p>ç®—äº†ï¼Œå…¶å®ƒå¹³å°åˆ°æ—¶å€™å€Ÿä¸ªç”µè„‘ç¼–è¯‘ä¸€ä¸‹å§ã€‚</p><h1 id="ç¨å¾®æ€»ç»“ä¸€ä¸‹"><a class="markdownIt-Anchor" href="#ç¨å¾®æ€»ç»“ä¸€ä¸‹"></a> ç¨å¾®æ€»ç»“ä¸€ä¸‹</h1><p>äº†è§£äº†ä¸»è¦çš„é¡¹ç›®ç»“æ„ï¼Œåˆæ­¥ä½¿ç”¨äº†vue-routerç›¸å…³å†…å®¹ï¼Œå¯¹äºvueç»„ä»¶çš„ç¼–å†™ä¹Ÿæœ‰äº†ä¸€å®šçš„äº†è§£ã€‚</p><p>ä¸å¤ªäº†è§£çš„åœ°æ–¹æ˜¯storeçš„å†…å®¹ï¼Œè¿™éƒ¨åˆ†è¿˜æ²¡æœ‰æ¥è§¦åˆ°ã€‚</p><p>ç„¶åä»£ç å¯ä»¥ä¸Šä¼ äº†ã€‚<img class="emoji" draggable="false" alt="ğŸŒ‘" src="https://twemoji.maxcdn.com/2/72x72/1f311.png"/></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä¸Šä¸€ç¯‡æ£é¼“äº†ä¸€ä¸ªElectron-vueçš„è„šæ‰‹æ¶ï¼ŒæŠŠVueçš„å…¨å®¶æ¡¶æ­å»ºäº†ä¸€ä¸‹ï¼Œä¹Ÿå¾ˆç»™é¢å­çš„è·‘äº†èµ·æ¥ã€‚æ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥å®Œæˆæˆ‘å¿ƒä¸­çš„é‚£ä¸ªâ€œå¥¹â€äº†ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå…ˆå·´æ‹‰å·´æ‹‰è‡ªå·±çš„æŠ€èƒ½ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Vueç”¨è¿‡ï¼Œäº†è§£Vueçš„MVVMæ€æƒ³ï¼Œä½†æ˜¯Vue2åŠå…¶å…¨</summary>
      
    
    
    
    <category term="ä½“éªŒElectron" scheme="https://sumygg.com/categories/%E4%BD%93%E9%AA%8CElectron/"/>
    
    
    <category term="electron" scheme="https://sumygg.com/tags/electron/"/>
    
    <category term="icon" scheme="https://sumygg.com/tags/icon/"/>
    
    <category term="vue" scheme="https://sumygg.com/tags/vue/"/>
    
    <category term="elementui" scheme="https://sumygg.com/tags/elementui/"/>
    
    <category term="vueawesome" scheme="https://sumygg.com/tags/vueawesome/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨electron-vueæ­å»ºè„šæ‰‹æ¶</title>
    <link href="https://sumygg.com/2017/06/17/get-start-with-vue-and-electron/"/>
    <id>https://sumygg.com/2017/06/17/get-start-with-vue-and-electron/</id>
    <published>2017-06-17T15:51:25.000Z</published>
    <updated>2021-03-16T08:51:03.004Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜¯çš„ï¼Œæœ€è¿‘æ— èŠï¼Œæ‰“ç®—å¼€ä¸ªæ–°å‘ï¼Œæƒ³ç”¨Electronåšç‚¹ä¸œè¥¿ã€‚æ¶‰åŠå‰ç«¯çš„ä¸œè¥¿æ€»æ˜¯æœ‰å¥½å¤šé€‰æ‹©ï¼Œä¹Ÿå°±æœ‰å¥½å¤šç»„åˆã€‚</p><p>ä½¿ç”¨Electronï¼Œå¯ä»¥ä½¿ç”¨åŸç”Ÿçš„jså†™ï¼Œä¹Ÿå¯ä»¥ç”¨babelåŠ ç‚¹æ–°ç‰¹æ€§ä»€ä¹ˆã€‚å¬è¯´å¯ä»¥ç”¨Reactï¼Œä½†æ˜¯è¢«æˆ‘å¦å†³äº†ï¼Œæ²¡æœ‰åŸºç¡€ç†Ÿæ‚‰èµ·æ¥å¤ªéº»çƒ¦ã€‚è€ƒè™‘æœ€è¿‘ç”¨äº†Vueï¼Œå†³å®šå°è¯•ä¸€äº›Vue2ä»€ä¹ˆçš„ã€‚</p><p>æŸ¥äº†ä¸€äº›èµ„æ–™ï¼Œç”¨<a href="https://github.com/SimulatedGREG/electron-vue">SimulatedGREG/electron-vue</a>å¯ä»¥ä½œä¸ºåˆå§‹çš„ä¸€ä¸ªè„šæ‰‹æ¶ã€‚</p><p>æ ¹æ®æ–‡æ¡£ä¸€æ­¥ä¸€æ­¥åšä¸‹æ¥å°±å¥½ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Install vue-cli and scaffold boilerplate</span></span><br><span class="line">npm install -g vue-cli</span><br><span class="line">vue init simulatedgreg/electron-vue my-project</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Install dependencies and run your app</span></span><br><span class="line">cd my-project</span><br><span class="line">yarn # or npm install</span><br><span class="line">yarn run dev # or npm run dev</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰ <code>yarn</code> å‘½ä»¤å¯ä»¥é€šè¿‡ <code>npm install yarn -g</code> å®‰è£…ã€‚</p><p>é¦–å…ˆæ‰¾ç›®å½•åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå‡ºç°çš„ä¿¡æ¯éšä¾¿é€‰äº†é€‰ï¼Œä¹Ÿä¸çŸ¥é“è¿™äº›å·¥å…·éƒ½æ˜¯å¹²å•¥çš„ã€‚ã€‚ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$ vue init simulatedgreg&#x2F;electron-vue markdown-yaml-info-manager</span><br><span class="line"></span><br><span class="line">? Application Name (markdown-yaml-info-manager)</span><br><span class="line">? Application Name markdown-yaml-info-manager</span><br><span class="line">? Project description (An electron-vue project)</span><br><span class="line">? Project description An electron-vue project</span><br><span class="line">? Select which Vue plugins to install (Press &lt;space&gt; to select)</span><br><span class="line">? Select which Vue plugins to install axios, vue-electron, vue-router, vuex</span><br><span class="line">? Use linting with ESLint? (Y&#x2F;n) y</span><br><span class="line">? Use linting with ESLint? Yes</span><br><span class="line">? Which eslint config would you like to use? (Use arrow keys)</span><br><span class="line">? Which eslint config would you like to use? Standard</span><br><span class="line">? Setup unit testing with Karma + Mocha? (Y&#x2F;n) n</span><br><span class="line">? Setup unit testing with Karma + Mocha? No</span><br><span class="line">? Setup end-to-end testing with Spectron + Mocha? (Y&#x2F;n) n</span><br><span class="line">? Setup end-to-end testing with Spectron + Mocha? No</span><br><span class="line">? What build tool would you like to use? (Use arrow keys)</span><br><span class="line">? What build tool would you like to use? builder</span><br><span class="line">? author (sumy &lt;sunmingjian8@gmail.com&gt;)</span><br><span class="line">? author sumy &lt;sunmingjian8@gmail.com&gt;</span><br><span class="line"></span><br><span class="line">   vue-cli Â· Generated &quot;markdown-yaml-info-manager&quot;.</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">All set. Welcome to your new electron-vue project!</span><br><span class="line"></span><br><span class="line">Make sure to check out the documentation for this boilerplate at</span><br><span class="line">https:&#x2F;&#x2F;simulatedgreg.gitbooks.io&#x2F;electron-vue&#x2F;content&#x2F;.</span><br><span class="line"></span><br><span class="line">Next Steps:</span><br><span class="line"></span><br><span class="line">  $ cd markdown-yaml-info-manager</span><br><span class="line">  $ yarn (or &#96;npm install&#96;)</span><br><span class="line">  $ yarn run dev (or &#96;npm run dev&#96;)</span><br></pre></td></tr></table></figure><p>æœ€åçš„æ­¥éª¤ä½¿ç”¨ <code>npm install</code> çš„æ—¶å€™æŠ¥é”™äº†ï¼Œå®‰è£…å’Œä½¿ç”¨ <code>yarn</code> å°±æ²¡å‡ºç°æŠ¥é”™çš„é—®é¢˜ã€‚ä¹‹åè¿è¡Œ <code>yarn</code> å’Œ <code>yarn run dev</code> å‡ºæ¥å¦‚ä¸‹ç•Œé¢ï¼š</p><img src="/2017/06/17/get-start-with-vue-and-electron/1.png" class="" title="æµ‹è¯•"><p>æ„Ÿè§‰è¿˜ä¸é”™ï¼Œä¹Ÿæ”¯æŒä¿®æ”¹è‡ªåŠ¨åŠ è½½å•¥çš„ã€‚ã€‚ã€‚æœ¬æ¥è¿˜æƒ³è¯•è¯•sassï¼Œç»“æœä¸å¤ªæ‡‚ï¼Œè¿˜æ˜¯æ”¾å¼ƒå§ï¼Œå°±è¿™æ ·å¼€å‘æŒºå¥½çš„<img class="emoji" draggable="false" alt="ğŸ˜‚" src="https://twemoji.maxcdn.com/2/72x72/1f602.png"/>ã€‚ã€‚ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æ˜¯çš„ï¼Œæœ€è¿‘æ— èŠï¼Œæ‰“ç®—å¼€ä¸ªæ–°å‘ï¼Œæƒ³ç”¨Electronåšç‚¹ä¸œè¥¿ã€‚æ¶‰åŠå‰ç«¯çš„ä¸œè¥¿æ€»æ˜¯æœ‰å¥½å¤šé€‰æ‹©ï¼Œä¹Ÿå°±æœ‰å¥½å¤šç»„åˆã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨Electronï¼Œå¯ä»¥ä½¿ç”¨åŸç”Ÿçš„jså†™ï¼Œä¹Ÿå¯ä»¥ç”¨babelåŠ ç‚¹æ–°ç‰¹æ€§ä»€ä¹ˆã€‚å¬è¯´å¯ä»¥ç”¨Reactï¼Œä½†æ˜¯è¢«æˆ‘å¦å†³äº†ï¼Œæ²¡æœ‰åŸºç¡€ç†Ÿæ‚‰èµ·æ¥å¤ªéº»çƒ¦ã€‚è€ƒè™‘æœ€è¿‘ç”¨äº†</summary>
      
    
    
    
    <category term="ä½“éªŒElectron" scheme="https://sumygg.com/categories/%E4%BD%93%E9%AA%8CElectron/"/>
    
    
    <category term="electron" scheme="https://sumygg.com/tags/electron/"/>
    
    <category term="vue" scheme="https://sumygg.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•ä»¥å¹¶å‘æ–¹å¼åœ¨åŒä¸€ä¸ªæµä¸Šæ‰§è¡Œå¤šç§æ“ä½œ</title>
    <link href="https://sumygg.com/2017/06/07/java8-stream-forker-consumer-framework/"/>
    <id>https://sumygg.com/2017/06/07/java8-stream-forker-consumer-framework/</id>
    <published>2017-06-07T07:00:58.000Z</published>
    <updated>2021-03-16T08:51:03.003Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘çœ‹äº†ã€ŠJava8å®æˆ˜ã€‹ï¼Œäº†è§£äº†Java8 Streamçš„ä¸€äº›å†…å®¹ã€‚åœ¨Java 8ä¸­ï¼Œæµçš„ä¸€ä¸ªå±€é™æ€§åœ¨äºï¼Œåªèƒ½éå†ä¸€æ¬¡ï¼Œå†æ¬¡éå†çš„æ—¶å€™ä¼šå‡ºç°å¼‚å¸¸ï¼š</p><blockquote><p>java.lang.IllegalStateException: stream has already been operated upon or closed</p></blockquote><p>å¯¹äºè¿™ç§æƒ…å†µï¼Œã€ŠJava8å®æˆ˜ã€‹é™„å½•Cç»™å‡ºäº†ä¸€ç§å®ç°æ–¹å¼ï¼Œé€šè¿‡ <code>Spliterator</code> ç»“åˆ <code>BlockingQueues</code> å’Œ <code>Futures</code> æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p><h1 id="ä¸»è¦æ€æƒ³"><a class="markdownIt-Anchor" href="#ä¸»è¦æ€æƒ³"></a> ä¸»è¦æ€æƒ³</h1><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªStreamForkerç±»å¯¹å½“å‰éœ€è¦è¢«Forkçš„Streamè¿›è¡ŒåŒ…è£…ï¼Œå‘StreamForkerç±»ä¸­æ·»åŠ çš„æ“ä½œç”±ç´¢å¼•æ¥æ ‡è¯†ï¼Œä¹‹åå¯ä»¥é€šè¿‡ç´¢å¼•æ¥å–åˆ°è¯¥æ“ä½œçš„ç»“æœã€‚</p><img src="/2017/06/07/java8-stream-forker-consumer-framework/1.png" class="" title="StreamForkerä¸»è¦æ€æƒ³"><p>StreamForkerä¼šéå†æ¯ä¸ªæ“ä½œï¼Œå¹¶åˆ›å»ºç›¸åº”çš„å‰¯æœ¬ï¼Œå¹¶è¡Œçš„åœ¨å¤åˆ¶æµä¸Šæ‰§è¡Œè¿™äº›æ“ä½œï¼Œå¹¶å°†æœ€ç»ˆçš„ç»“æœæ•´åˆåˆ°ä¸€ä¸ªMapä¸­ã€‚ <code>Results</code> ç»“æœå®šä¹‰å¦‚ä¸‹ï¼Œå¯ä»¥ç”¨æ¥è·å–æ‰§è¡Œæ“ä½œçš„ç»“æœã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Results</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> &lt;R&gt; <span class="function">R <span class="title">get</span><span class="params">(Object key)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢ï¼Œè¯´æ˜ä¸€ä¸‹å„ä¸ªéƒ¨åˆ†çš„å®ç°ã€‚</p><h1 id="å¤åˆ¶æµ"><a class="markdownIt-Anchor" href="#å¤åˆ¶æµ"></a> å¤åˆ¶æµ</h1><p>å½“æˆ‘ä»¬å‘StreamForkerä¸­æ·»åŠ äº†Nä¸ªæ“ä½œä¹‹åï¼Œå°±éœ€è¦å°†Streamå¤åˆ¶Nä»½ï¼Œå¤åˆ¶Nä»½çš„æ“ä½œç”± <code>ForkingStreamConsumer</code> å®Œæˆã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.BlockingQueue;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Future;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ForkingStreamConsumer</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Consumer</span>&lt;<span class="title">T</span>&gt;, <span class="title">Results</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Object END_OF_STREAM = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> List&lt;BlockingQueue&lt;T&gt;&gt; queues;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Map&lt;Object, Future&lt;?&gt;&gt; actions;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ForkingStreamConsumer</span><span class="params">(List&lt;BlockingQueue&lt;T&gt;&gt; queues, Map&lt;Object, Future&lt;?&gt;&gt; actions)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.queues = queues;</span><br><span class="line">        <span class="keyword">this</span>.actions = actions;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        queues.forEach(q -&gt; q.add(t));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">finish</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        accept((T) END_OF_STREAM);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> &lt;R&gt; <span class="function">R <span class="title">get</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> ((Future&lt;R&gt;) actions.get(key)).get();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç±»å®ç°äº†Consumeræ¥å£å’ŒReusltsæ¥å£ï¼Œå¹¶æŒæœ‰queueså’Œactionsä¸¤ä¸ªå¼•ç”¨ã€‚</p><p>åœ¨è¿™é‡Œï¼Œæ¯å½“ForkingStreamConsumeræ¥å—æµä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œå®ƒå°±ä¼šå°†è¯¥å…ƒç´ æ·»åŠ åˆ°æ‰€æœ‰é˜Ÿåˆ—ï¼Œfinish()æ–¹æ³•ä¼šå°†æœ€åä¸€ä¸ªå“¨å…µå…ƒç´ æ·»åŠ åˆ°æ‰€æœ‰é˜Ÿåˆ—ã€‚</p><p>Resultsæ¥å£çš„get()æ–¹æ³•ä¼šæ ¹æ®é”®å€¼å–åˆ°ç›¸åº”çš„Futureæ¥è·å–ç»“æœï¼Œè§£æå¹¶è¿”å›ã€‚</p><h1 id="åº”ç”¨æ“ä½œ"><a class="markdownIt-Anchor" href="#åº”ç”¨æ“ä½œ"></a> åº”ç”¨æ“ä½œ</h1><p>ForkingStreamConsumerè´Ÿè´£åˆ†å‘å…ƒç´ ï¼Œè¿˜éœ€è¦ä¸€ä¸ªå»å¤„ç†BlockingQueueé‡Œçš„å…ƒç´ ã€‚è¿™é‡Œä½¿ç”¨ <code>Spliterator</code> æ¥å®Œæˆè¿™ä¸ªè€Œæ“ä½œï¼Œé€šè¿‡ <code>StreamSupport.stream()</code> å’Œ <code>Spliterator</code> çš„å®ç°å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„æµã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Spliterator;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.BlockingQueue;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BlockingQueueSpliterator</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Spliterator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> BlockingQueue&lt;T&gt; q;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BlockingQueueSpliterator</span><span class="params">(BlockingQueue&lt;T&gt; q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.q = q;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">tryAdvance</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; action)</span> </span>&#123;</span><br><span class="line">        T t;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                t = q.take();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (t != ForkingStreamConsumer.END_OF_STREAM) &#123;</span><br><span class="line">            action.accept(t);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Spliterator&lt;T&gt; <span class="title">trySplit</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">estimateSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">characteristics</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Spliteratoræ¥å£æœ‰å››ä¸ªæ–¹æ³•éœ€è¦å®ç°ã€‚</p><ol><li><code>tryAdvance()</code> å®šä¹‰å¦‚ä½•é¡ºåºéå†æ¯ä¸ªå…ƒç´ ï¼Œå¦‚æœè¿˜æœ‰éœ€è¦éå†çš„å…ƒç´ ï¼Œè¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ï¼›å®ƒä»BlockingQueueä¸­å–å¾—åŸå§‹æµçš„å…ƒç´ ï¼Œè¿™äº›å…ƒç´ ç”±ForkingStreamConsumeræ·»åŠ ï¼Œç„¶åä¾æ¬¡å¤„ç†è¿™äº›å…ƒç´ ã€‚ç›´åˆ°å‘ç°å“¨å…µå…ƒç´ ï¼Œè¡¨ç¤ºé˜Ÿåˆ—ä¸­æ²¡æœ‰éœ€è¦å¤„ç†çš„å…ƒç´ äº†ã€‚</li><li><code>trySplit()</code> ä¼šå°†å½“å‰å…ƒç´ åˆ’åˆ†å‡ºä¸€éƒ¨åˆ†ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Spliteratorï¼ŒåŒæ—¶è¿™ä¸¤ä¸ªSpliteratorä¼šå¹¶è¡Œæ‰§è¡Œã€‚å¦‚æœæ— æ³•åˆ’åˆ†åˆ™è¿”å› nullã€‚</li><li><code>estimateSize()</code> ç”¨äºä¼°ç®—è¿˜æœ‰å¤šå°‘ä¸ªå…ƒç´ éœ€è¦éå†ã€‚åœ¨è¿™é‡Œæ²¡æœ‰è¿›è¡Œä¼°ç®—ã€‚</li><li><code>characteristice()</code> è¡¨ç¤ºè¯¥Spliteratoræœ‰å“ªäº›ç‰¹æ€§ï¼Œç”¨äºå¯ä»¥æ›´å¥½æ§åˆ¶å’Œä¼˜åŒ–Spliteratorçš„ä½¿ç”¨ã€‚</li></ol><p>é€šè¿‡å®ç°çš„BlockingQueueSpliteratorçš„å»¶è¿Ÿç»‘å®šèƒ½åŠ›ï¼Œå¤„ç†æµä¸­çš„å„ä¸ªå…ƒç´ ã€‚</p><h1 id="æ¡†æ¶"><a class="markdownIt-Anchor" href="#æ¡†æ¶"></a> æ¡†æ¶</h1><p>ä¸Šé¢ä¸¤éƒ¨åˆ†éƒ½å·²ç»å®ç°ï¼Œä¸‹é¢éœ€è¦å®ç°ä¸€ä¸ªæ¡†æ¶ï¼Œå¯ä»¥åŒ…è£…Streamï¼Œä¸ºStreamæ·»åŠ forkæ“ä½œï¼Œå¹¶è·å–æ“ä½œç»“æœã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.BlockingQueue;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CompletableFuture;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Future;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.LinkedBlockingDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.StreamSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StreamForker</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Stream stream;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Map&lt;Object, Function&lt;Stream&lt;T&gt;, ?&gt;&gt; forks = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StreamForker</span><span class="params">(Stream&lt;T&gt; stream)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.stream = stream;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> StreamForker&lt;T&gt; <span class="title">fork</span><span class="params">(Object key, Function&lt;Stream&lt;T&gt;, ?&gt; f)</span> </span>&#123;</span><br><span class="line">        forks.put(key, f);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Results <span class="title">getResults</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ForkingStreamConsumer&lt;T&gt; consumer = build();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            stream.forEach(consumer);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            consumer.finish();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> consumer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ForkingStreamConsumer&lt;T&gt; <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;BlockingQueue&lt;T&gt;&gt; queues = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        Map&lt;Object, Future&lt;?&gt;&gt; actions = forks.entrySet().stream()</span><br><span class="line">                .reduce(<span class="keyword">new</span> HashMap&lt;Object, Future&lt;?&gt;&gt;(),</span><br><span class="line">                        (map, e) -&gt; &#123;</span><br><span class="line">                            map.put(e.getKey(), getOperationResult(queues, e.getValue()));</span><br><span class="line">                            <span class="keyword">return</span> map;</span><br><span class="line">                        &#125;, (m1, m2) -&gt; &#123;</span><br><span class="line">                            m1.putAll(m2);</span><br><span class="line">                            <span class="keyword">return</span> m1;</span><br><span class="line">                        &#125;);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ForkingStreamConsumer&lt;&gt;(queues, actions);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Future&lt;?&gt; getOperationResult(List&lt;BlockingQueue&lt;T&gt;&gt; queues, Function&lt;Stream&lt;T&gt;, ?&gt; f) &#123;</span><br><span class="line">        BlockingQueue&lt;T&gt; queue = <span class="keyword">new</span> LinkedBlockingDeque&lt;&gt;();</span><br><span class="line">        queues.add(queue);</span><br><span class="line">        Spliterator&lt;T&gt; spliterator = <span class="keyword">new</span> BlockingQueueSpliterator&lt;&gt;(queue);</span><br><span class="line">        Stream&lt;T&gt; source = StreamSupport.stream(spliterator, <span class="keyword">false</span>);</span><br><span class="line">        <span class="keyword">return</span> CompletableFuture.supplyAsync(() -&gt; f.apply(source));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>StreamForkerçš„æ„é€ æ–¹æ³•æ¥æ”¶ä¸€ä¸ªæµï¼Œè¡¨ç¤ºéœ€è¦è¢«forkçš„æµã€‚é€šè¿‡ <code>fork()</code> æ–¹æ³•å¯ä»¥å¢åŠ æ ‡è¯†å’Œæ“ä½œã€‚</p><p><code>getResults()</code> æ–¹æ³•è¿”å› Results æ¥å£çš„å®ç°ï¼Œå¯ä»¥é€šè¿‡æ ‡è¯†è·å–æ“ä½œç»“æœã€‚é€šè¿‡ <code>build()</code> æ„å»ºä¸€ä¸ªForkingStreamConsumerï¼Œå°†åŸå§‹æµä¸­çš„å…ƒç´ æŒ¨ä¸ªåˆ†å‘ï¼Œæœ€å<code>finish()</code>è¡¨ç¤ºæ“ä½œç»“æŸã€‚</p><p><code>build()</code> æ–¹æ³•ç”¨äºæ„å»ºForkingStreamConsumerï¼Œä¸»è¦åˆ›å»ºä¸€ä¸ªMapï¼ŒMapçš„é”®å°±æ˜¯ä¹‹å‰çš„å„ä¸ªæ“ä½œçš„æ ‡è¯†ï¼Œå€¼æ˜¯å„ä¸ªæ“ä½œçš„ç»“æœï¼Œç”¨Futrueæ¥è¡¨ç¤ºã€‚æ¯ä¸ªFutureéƒ½æ˜¯é€šè¿‡ <code>getOperationResult()</code> åˆ›å»ºçš„ã€‚</p><p><code>getOperationResult()</code> æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ BlockingQueueï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°é˜Ÿåˆ—çš„åˆ—è¡¨ã€‚è¿™ä¸ªBlockingQueueç”¨äºå­˜å‚¨åˆ†å‘çš„åŸå§‹æµä¸­çš„å…ƒç´ ï¼Œç„¶åå°†é˜Ÿåˆ—ç»‘å®šåˆ°BlockingQueueSpliteratorä¸Šç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„æµï¼Œæœ€ååˆ›å»ºä¸€ä¸ªFutureæ¥æ‰§è¡Œéœ€è¦åœ¨è¿™ä¸ªæµä¸Šåº”ç”¨çš„æ“ä½œã€‚</p><h1 id="ä½¿ç”¨"><a class="markdownIt-Anchor" href="#ä½¿ç”¨"></a> ä½¿ç”¨</h1><p>åˆ°æ­¤æ•´ä¸ªStreamForkerå°±å®Œæˆäº†ï¼Œè¿™é‡Œæˆ‘ä»¬åº”ç”¨ä¸€ä¸‹ï¼ŒåŒæ—¶æ±‚ä¸€ä¸ªæ•´æ•°æµçš„æœ€å¤§å€¼ã€æœ€å°å€¼å’Œå¹³å‡å€¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.IntStream;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Stream&lt;Integer&gt; stream = IntStream.rangeClosed(<span class="number">1</span>, <span class="number">10</span>).boxed();</span><br><span class="line"></span><br><span class="line">        Results results = <span class="keyword">new</span> StreamForker&lt;Integer&gt;(stream)</span><br><span class="line">                .fork(<span class="string">&quot;min&quot;</span>, s -&gt; s.min(Comparator.naturalOrder()).orElse(<span class="keyword">null</span>))</span><br><span class="line">                .fork(<span class="string">&quot;max&quot;</span>, s -&gt; s.max(Comparator.naturalOrder()).orElse(<span class="keyword">null</span>))</span><br><span class="line">                .fork(<span class="string">&quot;avg&quot;</span>, s -&gt; s.mapToInt(x -&gt; x).average().orElse(<span class="number">0</span>))</span><br><span class="line">                .getResults();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> maxVal = results.get(<span class="string">&quot;max&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> minVal = results.get(<span class="string">&quot;min&quot;</span>);</span><br><span class="line">        <span class="keyword">double</span> avgVal = results.get(<span class="string">&quot;avg&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Max Value: &quot;</span> + maxVal);</span><br><span class="line">        System.out.println(<span class="string">&quot;Min Value: &quot;</span> + minVal);</span><br><span class="line">        System.out.println(<span class="string">&quot;Avg Value: &quot;</span> + avgVal);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨StreamForkerï¼Œå¯ä»¥å¤åˆ¶ä¸€ä¸ªæ•´æ•°æµï¼Œå¹¶åœ¨æ¯ä¸ªæµä¸Šåº”ç”¨ä¸åŒçš„æ“ä½œã€‚åŒæ—¶å†…éƒ¨å®ç°æ˜¯å¼‚æ­¥çš„ï¼Œ <code>getResults()</code>æ–¹æ³•ä¼šç«‹å³è¿”å›ï¼Œåªæœ‰å½“éœ€è¦å–ç”¨ç»“æœçš„æ—¶å€™æ‰ä¼šå°è¯•ç­‰å¾…æ“ä½œæ‰§è¡Œå®Œæˆã€‚</p><p>ä¸Šé¢ä»£ç çš„è¾“å‡ºå¦‚ä¸‹ï¼š</p><blockquote><p>Max Value: 10<br />Min Value: 1<br />Avg Value: 5.5</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘çœ‹äº†ã€ŠJava8å®æˆ˜ã€‹ï¼Œäº†è§£äº†Java8 Streamçš„ä¸€äº›å†…å®¹ã€‚åœ¨Java 8ä¸­ï¼Œæµçš„ä¸€ä¸ªå±€é™æ€§åœ¨äºï¼Œåªèƒ½éå†ä¸€æ¬¡ï¼Œå†æ¬¡éå†çš„æ—¶å€™ä¼šå‡ºç°å¼‚å¸¸ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;java.lang.IllegalStateException: stream ha</summary>
      
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="https://sumygg.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="java" scheme="https://sumygg.com/tags/java/"/>
    
    <category term="java8" scheme="https://sumygg.com/tags/java8/"/>
    
    <category term="stream" scheme="https://sumygg.com/tags/stream/"/>
    
    <category term="æµ" scheme="https://sumygg.com/tags/%E6%B5%81/"/>
    
    <category term="futures" scheme="https://sumygg.com/tags/futures/"/>
    
    <category term="spliterator" scheme="https://sumygg.com/tags/spliterator/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºç½‘é¡µæ·»åŠ ä¸€ä¸ªç½‘æ ¼ç²’å­åŠ¨ç”»çš„èƒŒæ™¯</title>
    <link href="https://sumygg.com/2017/05/29/make-a-animation-of-grid-particle-in-canvas/"/>
    <id>https://sumygg.com/2017/05/29/make-a-animation-of-grid-particle-in-canvas/</id>
    <published>2017-05-29T10:26:21.000Z</published>
    <updated>2021-03-16T08:51:03.003Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½äº›æ—¥å­ä¹‹å‰ï¼Œå‘ç°æŸä¹çš„èƒŒæ™¯ç‰¹åˆ«æ¼‚äº®ï¼Œåœ¨æŸäº›æœºç¼˜å·§åˆä¹‹ä¸‹ï¼Œåˆåœ¨å¥½å¤šåœ°æ–¹å‘ç°äº†ç±»ä¼¼è¿™ç§â€œç½‘æ ¼ç²’å­â€çš„èƒŒæ™¯ã€‚ä¸€ç§â€œæŠ„è¢­ä¹‹é­‚â€æ²¹ç„¶è€Œç”Ÿï¼Œå¯¹ç€ä¸€ç¯‡æ–‡ç« ï¼ŒæŒ‰ç…§è‡ªå·±çš„æƒ³æ³•å®ç°äº†ä¸€ä¸‹ã€‚æœ¬æ¥æ‰“ç®—é¡ºåŠ¿æ”¹è¿›ä¸€ä¸‹â€œå¼•æ“â€ï¼Œä½†æ˜¯æ•´ä¸ªåšä¸‹æ¥å‘ç°è¿™ä¸ªâ€œå¼•æ“â€æ”¹è¿›çš„æ–¹å‘æœ‰ç‚¹åï¼Œå¯¼è‡´å¥½å¤šåœ°æ–¹å¾ˆéš¾çœ‹æ‡‚äº†ã€‚ä¸‹é¢å°†å¤§ä½“çš„æ€è·¯è¯´æ˜ä¸€ä¸‹ï¼Œå…·ä½“ç»†èŠ‚å¯ä»¥å‚è€ƒä»£ç æˆ–è€…ã€å‚è€ƒæ–‡çŒ®ã€‘ä¸­çš„æ–‡ç« ã€‚</p><h1 id="ç²’å­è¿åŠ¨"><a class="markdownIt-Anchor" href="#ç²’å­è¿åŠ¨"></a> ç²’å­è¿åŠ¨</h1><p>å‚è€ƒç‰©ç†å­¦çš„è¿åŠ¨ï¼Œè¿™é‡Œæ¯ä¸ªç²’å­çš„è¿åŠ¨æ˜¯ç‹¬ç«‹çš„ï¼Œç›¸äº’ä¹‹é—´æ²¡æœ‰ä½œç”¨åŠ›çš„å¹²æ‰°ã€‚åœ¨åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦ç»™ç²’å­è®¾ç½®åˆå§‹ä½ç½®ã€åˆå§‹é€Ÿåº¦ã€åˆå§‹é€Ÿåº¦æ–¹å‘ï¼Œæ ¹æ®è¿™å‡ ä¸ªå€¼ï¼Œå°±èƒ½è®¡ç®—å‡ºä¸‹ä¸€æ­¥ç²’å­è¿åŠ¨çš„è¡Œä¸ºã€‚</p><p>é¦–å…ˆå®šä¹‰ä¸€äº›é…ç½®å˜é‡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.opts = &#123;</span><br><span class="line">    particleAmount: <span class="number">100</span>,                  <span class="comment">//ç²’å­ä¸ªæ•°</span></span><br><span class="line">    defaultSpeed: <span class="number">0.5</span>,                    <span class="comment">//ç²’å­è¿åŠ¨é€Ÿåº¦</span></span><br><span class="line">    variantSpeed: <span class="number">0.5</span>,                    <span class="comment">//ç²’å­è¿åŠ¨é€Ÿåº¦çš„å˜é‡</span></span><br><span class="line">    particleColor: <span class="string">&quot;rgb(32,245,245)&quot;</span>,     <span class="comment">//ç²’å­çš„é¢œè‰²</span></span><br><span class="line">    lineColor: <span class="string">&quot;rgb(32,245,245)&quot;</span>,         <span class="comment">//ç½‘æ ¼è¿çº¿çš„é¢œè‰²</span></span><br><span class="line">    defaultRadius: <span class="number">1</span>,                     <span class="comment">//ç²’å­åŠå¾„</span></span><br><span class="line">    variantRadius: <span class="number">1</span>,                     <span class="comment">//ç²’å­åŠå¾„çš„å˜é‡</span></span><br><span class="line">    minDistance: <span class="number">100</span>                      <span class="comment">//ç²’å­ä¹‹é—´è¿çº¿çš„æœ€å°è·ç¦»</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæ ¹æ®è¿™äº›å˜é‡ï¼Œå¯ä»¥è®¡ç®—å‡ºç²’å­å½“å‰çš„çŠ¶æ€ä¿¡æ¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="built_in">Math</span>.random() * borderWidth;      <span class="comment">// ç²’å­å½“å‰ä½ç½®</span></span><br><span class="line"><span class="keyword">var</span> y = <span class="built_in">Math</span>.random() * borderHeight;</span><br><span class="line"><span class="keyword">var</span> w = borderWidth;                      <span class="comment">// ç²’å­è¿åŠ¨è¾¹ç•Œ</span></span><br><span class="line"><span class="keyword">var</span> h = borderHeight;</span><br><span class="line"><span class="keyword">var</span> speed = that.opts.defaultSpeed + that.opts.variantSpeed * <span class="built_in">Math</span>.random();     <span class="comment">// ç²’å­è¿åŠ¨é€Ÿåº¦</span></span><br><span class="line"><span class="keyword">var</span> directionAngle = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">360</span>);                            <span class="comment">// ç²’å­è¿åŠ¨æ–¹å‘</span></span><br><span class="line"><span class="keyword">var</span> color = that.opts.particleColor;</span><br><span class="line"><span class="keyword">var</span> radius = that.opts.defaultRadius + <span class="built_in">Math</span>.random() * that.opts.variantRadius;  <span class="comment">// ç²’å­åŠå¾„</span></span><br><span class="line"><span class="keyword">var</span> vector = &#123;   <span class="comment">// ç²’å­åœ¨æŸä¸ªæ–¹å‘ä¸Šçš„åŠ é€Ÿåº¦</span></span><br><span class="line">    x: speed * <span class="built_in">Math</span>.cos(directionAngle),</span><br><span class="line">    y: speed * <span class="built_in">Math</span>.sin(directionAngle)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ›´æ–°æ“ä½œ <strong>update</strong> ï¼Œéœ€è¦è®¡ç®—å‡ºä¸‹ä¸€å¸§ç²’å­çš„ä½ç½®ã€‚å¦‚æœç²’å­åˆ°è¾¾è¾¹ç•Œï¼Œå°†ç²’å­çš„è¯¥æ–¹å‘ä¸Šçš„åŠ é€Ÿåº¦åå‘ï¼Œæœ€åæ ¹æ®åŠ é€Ÿåº¦æ›´æ–°ä½ç½®ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (x &gt; w || x &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    vector.x *= -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (y &gt; h || y &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    vector.y *= -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">x += vector.x;</span><br><span class="line">y += vector.y;</span><br></pre></td></tr></table></figure><p>ç»˜åˆ¶æ“ä½œ <strong>draw</strong>ï¼Œ æ ¹æ®çŠ¶æ€ä¿¡æ¯ç»˜åˆ¶ç²’å­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ctx.beginPath();</span><br><span class="line">ctx.arc(x, y, radius, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</span><br><span class="line">ctx.closePath();</span><br><span class="line">ctx.fillStyle = color;</span><br><span class="line">ctx.fill();</span><br></pre></td></tr></table></figure><p>ç„¶åè¡¥å……ä¸Šæ¨¡æ¿ä»£ç ï¼Œç²’å­åŸºæœ¬çš„è¿åŠ¨æ“ä½œå°±å®Œæˆäº†ã€‚</p><h1 id="åˆ’çº¿è¿æ¥"><a class="markdownIt-Anchor" href="#åˆ’çº¿è¿æ¥"></a> åˆ’çº¿è¿æ¥</h1><p>ä¸Šé¢ç²’å­é…ç½®ä¸­æåˆ°äº†ä¸€ä¸ªå˜é‡ <code>minDistance</code> ï¼Œå¦‚æœä¸¤ä¸ªç²’å­ä¹‹é—´çš„è·ç¦»å°äºè¯¥å€¼ï¼Œå°±åœ¨è¿™ä¸¤ä¸ªç²’å­ä¹‹é—´ç»˜åˆ¶ä¸€æ¡è¿çº¿ã€‚ä½†æ˜¯å•çº¯ç»˜åˆ¶è¿çº¿ä¸å¤ªç¾è§‚ï¼Œæœ€å¥½æ ¹æ®è·ç¦»ï¼Œè·ç¦»è¶Šè¿‘è¿çº¿çš„é¢œè‰²è¶Šæ·±ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; that.spirits.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> distance = <span class="built_in">Math</span>.sqrt(<span class="built_in">Math</span>.pow(x - that.spirits[i].x(), <span class="number">2</span>) + <span class="built_in">Math</span>.pow(y - that.spirits[i].y(), <span class="number">2</span>));</span><br><span class="line">    <span class="keyword">var</span> opacity = <span class="number">1</span> - distance / that.opts.minDistance;</span><br><span class="line">    <span class="keyword">if</span> (opacity &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        ctx.lineWidth = <span class="number">0.5</span>;</span><br><span class="line">        ctx.strokeStyle = <span class="string">&quot;rgba(&quot;</span> + lineColor[<span class="number">0</span>] + <span class="string">&quot;,&quot;</span> + lineColor[<span class="number">1</span>] + <span class="string">&quot;,&quot;</span> + lineColor[<span class="number">2</span>] + <span class="string">&quot;,&quot;</span> + opacity + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        ctx.moveTo(x, y);</span><br><span class="line">        ctx.lineTo(that.spirits[i].x(), that.spirits[i].y());</span><br><span class="line">        ctx.closePath();</span><br><span class="line">        ctx.stroke();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>distance</code> çš„è®¡ç®—ä½¿ç”¨äº†äº®ç‚¹ä¹‹é—´çš„è·ç¦»å…¬å¼ã€‚æŠŠè¿™æ®µä»£ç æ”¾åˆ° <strong>draw</strong> å‡½æ•°å†…ï¼Œè¿™æ ·åŸºæœ¬ä¸Šå°±å®Œæˆäº†ã€‚</p><p>è¿˜éœ€è¦è€ƒè™‘ä¸€ç‚¹ï¼Œå¦‚æœçª—å£å¤§å°æ”¹å˜ï¼Œé‚£ä¹ˆè¶…å‡ºè¾¹ç•Œçš„ç²’å­å¯èƒ½å†ä¹Ÿå›ä¸æ¥äº†ã€‚è¿™é‡Œä¸ºç›‘å¬äº† <code>resize</code> äº‹ä»¶ï¼Œåœ¨resizeçš„æ—¶å€™ï¼Œå¦‚æœæœ‰ç²’å­è¶…å‡ºäº†çª—å£èŒƒå›´ï¼Œé‚£ä¹ˆå°±å°†è¯¥ç²’å­é‡æ–°æ”¾ç½®åˆ°è¾¹ç•Œä½ç½®ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">resize: <span class="function"><span class="keyword">function</span> (<span class="params">width, height</span>) </span>&#123;</span><br><span class="line">    w = width;</span><br><span class="line">    h = height;</span><br><span class="line">    <span class="keyword">if</span> (x &gt;= w) x = w;</span><br><span class="line">    <span class="keyword">if</span> (y &gt;= h) y = h;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤§æ¦‚éœ€è¦æ³¨æ„çš„åœ°æ–¹å°±è¿™ä¹ˆå¤šäº†ï¼Œæˆ‘æŠŠè‡ªå·±å®ç°çš„ä»£ç æ”¾åˆ°jsfiddleä¸Šï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/otgn0am4/embedded/js,resources,html,css,result/light" frameborder="0" loading="lazy" allowfullscreen></iframe><h1 id="ç½‘é¡µèƒŒæ™¯"><a class="markdownIt-Anchor" href="#ç½‘é¡µèƒŒæ™¯"></a> ç½‘é¡µèƒŒæ™¯</h1><p>æ¥ä¸‹æ¥å°±æ˜¯è¦æŠŠè¿™ä¸ªcanvasè®¾ç½®ä¸ºèƒŒæ™¯çš„æ—¶å€™äº†ï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š</p><ol><li>Canvasä»£ç åŠ è½½éœ€è¦ä¸€å®šçš„æ—¶é—´ï¼Œæ‰€ä»¥æœ€å¥½æŠŠå®šä¹‰Canvasçš„CSSèƒŒæ™¯é¢œè‰²å’Œç½‘é¡µèƒŒæ™¯é¢œè‰²è®¾ä¸ºä¸€è‡´</li><li>è¦å°†Canvaså……æ»¡èƒŒæ™¯ï¼Œéœ€è¦å°†Canvasçš„positionè®¾ä¸ºfixedï¼ŒCanvasçš„å¤§å°ä¹Ÿè¦ä¸çª—å£å¤§å°innerHeightå’ŒinnerWidthä¿æŒä¸€è‡´</li><li>ç›‘å¬windowçš„resizeäº‹ä»¶ï¼Œåšåˆ°Canvaså¤§å°è·Ÿéšçª—å£å¤§å°</li></ol><p>æ§åˆ¶Canvasçš„CSSï¼Œä½¿ç”¨fixedæ§åˆ¶ä½ç½®ï¼›ç½‘é¡µèƒŒæ™¯ä¸CanvasèƒŒæ™¯ä¿æŒä¸€è‡´ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">canvas</span><span class="selector-id">#background-canvas</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#f7fafc</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f7fafc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›‘å¬çª—å£çš„resizeäº‹ä»¶ï¼Œç„¶åä¿®æ”¹Canvaså¤§å°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&quot;resize&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®Canvasçš„å®½é«˜åˆ†åˆ«ä¸º window.innerWidth å’Œ window.innerHeight</span></span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><p>èŠ±äº†ä¸€ä¸‹åˆçš„æ—¶é—´ã€‚è‡³æ­¤ï¼Œå°±ä¸ºåšå®¢æ¢ä¸Šäº†ä¸€ä¸ªCanvasèƒŒæ™¯<img class="emoji" draggable="false" alt="ğŸ‰" src="https://twemoji.maxcdn.com/2/72x72/1f389.png"/>ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¥½äº›æ—¥å­ä¹‹å‰ï¼Œå‘ç°æŸä¹çš„èƒŒæ™¯ç‰¹åˆ«æ¼‚äº®ï¼Œåœ¨æŸäº›æœºç¼˜å·§åˆä¹‹ä¸‹ï¼Œåˆåœ¨å¥½å¤šåœ°æ–¹å‘ç°äº†ç±»ä¼¼è¿™ç§â€œç½‘æ ¼ç²’å­â€çš„èƒŒæ™¯ã€‚ä¸€ç§â€œæŠ„è¢­ä¹‹é­‚â€æ²¹ç„¶è€Œç”Ÿï¼Œå¯¹ç€ä¸€ç¯‡æ–‡ç« ï¼ŒæŒ‰ç…§è‡ªå·±çš„æƒ³æ³•å®ç°äº†ä¸€ä¸‹ã€‚æœ¬æ¥æ‰“ç®—é¡ºåŠ¿æ”¹è¿›ä¸€ä¸‹â€œå¼•æ“â€ï¼Œä½†æ˜¯æ•´ä¸ªåšä¸‹æ¥å‘ç°è¿™ä¸ªâ€œå¼•æ“â€æ”¹è¿›çš„æ–¹å‘æœ‰ç‚¹åï¼Œå¯¼è‡´å¥½å¤šåœ°æ–¹å¾ˆéš¾çœ‹æ‡‚äº†ã€‚ä¸‹</summary>
      
    
    
    
    <category term="æœç„¶è¿˜æ˜¯å‰ç«¯" scheme="https://sumygg.com/categories/%E6%9E%9C%E7%84%B6%E8%BF%98%E6%98%AF%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="javascript" scheme="https://sumygg.com/tags/javascript/"/>
    
    <category term="canvas" scheme="https://sumygg.com/tags/canvas/"/>
    
    <category term="ç²’å­" scheme="https://sumygg.com/tags/%E7%B2%92%E5%AD%90/"/>
    
    <category term="å‰ç«¯" scheme="https://sumygg.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
</feed>
