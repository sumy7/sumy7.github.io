/*! For license information please see 966.f3c4b2b1.js.LICENSE.txt */
(self.webpackChunk_sumyblog_rspress_blog=self.webpackChunk_sumyblog_rspress_blog||[]).push([["966"],{26665:function(e,a,n){"use strict";n.r(a);var r=n("35250"),t=n("51325");function s(e){let a=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",pre:"pre"},(0,t.useMDXComponents)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.h1,{id:"saxparser\u89E3\u6790xml\u65F6\u629B\u51FAarrayindexoutofboundsexception\u5F02\u5E38",children:[(0,r.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#saxparser\u89E3\u6790xml\u65F6\u629B\u51FAarrayindexoutofboundsexception\u5F02\u5E38",children:"#"}),"SAXParser\u89E3\u6790XML\u65F6\u629B\u51FAArrayIndexOutOfBoundsException\u5F02\u5E38"]}),"\n",(0,r.jsxs)(a.p,{children:["\u4ECA\u5929\u5728\u4F7F\u7528",(0,r.jsx)(a.code,{children:"SAXParser"}),"\u89E3\u6790XML\u65F6\u4F1A\u629B\u51FA\u4E00\u4E2A",(0,r.jsx)(a.code,{children:"ArrayIndexOutOfBoundsException"}),"\u5F02\u5E38\u3002\u53EA\u6D4B\u8BD5\u4E86\u5728CDATA\u6807\u7B7E\u4E2D\uFF0C\u5982\u679C\u5B57\u7B26\u591A\u4F591033\u4E2A\u5C31\u4F1A\u51FA\u73B0\u5F02\u5E38\u3002"]}),"\n",(0,r.jsxs)(a.h2,{id:"\u95EE\u9898",children:[(0,r.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#\u95EE\u9898",children:"#"}),"\u95EE\u9898"]}),"\n",(0,r.jsx)(a.p,{children:"\u5199\u4E86\u4E00\u4E2A\u5C0F\u7684\u6837\u4F8B\u91CD\u73B0\u8FD9\u4E2A\u95EE\u9898\uFF1A"}),"\n",(0,r.jsx)(a.p,{children:"XML\u6587\u4EF6\uFF1A"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-xml",meta:"",children:'<?xml version="1.0" encoding="UTF-8"?>\n<a>\n    <b>\n        <c>\n            <![CDATA[\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n1111111111111111111111111111111111111111111111111111111111111111111\n111111111111111111111111111111111111111111\n]]>\n        </c>\n    </b>\n</a>\n\n'})}),"\n",(0,r.jsx)(a.p,{children:"\u51E0\u4E2A\u6D4B\u8BD5\u7C7B\uFF1A"}),"\n",(0,r.jsx)(a.p,{children:"DatabaseParserHandler.java"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",meta:"",children:'package com.sumy.xmlwikimanager.dao;\n\nimport com.sumy.xmlwikimanager.bean.WikiItem;\nimport org.xml.sax.Attributes;\nimport org.xml.sax.SAXException;\nimport org.xml.sax.helpers.DefaultHandler;\n\n/**\n * Created by Sumy on 2015/11/27 0027.\n */\npublic class DatabaseParserHandler extends DefaultHandler {\n\n    @Override\n    public void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException {\n        System.out.println("startElement: uri[" + uri + "] localName[" + localName + "] qName[" + qName + "]"); \n    }\n\n    @Override\n    public void characters(char[] ch, int start, int length) throws SAXException {\n        super.characters(ch, start, length);\n        System.out.println(length);\n    }\n}\n'})}),"\n",(0,r.jsx)(a.p,{children:"XMLUtil.java"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",meta:"",children:'package com.sumy.xmlwikimanager.dao;\n\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.parsers.SAXParser;\nimport javax.xml.parsers.SAXParserFactory;\nimport java.io.File;\nimport java.io.IOException;\n/**\n * Created by Sumy on 2015/11/27 0027.\n */\npublic class XMLUtil {\n    public static void parserXML(File file) {\n        try {\n\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser parser = factory.newSAXParser();\n            parser.parse(file, new DatabaseParserHandler());\n        } catch (ParserConfigurationException e) {\n            e.printStackTrace();\n        } catch (SAXException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n        parserXML(new File("Category.xml"));\n\n    }\n}\n'})}),"\n",(0,r.jsx)(a.p,{children:"\u8FD0\u884C\u4E4B\u540E\u629B\u51FA\u7684\u5F02\u5E38\uFF1A"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{meta:"",children:"java.lang.ArrayIndexOutOfBoundsException\n    at java.lang.System.arraycopy(Native Method)\n    at org.gjt.xpp.impl.tokenizer.Tokenizer.next(Tokenizer.java:1274)\n    at org.gjt.xpp.impl.pullparser.PullParser.next(PullParser.java:392)\n    at org.gjt.xpp.sax2.Driver.parseSubTree(Driver.java:415)\n    at org.gjt.xpp.sax2.Driver.parse(Driver.java:310)\n    at javax.xml.parsers.SAXParser.parse(SAXParser.java:392)\n    at javax.xml.parsers.SAXParser.parse(SAXParser.java:328)\n    at com.sumy.xmlwikimanager.dao.XMLUtil.parserXML(XMLUtil.java:28)\n    at com.sumy.xmlwikimanager.dao.XMLUtil.main(XMLUtil.java:68)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\n"})}),"\n",(0,r.jsx)(a.p,{children:"\u7591\u4F3C\u662F\u4E00\u4E2Abug\uFF0C\u6682\u65F6\u8FD8\u6CA1\u6709\u627E\u5230\u89E3\u51B3\u65B9\u6CD5\u3002\u8003\u8651\u6362\u5176\u5B83\u7684XML\u89E3\u6790\u5F15\u64CE\u8BD5\u4E00\u4E0B\u3002"}),"\n",(0,r.jsxs)(a.h2,{id:"\u4E34\u65F6\u89E3\u51B3",children:[(0,r.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E34\u65F6\u89E3\u51B3",children:"#"}),"\u4E34\u65F6\u89E3\u51B3"]}),"\n",(0,r.jsxs)(a.p,{children:["\u5BF9\u4E8E",(0,r.jsx)(a.code,{children:"javax.xml.parsers.SAXParser"}),"\u6709\u591A\u91CD\u5B9E\u73B0\u65B9\u5F0F\uFF0C\u5E94\u5F53\u907F\u514D\u9009\u4E2D",(0,r.jsx)(a.code,{children:"pull-parser-xx.jar"}),"\u5305\u4E0B\u7684\u5B9E\u73B0\u65B9\u5F0F\uFF0C\u5728\u5DE5\u7A0B\u4E2D\u53EF\u4EE5\u5220\u9664\u8BE5\u5305\u3002\u786E\u5B9A\u5F53\u524D\u7684\u5B9E\u73B0\u65B9\u5F0F\u53EF\u4EE5\u53C2\u8003",(0,r.jsx)(a.a,{href:"http://stackoverflow.com/a/1804281/3215527",target:"_blank",rel:"noopener noreferrer",children:"stackoverflow.com/a/1804281/3215527"}),"\u4E0A\u9762\u7684\u65B9\u6CD5\u3002"]}),"\n",(0,r.jsxs)(a.p,{children:["\u7531\u4E8E\u5DE5\u7A0B\u9700\u8981\u4F7F\u7528",(0,r.jsx)(a.code,{children:"DOM4j"}),"\u6765\u89E3\u6790\uFF0C\u91C7\u53D6\u4E86\u4E00\u79CD\u6298\u8877\u7684\u65B9\u5F0F\u3002\u9996\u5148\u4F7F\u7528JDK\u9ED8\u8BA4\u7684\u5B9E\u73B0\u65B9\u5F0F\uFF0C\u5C06XML\u89E3\u6790\u6210",(0,r.jsx)(a.code,{children:"org.w3c.dom.Document"}),"\uFF0C\u7136\u540E\u4F7F\u7528",(0,r.jsx)(a.code,{children:"org.dom4j.io.DOMReader"}),"\u5C06\u5176\u8F6C\u6362\u6210",(0,r.jsx)(a.code,{children:"import org.dom4j.Document"}),"\u3002"]}),"\n",(0,r.jsx)(a.p,{children:"\u8FD9\u6837\u505A\u4E34\u65F6\u907F\u514D\u4E86\u4E0A\u9762\u7684\u95EE\u9898\uFF0C\u4F46\u662F\u4E0D\u77E5\u9053\u95EE\u9898\u7684\u539F\u56E0\u8FD8\u662F\u6709\u70B9\u4E0D\u723D\u3002"})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:a}=Object.assign({},(0,t.useMDXComponents)(),e.components);return a?(0,r.jsx)(a,Object.assign({},e,{children:(0,r.jsx)(s,e)})):s(e)}a.default=i,i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["..%2Fsource%2F_posts%2F2015-11-27-a-problem-SAXParser-throw-ArrayIndexOutOfBoundsException.md"]={toc:[{id:"\u95EE\u9898",text:"\u95EE\u9898",depth:2},{id:"\u4E34\u65F6\u89E3\u51B3",text:"\u4E34\u65F6\u89E3\u51B3",depth:2}],title:"SAXParser\u89E3\u6790XML\u65F6\u629B\u51FAArrayIndexOutOfBoundsException\u5F02\u5E38",frontmatter:{layout:"post",title:"SAXParser\u89E3\u6790XML\u65F6\u629B\u51FAArrayIndexOutOfBoundsException\u5F02\u5E38",date:"2015-11-27 21:05:47",categories:["\u95EE\u9898\u9EBB\u70E6"],tags:["java","xml"]}}}}]);