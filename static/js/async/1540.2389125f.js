/*! For license information please see 1540.2389125f.js.LICENSE.txt */
(self.webpackChunk_sumyblog_rspress_blog=self.webpackChunk_sumyblog_rspress_blog||[]).push([["1540"],{55740:function(n,e,i){"use strict";i.r(e);var s=i("35250"),t=i("51325");function c(n){let e=Object.assign({h1:"h1",a:"a",blockquote:"blockquote",p:"p",strong:"strong",pre:"pre",code:"code"},(0,t.useMDXComponents)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.h1,{id:"8-2-sdau\u7EC3\u4E60\u8D5B\u6CF0\u5C71\u6311\u592B1\u70B9\u9898\u62A5\u544A",children:[(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#8-2-sdau\u7EC3\u4E60\u8D5B\u6CF0\u5C71\u6311\u592B1\u70B9\u9898\u62A5\u544A",children:"#"}),"8-2-SDAU\u7EC3\u4E60\u8D5B\uFF08\u6CF0\u5C71\u6311\u592B1\uFF09\u70B9\u9898\u62A5\u544A"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u8001\u5E08\u8BF4\u8981\u5411\u6CF0\u5C71\u6311\u592B\u90A3\u6837\u4E00\u6B65\u4E00\u6B65\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u4ECA\u5929\u7684\u7EC3\u4E60\u8D5B\u4F3C\u4E4E\u53C8\u56DE\u5230\u4E86\u4E0A\u4E2A\u6691\u5047\u7684\u65F6\u5019\uFF0C\u53EA\u662F\u611F\u89C9\u5C11\u4E86\u70B9\u4EC0\u4E48\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u9898\u76EE\u5927\u90FD\u5F88\u57FA\u7840\uFF0C\u53EA\u6311\u51E0\u4E2A\u6CA1\u6709\u89E3\u51B3\u7684\u95EE\u9898\u8BF4\u4E00\u4E0B\u5427\u3002"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"6E	 Exposition\n6D	 Lizards and Basements 2\n6C	 Alice, Bob and Chocolate\n6B	 President's Office\n6A	 Triangle brute\n4D	 Mysterious Present\n4C	 Registration System\n4B	 Before an Exam\n4A	 Watermelon math"}),"\n"]}),"\n",(0,s.jsxs)(e.h1,{id:"codeforece-4d-mysterious-present",children:[(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#codeforece-4d-mysterious-present",children:"#"}),"Codeforece 4D Mysterious Present"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u9898\u76EE\u5927\u610F\uFF1A"})," \u7ED9\u51FA\u4E00\u4E9B\u4FE1\u5C01\u7684\u957F\u548C\u5BBD\uFF0C\u8FD8\u6709\u4E00\u4E2A\u793C\u7269\u3002\u73B0\u5728\u8981\u628A\u793C\u7269\u88C5\u5230\u4FE1\u5C01\u4E2D\u3002\u53EF\u4EE5\u5C06\u4FE1\u5C01\u5D4C\u5957\u88C5\u5230\u4FE1\u5C01\u4E2D\u3002\u8981\u6C42\u5D4C\u5957\u7684\u5C42\u6570\u6700\u591A\u3002\u6C42\u89E3\u6700\u591A\u7684\u5C42\u6570\u3002\u4E00\u4EF6\u7269\u54C1\uFF08\u793C\u7269\u548C\u4FE1\u5C01\uFF09\u8981\u88AB\u88C5\u5230\u4FE1\u5C01\u91CC\uFF0C\u957F\u548C\u5BBD\u5FC5\u987B\u4E25\u683C\u5C0F\u4E8E\u5916\u9762\u7684\u4FE1\u5C01\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5927\u4F53\u601D\u8DEF\uFF1A"})," \u5148\u5C06\u4FE1\u5C01\u6309\u7167\u957F\u6392\u5E8F\uFF0C\u957F\u76F8\u7B49\u7684\u53EF\u4EE5\u6309\u7167\u5BBD\u6392\u5E8F\u3002\u7136\u540E\u5C31\u53EF\u4EE5\u7C7B\u4F3C\u4E8E\u3010\u6700\u957F\u4E0A\u5347\u5B50\u5E8F\u5217\u3011\u4E00\u6837\u8FDB\u884Cdp\u6C42\u89E3\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u9047\u5230\u7684\u95EE\u9898\uFF1A"})," \u9996\u5148\u662F\u53EA\u4ECE\u80FD\u5F00\u59CB\u88C5\u5230\u793C\u7269\u90A3\u4E2A\u4FE1\u5C01\u5F00\u59CBdp\u7684\uFF0C\u800C\u4E14\u53EA\u628A\u90A3\u4E2A\u4FE1\u5C01\u7684\u5C42\u6570\u8BBE\u4E3A\u4E861\uFF0C\u8FD9\u5C31\u5BFC\u81F4\u8D77\u70B9\u7684\u4F4D\u7F6E\u4E0D\u6B63\u786E\u3002\u4FDD\u5B58\u89E3\u7684\u65F6\u5019\uFF0C\u4E5F\u53EA\u662F\u8003\u8651\u4E86\u4E00\u4E2A\uFF0C\u6700\u540E\u628A\u6240\u6709\u7684\u6570\u7EC4\u90FD\u8BBE\u4E3A\u4E86 -1 \u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",meta:"",children:'#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <algorithm>\n#define ll long long\nusing namespace std;\nstruct node\n{\n    int id;\n    ll x,y;\n}p[5005];\nint head[5005];\nint f[5005];\nint ans[5005];\nint n;\nll w,h;\nint beg;\nint cmp(node a,node b)\n{\n    if(a.x==b.x) return a.y<b.y;\n    else return a.x<b.x;\n}\nvoid printfs(int now)\n{\n    if(now==-1) return ;\n    printfs(head[now]);\n    cout<<p[now].id<<" ";\n}\nvoid getans(int beginx)\n{\n    int tmp=beginx;\n    int nn=0;\n    while(tmp!=-1)\n    {\n        ans[nn++]=tmp;\n        tmp=head[tmp];\n    }\n    cout<<p[ans[nn-1]].id;\n    for(int i=nn-2;i>=0;i--)\n    {\n        cout<<" "<<p[ans[i]].id;\n    }\n    cout<<endl;\n}\nint main()\n{\n    cin>>n>>w>>h;\n    for(int i=0;i<n;i++)\n    {\n        cin>>p[i].x>>p[i].y;\n        p[i].id=i+1;\n    }\n    sort(p,p+n,cmp);\n//    for(int i=0;i<n;i++)\n//    {\n//        cout<<p[i].x<<" "<<p[i].y<<endl;\n//    }\n    beg=-1;\n    for(int i=0;i<n;i++)\n    {\n        if(p[i].x>w&&p[i].y>h)\n        {\n            beg=i;\n            break;\n        }\n    }\n    //cout<<"--"<<beg<<endl;\n    if(beg==-1)\n    {\n        cout<<"0"<<endl;\n    }\n    else\n    {\n        memset(f,0,sizeof(f));\n        memset(head,-1,sizeof(head));\n        head[beg]=-1;\n        //f[beg]=1;\n        for(int i=0;i<n;i++)\n        {\n            if(p[i].x>w&&p[i].y>h)\n            {\n                f[i]=1;\n            }\n        }\n        for(int i=0;i<n;i++)\n        {\n            if(!(p[i].x>w&&p[i].y>h)) continue;\n            for(int j=0;j<i;j++)\n            {\n                if(!(p[j].x>w&&p[j].y>h)) continue;\n                if((p[i].x>p[j].x)&&(p[i].y>p[j].y)&&(f[i]<f[j]+1))\n                {\n                    head[i]=j;\n                    f[i]=f[j]+1;\n                }\n            }\n        }\n        int max=-1;\n        int tmp;\n        for(int i=beg;i<n;i++)\n        {\n            if(f[i]>max)\n            {\n                max=f[i];\n                tmp=i;\n            }\n        }\n        cout<<f[tmp]<<endl;\n        //printfs(tmp);\n        getans(tmp);\n//        cout<<endl;\n    }\n    return 0;\n}\n'})}),"\n",(0,s.jsxs)(e.h1,{id:"codeforces-6e-exposition",children:[(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#codeforces-6e-exposition",children:"#"}),"Codeforces 6E Exposition"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u9898\u610F\uFF1A"})," \u7ED9\u51FA\u4E00\u4E9B\u4E66\uFF0C\u8FD9\u4E9B\u4E66\u5DF2\u7ECF\u56FA\u5B9A\u4E86\u6B21\u5E8F\u3002\u4ECE\u4E2D\u9009\u51FA\u4E00\u4E2A\u533A\u95F4\uFF0C\u4FDD\u8BC1\u8FD9\u4E2A\u533A\u95F4\u6700\u957F\uFF0C\u800C\u4E14\u4E0D\u8D85\u8FC7\u8BBE\u5B9A\u7684\u503C k \u3002\u53EA\u8F93\u51FA\u6700\u957F\u533A\u95F4\u7684\u4E66\u7684\u8303\u56F4\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5927\u4F53\u601D\u8DEF\uFF1A"})," \u8003\u8651\u5230\u8BB0\u5F55\u6BCF\u4E2A\u533A\u95F4\u6700\u5927\u503C\u548C\u6700\u5C0F\u503C\u7684\u95EE\u9898\uFF0C\u6211\u60F3\u5230\u4E86\u7528\u5355\u8C03\u961F\u5217\uFF0C\u4E24\u4E2A\u5355\u8C03\u961F\u5217\u5206\u522B\u7528\u6765\u4FDD\u5B58\u6700\u5927\u503C\u548C\u6700\u5C0F\u503C\u3002\u7136\u540E\u5982\u679C\u6700\u5927\u503C\u548C\u6700\u5C0F\u503C\u8D85\u8FC7\u4E86 k \uFF0C\u5C31\u4E24\u4E2A\u961F\u5217\u4E2D\u7F16\u53F7\u6700\u5C0F\u7684\u90A3\u4E2A\u503C\uFF0C\u5E76\u6839\u636E\u533A\u95F4\u7684\u957F\u5EA6\u4FDD\u5B58\u533A\u95F4\u7684\u8303\u56F4\uFF08\u7528\u4E86\u65E0\u6570\u4E2A vector \uFF09\u3002\u6700\u540E\u8F93\u51FA\u6700\u957F\u533A\u95F4\u7684\u533A\u95F4\u8303\u56F4\u5373\u53EF\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u9047\u5230\u7684\u95EE\u9898\uFF1A"})," \u611F\u89C9\u5C31\u662F\u9898\u610F\u6CA1\u7406\u89E3\u597D\uFF0C\u6700\u540E\u770B\u7740\u6570\u636E\u624D\u6162\u6162\u7406\u89E3\u4E86\u9898\u610F\u3002\u8FD9\u9053\u9898\u7B97\u662F\u6839\u636E\u6570\u636E\u6C34\u8FC7\u7684\u5427\u3002\u3002\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",meta:"",children:'#include <iostream>\n#include <queue>\n#include <vector>\nusing namespace std;\nstruct node\n{\n    int id;\n    int h;\n}p[100005];\nint n,k;\ndeque<node>Qinc;\ndeque<node>Qdec;\nvector<int>ans[100005];\nint maxlen;\nint main()\n{\n    cin>>n>>k;\n    for(int i=0;i<n;i++)\n    {\n        cin>>p[i].h;\n        p[i].id=i+1;\n    }\n    maxlen=0;\n    Qinc.clear();\n    Qdec.clear();\n    for(int i=0;i<100000;i++) ans[i].clear();\n    Qinc.push_back(p[0]);\n    Qdec.push_back(p[0]);\n    int begins,ends;\n    begins=1;ends=1;\n    for(int i=1;i<n;i++)\n    {\n        //cout<<Qinc.size()<<endl;\n        //cout<<Qdec.size()<<endl;\n        while((!Qinc.empty())&&(p[i].h<Qinc.back().h)) Qinc.pop_back();\n        while((!Qdec.empty())&&(p[i].h>Qdec.back().h)) Qdec.pop_back();\n        Qinc.push_back(p[i]);\n        Qdec.push_back(p[i]);\n        if(Qdec.front().h-Qinc.front().h>k)\n        {\n            ends=i;\n            //cout<<begins<<" "<<ends<<endl;\n            if(ends-begins>0)\n            {\n                ans[ends-begins].push_back(begins);\n                ans[ends-begins].push_back(ends);\n                if(ends-begins>maxlen) maxlen=ends-begins;\n            }\n//            if(ends-begins==0&&p[begins-1].h<=k)\n//            {\n//                ans.push_back(begins);\n//                ans.push_back(ends);\n//                if(ends-begins>maxlen) maxlen=ends-begins;\n//            }\n            while(Qdec.front().h-Qinc.front().h>k)\n            {\n                if(Qinc.front().id<Qdec.front().id)\n                {\n                    begins=Qinc.front().id+1;\n                    Qinc.pop_front();\n                }\n                else if(Qinc.front().id>Qdec.front().id)\n                {\n                    begins=Qdec.front().id+1;\n                    Qdec.pop_front();\n                }\n            }\n        }\n    }\n    if(Qdec.front().h-Qinc.front().h<=k)\n    {\n        //cout<<begins<<" "<<n<<endl;\n        if(n-begins>0)\n        {\n            ans[n-begins].push_back(begins);\n            ans[n-begins].push_back(n);\n            if(n-begins>maxlen) maxlen=n-begins;\n        }\n//        if(n-begins==0&&p[n-1].h<=k)\n//        {\n//            ans.push_back(begins);\n//            ans.push_back(n);\n//            if(n-begins>maxlen) maxlen=n-begins;\n//        }\n    }\n    if(maxlen!=0)\n    {\n        cout<<maxlen+1<<" "<<ans[maxlen].size()/2<<endl;\n        for(int i=0;i<ans[maxlen].size();i+=2)\n        {\n            cout<<ans[maxlen][i]<<" "<<ans[maxlen][i+1]<<endl;\n        }\n    }\n    else\n    {\n        cout<<1<<" "<<n<<endl;\n        for(int i=1;i<=n;i++)\n        {\n            cout<<i<<" "<<i<<endl;\n        }\n    }\n    return 0;\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u8D34\u4E2A\u51E0\u4E2A\u7B80\u5355\u7684\u4EE3\u7801\u7406\u89E3\u4E00\u4E0B\u5427\uFF0C\u6BD4\u6211\u7684\u4EE3\u7801\u7B80\u5355\u591A\u4E86\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u4EE3\u78011\uFF1A"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",meta:"",children:'#include <stdio.h>\n#include <set>\n#define forn(i, n) for(int i=0;i<(n);i++)\nint n, k, h[100000];\nint a, b, r[100000];\nint main() {\n    scanf("%d%d", &n, &k);\n    forn(i, n) scanf("%d", h+i);\n    std::multiset<int> s;\n    int t=0;\n    forn(i, n) {\n        s.insert(h[i]);\n        while((*s.rbegin()-*s.begin())>k) s.erase(s.find(h[t++]));\n        if(i-t+1>a) { a=i-t+1; r[0]=t; b=1; }\n        else if(i-t+1==a) { r[b++]=t; }\n    }\n    printf("%d %d\\n", a, b);\n    forn(i, b) printf("%d %d\\n", r[i]+1, r[i]+a);\n    return 0;\n}\n//by varwat\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u4EE3\u78012\uFF1A"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",meta:"",children:"#include <deque>\n#include <vector>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nvector <pair<int, int> > seg;\ndeque <pair<int, int> > mx, mn;\n\nint main() {\n    ios_base::sync_with_stdio(false);\n\n    int n, k, h;\n    int len = 0, p = 1;\n\n    cin >> n >> k;\n    for (int i=1; i<=n; ++i) {\n        cin >> h;\n\n        while (!mx.empty() && h > mx.back().first) mx.pop_back();\n        mx.push_back(make_pair(h, i));\n        while (!mn.empty() && h < mn.back().first) mn.pop_back();\n        mn.push_back(make_pair(h, i));\n\n        while (mx.front().first - mn.front().first > k) {\n            while (!mn.empty() && mn.front().second <= p) mn.pop_front();\n            while (!mx.empty() && mx.front().second <= p) mx.pop_front();\n            ++p;\n        }\n\n        if (i - p > len) {\n            len = i - p;\n            seg.clear();\n        }\n        if (i - p == len) {\n            seg.push_back(make_pair(p, i));\n        }\n    }\n\n    cout << len + 1 << ' ' << seg.size() << endl;\n    for (int i=0; i<(int)seg.size(); ++i) cout << seg[i].first << ' ' << seg[i].second << endl;\n\n    return 0;\n}\n//by delta_4d\n"})})]})}function r(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,t.useMDXComponents)(),n.components);return e?(0,s.jsx)(e,Object.assign({},n,{children:(0,s.jsx)(c,n)})):c(n)}e.default=r,r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["..%2Fsource%2F_posts%2F2013-08-02-sdau-practice-contest.md"]={toc:[],title:"8-2-SDAU\u7EC3\u4E60\u8D5B\uFF08\u6CF0\u5C71\u6311\u592B1\uFF09\u70B9\u9898\u62A5\u544A",frontmatter:{layout:"post",title:"8-2-SDAU\u7EC3\u4E60\u8D5B\uFF08\u6CF0\u5C71\u6311\u592B1\uFF09\u70B9\u9898\u62A5\u544A",date:"2013-08-02 00:00:00",categories:["\u8BFB\u4E66\u7B14\u8BB0"],tags:["\u89E3\u9898\u62A5\u544A","codeforces"]}}}}]);