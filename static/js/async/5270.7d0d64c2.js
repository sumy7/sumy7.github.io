/*! For license information please see 5270.7d0d64c2.js.LICENSE.txt */
(self.webpackChunk_sumyblog_rspress_blog=self.webpackChunk_sumyblog_rspress_blog||[]).push([["5270"],{39427:function(e,n,s){"use strict";s.r(n);var a=s("35250"),r=s("51325");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",strong:"strong",pre:"pre",ol:"ol",li:"li",em:"em",ul:"ul"},(0,r.useMDXComponents)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"maven-\u521D\u5C1D\u8BD5\u8E29\u5751\u8BB0\u5F55",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#maven-\u521D\u5C1D\u8BD5\u8E29\u5751\u8BB0\u5F55",children:"#"}),"Maven \u521D\u5C1D\u8BD5\u8E29\u5751\u8BB0\u5F55"]}),"\n",(0,a.jsxs)(n.p,{children:["\u4E4B\u524D\u6709\u4E2A\u9879\u76EE\u4F7F\u7528\u7684 ",(0,a.jsx)(n.code,{children:"Ant"})," \u6784\u5EFA\u51FA\u6765\u7684\uFF0C\u5F53\u65F6\u4E3A\u4E86\u8282\u7701\u65F6\u95F4\uFF0C\u5C31\u5728\u91CC\u9762\u586B\u586B\u8865\u8865\uFF0C\u5BFC\u81F4\u73B0\u5728\u611F\u89C9\u9879\u76EE\u6BD4\u8F83\u51CC\u4E71\u3002\u4E8E\u662F\u82B1\u4E86\u5927\u7EA62\u5468\u7684\u65F6\u95F4\u5C06 ",(0,a.jsx)(n.code,{children:"Ant"})," \u91CD\u6784\u6210\u4E86 ",(0,a.jsx)(n.code,{children:"Maven"}),"\uFF0C\u7531\u4E8E\u7B2C\u4E00\u6B21\u4F7F\u7528\uFF0C\u597D\u591A\u5730\u65B9\u4E5F\u4E0D\u662F\u5F88\u660E\u767D\uFF0C\u6CA1\u6709\u8FBE\u5230100%\u8FD8\u539F\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"\u8FD9\u91CC\u53EA\u7B80\u5355\u8BB0\u5F55\u4E00\u4E0B\u8017\u65F6\u6BD4\u8F83\u957F\u7684\u5751\uFF0C\u4E00\u4E9B\u7B80\u5355\u7684\u5185\u5BB9\u53EF\u4EE5\u901A\u8FC7\u8C37\u6B4C\u76F4\u63A5\u89E3\u51B3\u4E86\u3002"}),"\n",(0,a.jsxs)(n.h2,{id:"maven-\u5212\u5206\u6A21\u5757",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#maven-\u5212\u5206\u6A21\u5757",children:"#"}),"Maven \u5212\u5206\u6A21\u5757"]}),"\n",(0,a.jsxs)(n.p,{children:["\u4E00\u4E2A\u5178\u578B\u7684 Maven \u9879\u76EE\u5305\u542B ",(0,a.jsx)(n.strong,{children:"\u7236\u6A21\u5757"})," \u4E0E ",(0,a.jsx)(n.strong,{children:"\u5B50\u6A21\u5757"})," \uFF0C\u7236\u6A21\u5757\u4E3B\u8981\u7528\u4E8E\u6574\u5408\u9879\u76EE\uFF0C\u58F0\u660E\u4E00\u4E9B\u57FA\u672C\u7684\u53D8\u91CF\u6570\u636E\u96C6\uFF0C\u7EDF\u7B79\u5404\u4E2A\u5B50\u6A21\u5757\u4E4B\u95F4\u7684\u5173\u7CFB\u3002\u6BCF\u4E2A\u5B50\u6A21\u5757\u6700\u597D\u53EA\u5305\u542B\u4E00\u4E2A\u5355\u72EC\u7684\u529F\u80FD\u3002"]}),"\n",(0,a.jsxs)(n.p,{children:["\u5173\u4E8E\u6A21\u5757\u7684\u6253\u5305\u65B9\u5F0F\u6709 ",(0,a.jsx)(n.code,{children:"pom"})," \u3001 ",(0,a.jsx)(n.code,{children:"jar"})," \u3001 ",(0,a.jsx)(n.code,{children:"war"})," \u7B49\uFF0C\u7236\u6A21\u5757\u53EA\u80FD\u4E3A ",(0,a.jsx)(n.code,{children:"pom"})," \uFF0C\u5B50\u6A21\u5757\u6839\u636E\u9700\u8981\u53EF\u4EE5\u58F0\u660E\u4E3A\u4E0D\u540C\u7684\u6253\u5305\u683C\u5F0F\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u8FD9\u4E2A\u9879\u76EE\u5206\u6210\u7684\u7ED3\u6784\u793A\u610F\u5982\u4E0B\uFF1A"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{meta:"",children:"---- app-parent\n      |-- pom.xml (pom)\n      |\n      |-- app-conf\n      |        |-- pom.xml (pom)\n      |\n      |-- app-a\n      |        |-- pom.xml (jar)\n      |\n      |-- app-b\n      |        |-- pom.xml (jar)\n      |\n      |-- app-dist\n              |-- pom.xml (directory)\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"app-parent"})," \u662F\u7236\u6A21\u5757\uFF0C ",(0,a.jsx)(n.code,{children:"app-conf"})," \u653E\u7F6E\u4E00\u4E9B\u5355\u72EC\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C ",(0,a.jsx)(n.code,{children:"app-a"})," \u548C ",(0,a.jsx)(n.code,{children:"app-b"})," \u662F\u9879\u76EE\u7684\u4E00\u4E2Ajar\u5305\uFF0C ",(0,a.jsx)(n.code,{children:"app-dist"})," \u7528\u4E8E\u5C06\u9879\u76EE\u4E2D\u7684\u5185\u5BB9\u7EC4\u5408\u6210\u7B26\u5408\u8981\u6C42\u7684\u76EE\u5F55\u683C\u5F0F\u3002"]}),"\n",(0,a.jsxs)(n.h2,{id:"maven-assembly",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#maven-assembly",children:"#"}),"Maven assembly"]}),"\n",(0,a.jsxs)(n.p,{children:["Maven \u662F\u4E00\u79CD ",(0,a.jsx)(n.strong,{children:"\u7EA6\u5B9A"})," \u578B\u6784\u5EFA\u8BED\u8A00\uFF0C\u5373\u4F7F\u5F88\u5C11\u7684\u914D\u7F6E\uFF0C\u53EA\u8981\u4F4D\u7F6E\u653E\u7F6E\u6B63\u786E\uFF0C\u4E5F\u80FD\u751F\u6210\u7B26\u5408\u8981\u6C42\u7684jar\u5305\u3002\u4F46\u662F\uFF0C\u73B0\u5B9E\u60C5\u51B5\u4E0B\u5F80\u5F80\u9700\u8981\u751F\u6210\u590D\u6742\u7684\u76EE\u5F55\u7ED3\u6784\uFF0CMaven \u4E2D\u542B\u6709\u5F88\u591A\u7684\u6253\u5305\u63D2\u4EF6\u53EF\u4EE5\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u8FD9\u91CC\u4F7F\u7528\u7684\u662F ",(0,a.jsx)(n.code,{children:"maven-assembly-plugin"})," \u6253\u5305\u63D2\u4EF6\u3002\u5B83\u4F1A\u6839\u636Exml\u58F0\u660E\u7684\u914D\u7F6E\u6765\u7EC4\u7EC7\u6253\u5305\u7ED3\u6784\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"\u4E3B\u8981\u7684\u7ED3\u6784\u5982\u4E0B\uFF1A"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",meta:"",children:"<assembly>\n[...]\n    <dependencySets>\n    </dependencySets>\n    <moduleSets>\n    </moduleSets>\n    <fileSets>\n    </fileSets>\n[...]\n</assembly>\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"dependencySets"})," \u5904\u7406\u6A21\u5757\u4F9D\u8D56\u7684jar\u5982\u4F55\u5B58\u653E\uFF0C ",(0,a.jsx)(n.code,{children:"moduleSets"})," \u5904\u7406\u5355\u72EC\u7684\u6A21\u5757\u5982\u4F55\u5B58\u653E\uFF0C ",(0,a.jsx)(n.code,{children:"fileSets"})," \u5904\u7406\u81EA\u5B9A\u4E49\u6587\u4EF6\u5982\u4F55\u5B58\u653E\u3002\u6BCF\u4E2A\u6807\u7B7E\u4E0B\u9762\u90FD\u53EF\u4EE5\u6307\u5B9A\u6A21\u5757\u540D\u79F0\u548C\u8F93\u51FA\u76EE\u5F55\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"\u4E3E\u4E2A\u4F8B\u5B50\uFF1A"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\u5C06\u6A21\u5757 ",(0,a.jsx)(n.strong,{children:"app-a \u4F9D\u8D56"})," \u653E\u5165 ",(0,a.jsx)(n.code,{children:"/lib"})," \u76EE\u5F55\u4E0B"]}),"\n",(0,a.jsxs)(n.li,{children:["\u5C06\u6A21\u5757 ",(0,a.jsx)(n.strong,{children:"app-b"})," \u653E\u5728\u6839\u76EE\u5F55\u4E0B"]}),"\n",(0,a.jsxs)(n.li,{children:["\u5C06 ",(0,a.jsx)(n.strong,{children:"app-conf"})," \u653E\u5728 ",(0,a.jsx)(n.code,{children:"/conf"})," \u76EE\u5F55\u4E0B"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",meta:"",children:"<assembly>\n[...]\n    <dependencySets>\n        \x3c!-- \u5C06app-a\u7684\u4F9D\u8D56\u6253\u5305\u5230 /lib \u76EE\u5F55 -->\n        <dependencySet>\n            <outputDirectory>/lib</outputDirectory>\n            <includes>\n                <include>xx.xx.xx:app-a</include>\n            </includes>\n        </dependencySet>\n    </dependencySets>\n    <moduleSets>\n        \x3c!-- \u5C06app-b\u7684jar\u590D\u5236\u5230\u6839\u76EE\u5F55 -->\n        <moduleSet>\n            <includes>\n                <include>xx.xx.xx:app-b</include>\n            </includes>\n            <binaries>\n                <outputDirectory>/</outputDirectory>\n                <unpack>false</unpack>\n                <includes>\n                    <include>*</include>\n                </includes>\n            </binaries>\n        </moduleSet>\n    </moduleSets>\n    <fileSets>\n        \x3c!-- \u5C06app-conf\u76EE\u5F55\u4E0B\u7684\u5185\u5BB9\u590D\u5236\u5230 /conf \u76EE\u5F55 -->\n        <fileSet>\n            <directory>../app-conf/</directory>\n            <outputDirectory>./conf</outputDirectory>\n        </fileSet>\n    </fileSets>\n[...]\n</assembly>\n"})}),"\n",(0,a.jsx)(n.p,{children:"assembly \u8FD8\u6709\u5F88\u591A\u914D\u7F6E\uFF0C\u6682\u65F6\u7528\u5230\u7684\u53EA\u6709\u8FD9\u4E48\u591A\u3002"}),"\n",(0,a.jsxs)(n.h2,{id:"\u53EF\u8FD0\u884C-jar-\u6253\u5305",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u53EF\u8FD0\u884C-jar-\u6253\u5305",children:"#"}),"\u53EF\u8FD0\u884C jar \u6253\u5305"]}),"\n",(0,a.jsxs)(n.p,{children:["\u53EF\u8FD0\u884C\u7684 jar \u5305\u5728\u6587\u4EF6\u5185\u4F1A\u5305\u542B ",(0,a.jsx)(n.code,{children:"MANIFEST.MF"})," \u6587\u4EF6\uFF0C\u5728 ant \u6784\u5EFA\u7684\u65F6\u5019\uFF0C\u8FD9\u4E2A\u6587\u4EF6\u662F\u81EA\u5DF1\u4E66\u5199\u5E76\u63D0\u4F9B\u7684\u3002\u901A\u8FC7 ",(0,a.jsx)(n.code,{children:"maven-jar-plugin"})," \u63D2\u4EF6\u53EF\u4EE5\u6307\u5B9A mainClass \u5E76\u81EA\u52A8\u5C06\u4F9D\u8D56\u5199\u5165 MANIFEST.MF \u6587\u4EF6\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",meta:"",children:"[...]\n           <plugin>\n                <artifactId>maven-jar-plugin</artifactId>\n                <configuration>\n                    <archive>\n                        <addMavenDescriptor>false</addMavenDescriptor>\n                        <manifest>\n                            <addClasspath>true</addClasspath>\n                            <mainClass>xx.xx.xx.Xxxx</mainClass>\n                        </manifest>\n                    </archive>\n                </configuration>\n            </plugin>\n[...]\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u4F46\u662F\uFF0C\u8FD9\u91CC\u5B58\u5728\u4E00\u4E2A\u5C0F\u95EE\u9898\uFF0C\u5982\u679C\u6211\u4EEC\u4F7F\u7528\u7684jar\u5305\u5728maven\u5E93\u4E2D\u627E\u4E0D\u5230\uFF0C\u4F60\u53EF\u80FD\u4F1A\u901A\u8FC7\u672C\u5730\u5F15\u5165\u7684\u65B9\u5F0F\u5E94\u7528\u5B83\uFF08",(0,a.jsx)(n.code,{children:"Scope"})," \u4E3A ",(0,a.jsx)(n.code,{children:"System"}),"\uFF09\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",meta:"",children:"<dependency>\n     <groupId>lib</groupId>\n     <artifactId>commons-logging</artifactId>\n     <version>1.0.4</version>\n     <scope>system</scope>\n     <systemPath>${basedir}/lib/commons-logging.jar</systemPath>\n </dependency>\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u8FD9\u6837\u867D\u7136\u53EF\u4EE5\u7F16\u8BD1\u901A\u8FC7\uFF0C\u4F46Maven\u5374\u4E0D\u5C06\u5176\u4F5C\u4E3A\u6807\u51C6 ",(0,a.jsx)(n.em,{children:"\u4F9D\u8D56"})," \uFF0C\u901A\u8FC7assembly\u548CMANIFEST.MF\u90FD\u65E0\u6CD5\u5BF9\u5176\u8FDB\u884C\u5904\u7406\u3002"]}),"\n",(0,a.jsxs)(n.p,{children:["\u4E00\u4E2A\u6BD4\u8F83\u597D\u7684\u89E3\u51B3\u65B9\u6848\u662F\u521B\u5EFA\u4E00\u4E2A\u9879\u76EE\u4E13\u6709\u7684 ",(0,a.jsx)(n.strong,{children:"\u79C1\u6709\u4ED3\u5E93"})," \u3002\u5728\u7236\u6A21\u5757\u4E0B\u521B\u5EFA\u4E00\u4E2A\u6587\u4EF6\u5939 ",(0,a.jsx)(n.em,{children:"repo"})," \u4F5C\u4E3A\u9879\u76EE\u7684\u79C1\u6709\u4ED3\u5E93\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{meta:"",children:"---- app-parent\n      |-- pom.xml (pom)\n      |\n      |-- repo\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u590D\u5236jar\u5305\u5230\u79C1\u6709\u4ED3\u5E93\uFF0C\u4F7F\u7528maven\u547D\u4EE4"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",meta:"",children:"mvn install:install-file -Dfile=<path-to-file> -DgroupId=<myGroup> \\\n                         -DartifactId=<myArtifactId> -Dversion=<myVersion> \\\n                         -Dpackaging=<myPackaging> -DlocalRepositoryPath=<path>\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u4F8B\u5982\uFF1A"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",meta:"",children:"mvn install:install-file -Dfile=/opt/a.jar -DgroupId=a.b.c \\\n                         -DartifactId=logging -Dversion=1.0.0 \\\n                         -Dpackaging=jar -DlocalRepositoryPath=./repo\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u6267\u884C\u5B8C\u6210\u540E\u5C31\u53EF\u4EE5\u5728 ",(0,a.jsx)(n.em,{children:"repo"})," \u6587\u4EF6\u5939\u4E0B\u770B\u5230\u65B0\u52A0\u5165\u7684jar\u5305\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u9879\u76EE\u4E2D\u5F15\u7528\u79C1\u6709\u4ED3\u5E93\u7684jar\u5305\uFF0C\u9996\u5148\u8981\u6DFB\u52A0\u79C1\u6709\u4ED3\u5E93\u7684\u5730\u5740\u3002\u5982\u679C\u5305\u542B\u5B50\u6A21\u5757\uFF0C\u4E0D\u5EFA\u8BAE\u5C06\u4ED3\u5E93\u5730\u5740\u653E\u5728\u7236\u6A21\u5757\u7684 pom.xml \u6587\u4EF6\u5185\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",meta:"",children:"<repositories>\n  <repository>\n    <id>my-local-repo</id>\n    <url>file://${basedir}/repo</url>\n    \x3c!-- \u5B50\u6A21\u5757\u4E2D\u8BF7\u4F7F\u7528 -->\n    <url>file://${basedir}/../repo</url>\n  </repository>\n</repositories>\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u4E4B\u540E\u50CF\u5176\u5B83 Maven \u4F9D\u8D56\u4E00\u6837\u5F15\u7528\u5C31\u53EF\u4EE5\u4E86\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",meta:"",children:"<dependency>\n     <groupId>a.b.c</groupId>\n     <artifactId>logging</artifactId>\n     <version>1.0.0</version>\n </dependency>\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"\u53C2\u8003\u5185\u5BB9",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u53C2\u8003\u5185\u5BB9",children:"#"}),"\u53C2\u8003\u5185\u5BB9"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"http://stackoverflow.com/questions/2229757/maven-add-a-dependency-to-a-jar-by-relative-path",target:"_blank",rel:"noopener noreferrer",children:"Maven: add a dependency to a jar by relative path - StackOverflow"})}),"\n"]})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.useMDXComponents)(),e.components);return n?(0,a.jsx)(n,Object.assign({},e,{children:(0,a.jsx)(l,e)})):l(e)}n.default=d,d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["..%2Fsource%2F_posts%2F2016-11-22-maven-pratice-in-my-project.md"]={toc:[{id:"maven-\u5212\u5206\u6A21\u5757",text:"Maven \u5212\u5206\u6A21\u5757",depth:2},{id:"maven-assembly",text:"Maven assembly",depth:2},{id:"\u53EF\u8FD0\u884C-jar-\u6253\u5305",text:"\u53EF\u8FD0\u884C jar \u6253\u5305",depth:2},{id:"\u53C2\u8003\u5185\u5BB9",text:"\u53C2\u8003\u5185\u5BB9",depth:2}],title:"Maven \u521D\u5C1D\u8BD5\u8E29\u5751\u8BB0\u5F55",frontmatter:{layout:"post",title:"Maven \u521D\u5C1D\u8BD5\u8E29\u5751\u8BB0\u5F55",date:"2016-11-22 13:53:34",categories:["\u95EE\u9898\u9EBB\u70E6"],tags:["maven","java","\u6A21\u5757\u5316"]}}}}]);