<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Rspress v1.15.0"><title data-rh="true">Android Compose 对比 React hooks - SumyBlog</title><meta data-rh="true" name="description" content="SumyGG&#x27;s Blog"/><meta data-rh="true" name="referrer" content="no-referrer-when-downgrade"/><link data-rh="true" rel="alternate" type="application/rss+xml" href="https://sumygg.com/rss/feed.rss"/>
<script id="check-dark-light">
;(() => {
  const saved = localStorage.getItem('rspress-theme-appearance')
  const prefereDark = window.matchMedia('(prefers-color-scheme: dark)').matches
  if (!saved || saved === 'auto' ? prefereDark : saved === 'dark') {
    document.documentElement.classList.add('dark')
  }
})()
</script>
<title>SumyBlog</title><link rel="icon" href="/favicon.ico"><script defer="defer" src="/static/js/styles.df47b71a.js"></script><script defer="defer" src="/static/js/lib-lodash.b329996d.js"></script><script defer="defer" src="/static/js/lib-polyfill.6c0e3b15.js"></script><script defer="defer" src="/static/js/lib-react.1a4d633b.js"></script><script defer="defer" src="/static/js/lib-router.345150bc.js"></script><script defer="defer" src="/static/js/4051.e82f0025.js"></script><script defer="defer" src="/static/js/index.e31e71f4.js"></script><link href="/static/css/styles.fb4df59b.css" rel="stylesheet"><script async src="https://www.googletagmanager.com/gtag/js?id=G-2NDCXW15G4"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2NDCXW15G4")</script><link href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" rel="stylesheet" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" crossorigin="anonymous"></script></head><body ><div id="root"><div><div><div class="navContainer_f6cde sticky rspress-nav px-6 "><div class="container_f6cde flex justify-between items-center h-full"><div class="navBarTitle_f6cde"><a href="/" class="flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><span>SumyBlog</span></a></div><div class="undefined flex flex-1 justify-end items-center"><div class="rightNav_f6cde"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="rspress-nav-search-button navSearchButton_6e282"><button><svg width="18" height="18" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg><p class="searchWord_6e282">搜索...</p><div style="opacity:0"><span></span><span>K</span></div></button></div><div class="mobileNavSearchButton_6e282"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a class="link_03735  cursor-pointer" target="" href="/blog/flinks/index.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">友情链接</div></a><a class="link_03735  cursor-pointer" target="" href="/blog/archives/index.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">归档</div></a><a class="link_03735  cursor-pointer" target="" href="/blog/categories/index.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">分类</div></a><a class="link_03735  cursor-pointer" target="" href="/blog/tags/index.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">标签</div></a><a class="link_03735  cursor-pointer" target="" href="/about/index.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">关于我</div></a></div><div class="flex-center flex-row"><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zM12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3zM19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3zM3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3zM18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3z"></path></svg></div></div></div><div class="social-links menu-item_93d67 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/sumy7/" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_93d67"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a><a href="https://weibo.com/sumy7" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_93d67"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" class="iconify iconify--ri" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M17.525 11.378c1.263.392 2.669 1.336 2.669 3.004c0 2.763-3.98 6.239-9.964 6.239c-4.565 0-9.23-2.213-9.23-5.852c0-1.902 1.204-4.102 3.277-6.177c2.773-2.77 6.004-4.033 7.219-2.816c.537.537.588 1.464.244 2.572c-.178.557.525.25.525.25c2.24-.938 4.196-.994 4.909.027c.38.543.343 1.306-.008 2.19c-.163.407.048.471.36.563zm-7.282 7.939c3.641-.362 6.401-2.592 6.167-4.983c-.237-2.391-3.382-4.038-7.023-3.677c-3.64.36-6.403 2.59-6.167 4.98c.237 2.394 3.382 4.039 7.023 3.68zM6.16 14.438c.754-1.527 2.712-2.39 4.446-1.94c1.793.463 2.707 2.154 1.976 3.8c-.744 1.682-2.882 2.578-4.695 1.993c-1.752-.566-2.493-2.294-1.727-3.853zm1.446 2.587c.568.257 1.325.013 1.676-.55c.346-.568.163-1.217-.407-1.459c-.563-.237-1.291.008-1.64.553c-.354.547-.189 1.202.371 1.456zm2.206-1.808c.219.092.501-.012.628-.231c.123-.22.044-.466-.178-.548c-.216-.084-.486.018-.613.232c-.123.214-.054.458.163.547zM19.873 9.5a.725.725 0 1 1-1.378-.451a1.38 1.38 0 0 0-.288-1.357a1.395 1.395 0 0 0-1.321-.425a.723.723 0 1 1-.303-1.416a2.836 2.836 0 0 1 3.29 3.649zm-3.916-6.575A5.831 5.831 0 0 1 21.5 4.72a5.836 5.836 0 0 1 1.22 5.704a.838.838 0 0 1-1.06.54a.844.844 0 0 1-.542-1.062a4.143 4.143 0 0 0-4.807-5.327a.845.845 0 0 1-.354-1.65z"></path></svg></div></a><a href="https://twitter.com/sumygg" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_93d67"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"></path></svg></div></a></div><div class="md:ml-1 p-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></div></div></div></div><div class="mobileNavMenu_f6cde"><div class="navScreen_457e8 " id="navScreen"><div class="container_457e8"><div class="navMenu_457e8"><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/blog/flinks/index.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">友情链接</div></a></div><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/blog/archives/index.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">归档</div></a></div><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/blog/categories/index.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">分类</div></a></div><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/blog/tags/index.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">标签</div></a></div><div class="navMenuItem_457e8 w-full"><a class="link_03735  cursor-pointer" target="" href="/about/index.html"><div class="rspress-nav-menu-item singleItem_f6cde  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">关于我</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_457e8 flex justify-center"></div><div class="social-links menu-item_93d67 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/sumy7/" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_93d67"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a><a href="https://weibo.com/sumy7" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_93d67"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" class="iconify iconify--ri" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M17.525 11.378c1.263.392 2.669 1.336 2.669 3.004c0 2.763-3.98 6.239-9.964 6.239c-4.565 0-9.23-2.213-9.23-5.852c0-1.902 1.204-4.102 3.277-6.177c2.773-2.77 6.004-4.033 7.219-2.816c.537.537.588 1.464.244 2.572c-.178.557.525.25.525.25c2.24-.938 4.196-.994 4.909.027c.38.543.343 1.306-.008 2.19c-.163.407.048.471.36.563zm-7.282 7.939c3.641-.362 6.401-2.592 6.167-4.983c-.237-2.391-3.382-4.038-7.023-3.677c-3.64.36-6.403 2.59-6.167 4.98c.237 2.394 3.382 4.039 7.023 3.68zM6.16 14.438c.754-1.527 2.712-2.39 4.446-1.94c1.793.463 2.707 2.154 1.976 3.8c-.744 1.682-2.882 2.578-4.695 1.993c-1.752-.566-2.493-2.294-1.727-3.853zm1.446 2.587c.568.257 1.325.013 1.676-.55c.346-.568.163-1.217-.407-1.459c-.563-.237-1.291.008-1.64.553c-.354.547-.189 1.202.371 1.456zm2.206-1.808c.219.092.501-.012.628-.231c.123-.22.044-.466-.178-.548c-.216-.084-.486.018-.613.232c-.123.214-.054.458.163.547zM19.873 9.5a.725.725 0 1 1-1.378-.451a1.38 1.38 0 0 0-.288-1.357a1.395 1.395 0 0 0-1.321-.425a.723.723 0 1 1-.303-1.416a2.836 2.836 0 0 1 3.29 3.649zm-3.916-6.575A5.831 5.831 0 0 1 21.5 4.72a5.836 5.836 0 0 1 1.22 5.704a.838.838 0 0 1-1.06.54a.844.844 0 0 1-.542-1.062a4.143 4.143 0 0 0-4.807-5.327a.845.845 0 0 1-.354-1.65z"></path></svg></div></a><a href="https://twitter.com/sumygg" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_93d67"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"></path></svg></div></a></div><div class="md:ml-1 p-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></div></div></div></div></div><button aria-label="mobile hamburger" class=" navHamburger_e7b06 text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div><section><div class="docLayout_edeb4 pt-0"><div class="content_edeb4 rspress-doc-container flex flex-shrink-0 mx-auto"><div class="w-full flex-1"><div><div class="rspress-doc"><!--$--><h1 id="android-compose-对比-react-hooks" class="text-3xl mb-10 leading-10 tracking-tight title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#android-compose-对比-react-hooks">#</a>Android Compose 对比 React hooks</h1><div class="postInfoContainer_07bfd -mt-5 mb-8"><span class="postInfoMetaItem_07bfd"><iconify-icon icon="{&quot;body&quot;:&quot;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5h16V4H0V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5z\&quot;/&gt;&quot;}" inline="true"></iconify-icon> <!-- -->2021-12-23</span><span class="postInfoMetaItem_07bfd"><iconify-icon icon="{&quot;body&quot;:&quot;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z\&quot;/&gt;&quot;}" inline="true"></iconify-icon> <a class="link_03735  cursor-pointer" target="" href="/blog/categories/index.html?category=Android">Android</a></span><span class="postInfoMetaItem_07bfd"><iconify-icon icon="{&quot;body&quot;:&quot;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0z\&quot;/&gt;&quot;}" inline="true"></iconify-icon> <a class="link_03735  cursor-pointer" target="" href="/blog/tags/index.html?tag=Android">Android</a></span><span class="postInfoMetaItem_07bfd"><iconify-icon icon="{&quot;body&quot;:&quot;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0z\&quot;/&gt;&quot;}" inline="true"></iconify-icon> <a class="link_03735  cursor-pointer" target="" href="/blog/tags/index.html?tag=Compose">Compose</a></span><span class="postInfoMetaItem_07bfd"><iconify-icon icon="{&quot;body&quot;:&quot;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0z\&quot;/&gt;&quot;}" inline="true"></iconify-icon> <a class="link_03735  cursor-pointer" target="" href="/blog/tags/index.html?tag=React">React</a></span><span class="postInfoMetaItem_07bfd"><iconify-icon icon="{&quot;body&quot;:&quot;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0z\&quot;/&gt;&quot;}" inline="true"></iconify-icon> <a class="link_03735  cursor-pointer" target="" href="/blog/tags/index.html?tag=Hooks">Hooks</a></span><span class="postInfoMetaItem_07bfd"><iconify-icon icon="{&quot;body&quot;:&quot;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM5.485 6.879l1.036 4.144l.997-3.655a.5.5 0 0 1 .964 0l.997 3.655l1.036-4.144a.5.5 0 0 1 .97.242l-1.5 6a.5.5 0 0 1-.967.01L8 9.402l-1.018 3.73a.5.5 0 0 1-.967-.01l-1.5-6a.5.5 0 1 1 .97-.242z\&quot;/&gt;&quot;}" inline="true"></iconify-icon> <!-- -->1.2k<!-- --> 字</span><span class="postInfoMetaItem_07bfd"><iconify-icon icon="{&quot;body&quot;:&quot;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z\&quot;/&gt;&quot;}" inline="true"></iconify-icon> <!-- -->3<!-- --> 分钟</span><span class="postInfoMetaItem_07bfd"><iconify-icon icon="{&quot;body&quot;:&quot;&lt;g fill=\&quot;currentColor\&quot;&gt;&lt;path d=\&quot;M10.5 8a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0z\&quot;/&gt;&lt;path d=\&quot;M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7a3.5 3.5 0 0 0 0 7z\&quot;/&gt;&lt;/g&gt;&quot;}" inline="true"></iconify-icon> </span></div>
<h2 id="前言" class="mt-14 mb-6 text-2xl tracking-tight title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#前言">#</a>前言</h2>
<p class="my-4 leading-7">自2008年Android 1.0出现之后，Android开发的基本模式类似于一种MVC的命令式开发模式。</p>
<p class="my-4 leading-7"><img alt="Android MVC" src="data:image/png;base64,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fWPBpSkUFw0VhPrGgvchzpcKQn1jwaUpFBcNFYT6xoL3Ic6XCkJ9Y8GlKRQXDRWE+saC9yHOlwpCfWPBpSkUFw0VhPrGgvchzpcKQn1jwaUpFBcNFYT6xoL3Ic7XvLLjjjvWK620Un3//fePpp1xxhnpw73iiivq448/Pl3eb7/9Wo+q6x//+MdpOo/FqaeeWq+yyipj9ykB73G83NJUiouGCkJ9Y8H7EOdrXnnyySfrVVddtd5www3rV155JYUqAfnxj3883X7cccelD5r7tH3lK1/JBUjXTznllHrllVceu08Jhu9RmnZx0VBBqG8seB/ifM07l156afow6YUSqmuuuWb9/PPPp9sI09VXXz3dfu21144es/XWW9drr722YSpNh7hoqCDUNxa8D3G+5qW999571NP8/ve/P5pOmK611lr1lltuWe+///5p2rPPPpt6r5/5zGcMU2k6xEVDBaG+seB9iPM1L1122WXpA11jjTXql156aTSdMKWnes4559SrrbZamnbBBRekYd+LLrrIMJWmQ1w0VBDqGwvehzhf8w5DuoTouuuumz7Uo48+enRbDtOnn3463Xb99dfX22yzTf2xj32svvjiiw1TaTrERUMFob6x4H2I8zXvHHDAAaM9eg888MD0wd59993pthym2HTTTet99tkn3fd73/ueYSpNj7hoqCDUNxa8D3G+5pXrrrsufZAnnHBCuv7cc8+l4dwNNtggXW+H6ZlnnpnuyyEw7Pkbw5SQZSeldqNHO5/x/sbLXbSVBu2NceIy4nFviBPnoVLex6TFRWNOY6SN9RHrs6XhPieddFL9zDPPpMZ7vfXWW+PdRti8lTsOd911V1ovzne851jwPsT5mjdefvnltHMRw7tczr75zW+mD5fjTdnDl/vgiSeeSNP33HPPdJ0wzceZEqbcFhvbYuez4fuYBsdVzXt9z6A9NGh/NX7zUv3PoP3boG1WNc/zK+M3V/8+nP73VfP8Xb27eu3/2w2DtnH7Tktw76B9KE4cyu9j2iyME4K4aMxZfIlnfmkcwrc0jzzySLovI3OsB7/1rW+lUF2SRx99tP7Od76TLp933nmvOWxwPhp+Xr2L86WCUN9Y8AK9qWre518Mr689aL/46s3LJIfQW6rmuf5l/Obq0kE7edB+qWqev6vVq+Z13lU18/obVfP8TPvZ1v1mQphu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"/></p>
<p class="my-4 leading-7">用XML编写界面，Activity中获取界面元素的引用，根据外部数据的状态来改变界面元素的属性。</p>
<p class="my-4 leading-7">纵观前端的发展历程，以上开发模式显然存在着一些弊端。后面前端也从MVC模式逐渐演变出现在的MVVM模式。
有句话说，MVVM模式是现在前端开发的终极模式。随着Java8函数式编程的引入，MVVM思想的流行和Kotlin对Android开发代码的简化和体验提升，
Google也在探索Android开发的新模式。</p>
<p class="my-4 leading-7">Jetpack Compose是Google在2019 I/O大会上公布的声明式UI框架。一经推出Google就鼓励更多的开发者去了解与使用它，
就在今年7月份，Compose发布了它的1.0版本，标志着推翻10年之久的UI开发模式的战役已经打响。</p>
<p class="my-4 leading-7"><img alt="Android Jetpack Compose" src="/static/image/compose.201bc39a.png"/></p>
<p class="my-4 leading-7">纵观Compose的设计理念和使用方式，你会发现它与React Hooks非常像。如函数组件、纯函数、副作用、声明式渲染、组件状态这些概念在Compose
与React Hooks都是保持一致的。本文通过介绍React Hooks的相关内容，来对Compose大体上做个了解。</p>
<h2 id="react-hooks" class="mt-14 mb-6 text-2xl tracking-tight title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#react-hooks">#</a>React Hooks</h2>
<p class="my-4 leading-7"><em>Hook</em> 是 React 16.8 的新增特性。它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性。</p>
<h3 id="函数式组件" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#函数式组件">#</a>函数式组件</h3>
<p class="my-4 leading-7">提到Hook不得不说的一个概念是函数式组件。React Hooks设计的初衷是为了 <strong class="font-semibold">Hook 使你在无需修改组件结构的情况下复用状态逻辑</strong> 。
组件可以复用，函数可以复用，但是组件内的逻辑如何复用没有一个合理的方式。</p>
<p class="my-4 leading-7">一个函数，给定输入，就会有输出。函数式组件是，给定参数props输入，输出渲染组件的一个函数。如果一个函数，只要输入值相同，
输出值也一定相同，那么这个函数被称为 <strong class="font-semibold">纯函数</strong> 。给函数式组件props相同的属性，展示应该一直保持一定。这就是 <strong class="font-semibold">幂等性</strong> 的概念。</p>
<p class="my-4 leading-7"><img alt="函数式" src="/static/image/input_output.5af152bd.png"/></p>
<p class="my-4 leading-7">如果一个函数依赖了外部的数据（全局变量、接口等），那么就不能保证它是一个 <strong class="font-semibold">纯函数</strong> 了。
当状态改变时，函数也可能跳出自身作用域去修改外部的一些数据（修改变量、请求接口），这里把这些都称为“副作用”（<strong class="font-semibold">Side Effect</strong>）。</p>
<p class="my-4 leading-7">React通过 <strong class="font-semibold">useState</strong> 为函数式组件引入状态，使用 <strong class="font-semibold">useEffect</strong> 来管理状态产生的副作用。</p>
<h3 id="usestate" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#usestate">#</a>useState</h3>
<p class="my-4 leading-7"><strong class="font-semibold">useState</strong> 用于在React函数式组件上添加内部state。</p>
<div class="language-jsx"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-jsx" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> React</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> useState </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;react&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">function</span><span> </span><span class="token" style="color:var(--code-token-function)">Example</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-keyword)">const</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>count</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> setCount</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span> </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-function)">useState</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token number">0</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-keyword)">return</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">&lt;</span><span class="token" style="color:var(--code-token-function)">div</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span class="token plain-text">
</span></span><span style="display:block;padding:0 1.25rem"><span class="token plain-text">            </span><span class="token" style="color:var(--code-token-punctuation)">&lt;</span><span class="token" style="color:var(--code-token-function)">p</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span class="token plain-text">You clicked </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>count</span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token plain-text"> times</span><span class="token" style="color:var(--code-token-punctuation)">&lt;/</span><span class="token" style="color:var(--code-token-function)">p</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span class="token plain-text">
</span></span><span style="display:block;padding:0 1.25rem"><span class="token plain-text">            </span><span class="token" style="color:var(--code-token-punctuation)">&lt;</span><span class="token" style="color:var(--code-token-function)">button</span><span class="token" style="color:var(--code-token-function)"> </span><span class="token" style="color:var(--code-token-symbol)">onClick</span><span class="token script language-javascript script-punctuation" style="color:var(--code-token-function)">=</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">{</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">(</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">)</span><span class="token script language-javascript" style="color:var(--code-token-function)"> </span><span class="token script language-javascript operator" style="color:var(--code-token-function)">=&gt;</span><span class="token script language-javascript" style="color:var(--code-token-function)"> </span><span class="token script language-javascript" style="color:var(--code-token-function)">setCount</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">(</span><span class="token script language-javascript" style="color:var(--code-token-function)">count </span><span class="token script language-javascript operator" style="color:var(--code-token-function)">+</span><span class="token script language-javascript" style="color:var(--code-token-function)"> </span><span class="token script language-javascript number" style="color:var(--code-token-function)">1</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">)</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span class="token plain-text">
</span></span><span style="display:block;padding:0 1.25rem" class="token plain-text">                Click me
</span><span style="display:block;padding:0 1.25rem"><span class="token plain-text">            </span><span class="token" style="color:var(--code-token-punctuation)">&lt;/</span><span class="token" style="color:var(--code-token-function)">button</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span class="token plain-text">
</span></span><span style="display:block;padding:0 1.25rem"><span class="token plain-text">        </span><span class="token" style="color:var(--code-token-punctuation)">&lt;/</span><span class="token" style="color:var(--code-token-function)">div</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">第一行:</strong> 引入 React 中的 <code>useState</code> Hook。它让我们在函数组件中存储内部 state。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">第四行:</strong> 在 <code>Example</code> 组件内部，我们通过调用 <code>useState</code> Hook 声明了一个新的 state 变量。它返回一对值给到我们命名的变量上。
我们把变量命名为 <code>count</code>，因为它存储的是点击次数。我们通过传 <code>0</code> 作为 <code>useState</code> 唯一的参数来将其初始化为 <code>0</code>。
第二个返回的值本身就是一个函数。它让我们可以更新 <code>count</code> 的值，所以我们叫它 <code>setCount</code>。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">第九行:</strong> 当用户点击按钮后，我们传递一个新的值给 <code>setCount</code>。React 会重新渲染 <code>Example</code> 组件，并把最新的 <code>count</code> 传给它。</li>
</ul>
<h3 id="useeffect" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#useeffect">#</a>useEffect</h3>
<p class="my-4 leading-7"><strong class="font-semibold">useEffect</strong>用于在函数组件中执行副作用操作。</p>
<div class="language-jsx"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-jsx" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> React</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> useState</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> useEffect </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;react&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">function</span><span> </span><span class="token" style="color:var(--code-token-function)">Example</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-keyword)">const</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>count</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> setCount</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span> </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-function)">useState</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token number">0</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-comment)">// Similar to componentDidMount and componentDidUpdate:  </span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-function)">useEffect</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token operator">=&gt;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-comment)">// Update the document title using the browser API</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      document</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>title </span><span class="token operator">=</span><span> </span><span class="token template-string template-punctuation" style="color:var(--code-token-string)">`</span><span class="token template-string" style="color:var(--code-token-string)">You clicked </span><span class="token template-string interpolation interpolation-punctuation" style="color:var(--code-token-punctuation)">${</span><span class="token template-string interpolation">count</span><span class="token template-string interpolation interpolation-punctuation" style="color:var(--code-token-punctuation)">}</span><span class="token template-string" style="color:var(--code-token-string)"> times</span><span class="token template-string template-punctuation" style="color:var(--code-token-string)">`</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>count</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-keyword)">return</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">&lt;</span><span class="token" style="color:var(--code-token-function)">div</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span class="token plain-text">
</span></span><span style="display:block;padding:0 1.25rem"><span class="token plain-text">      </span><span class="token" style="color:var(--code-token-punctuation)">&lt;</span><span class="token" style="color:var(--code-token-function)">p</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span class="token plain-text">You clicked </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>count</span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token plain-text"> times</span><span class="token" style="color:var(--code-token-punctuation)">&lt;/</span><span class="token" style="color:var(--code-token-function)">p</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span class="token plain-text">
</span></span><span style="display:block;padding:0 1.25rem"><span class="token plain-text">      </span><span class="token" style="color:var(--code-token-punctuation)">&lt;</span><span class="token" style="color:var(--code-token-function)">button</span><span class="token" style="color:var(--code-token-function)"> </span><span class="token" style="color:var(--code-token-symbol)">onClick</span><span class="token script language-javascript script-punctuation" style="color:var(--code-token-function)">=</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">{</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">(</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">)</span><span class="token script language-javascript" style="color:var(--code-token-function)"> </span><span class="token script language-javascript operator" style="color:var(--code-token-function)">=&gt;</span><span class="token script language-javascript" style="color:var(--code-token-function)"> </span><span class="token script language-javascript" style="color:var(--code-token-function)">setCount</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">(</span><span class="token script language-javascript" style="color:var(--code-token-function)">count </span><span class="token script language-javascript operator" style="color:var(--code-token-function)">+</span><span class="token script language-javascript" style="color:var(--code-token-function)"> </span><span class="token script language-javascript number" style="color:var(--code-token-function)">1</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">)</span><span class="token script language-javascript" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span class="token plain-text">
</span></span><span style="display:block;padding:0 1.25rem" class="token plain-text">        Click me
</span><span style="display:block;padding:0 1.25rem"><span class="token plain-text">      </span><span class="token" style="color:var(--code-token-punctuation)">&lt;/</span><span class="token" style="color:var(--code-token-function)">button</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span class="token plain-text">
</span></span><span style="display:block;padding:0 1.25rem"><span class="token plain-text">    </span><span class="token" style="color:var(--code-token-punctuation)">&lt;/</span><span class="token" style="color:var(--code-token-function)">div</span><span class="token" style="color:var(--code-token-punctuation)">&gt;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">第七行：</strong> 引入useEffect，在count发生变化的时候，修改页面title的值。</li>
</ul>
<h2 id="compose" class="mt-14 mb-6 text-2xl tracking-tight title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#compose">#</a>Compose</h2>
<p class="my-4 leading-7">上面介绍了React Hooks的两个函数useState和useEffect，下面用Compose实现对应的功能。</p>
<h3 id="一个activity页面" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#一个activity页面">#</a>一个Activity页面</h3>
<p class="my-4 leading-7">在Compose模式下，一个Activity页面如下</p>
<div class="language-kotlin"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-kotlin" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>class MainActivity : ComponentActivity() {
</span></span><span style="display:block;padding:0 1.25rem">    override fun onCreate(savedInstanceState: Bundle?) {
</span><span style="display:block;padding:0 1.25rem">        super.onCreate(savedInstanceState)
</span><span style="display:block;padding:0 1.25rem">        setContent {
</span><span style="display:block;padding:0 1.25rem">            HelloComposeTheme {
</span><span style="display:block;padding:0 1.25rem">                // A surface container using the &#x27;background&#x27; color from the theme
</span><span style="display:block;padding:0 1.25rem">                Surface(modifier = Modifier.fillMaxSize(), color = MaterialTheme.colorScheme.background) {
</span><span style="display:block;padding:0 1.25rem">                    Greeting(&quot;Android&quot;)
</span><span style="display:block;padding:0 1.25rem">                }
</span><span style="display:block;padding:0 1.25rem">            }
</span><span style="display:block;padding:0 1.25rem">        }
</span><span style="display:block;padding:0 1.25rem">    }
</span><span style="display:block;padding:0 1.25rem">}
</span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem">@Composable
</span><span style="display:block;padding:0 1.25rem">fun Greeting(name: String) {
</span><span style="display:block;padding:0 1.25rem">    Text(text = &quot;Hello $name!&quot;)
</span><span style="display:block;padding:0 1.25rem">}
</span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem">@Preview(showBackground = true)
</span><span style="display:block;padding:0 1.25rem">@Composable
</span><span style="display:block;padding:0 1.25rem">fun DefaultPreview() {
</span><span style="display:block;padding:0 1.25rem">    HelloComposeTheme {
</span><span style="display:block;padding:0 1.25rem">        Greeting(&quot;Android&quot;)
</span><span style="display:block;padding:0 1.25rem">    }
</span><span style="display:block;padding:0 1.25rem">}</span></code></pre></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">第 5 - 12 行：</strong> 为Compose控制的内容</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">第 16 行：</strong> 用 <code>@Composable</code> 注解的函数就是一个函数组件</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">第 21 行：</strong> 用 <code>@Preview</code> 注解表示可以进行本地UI预览</li>
</ul>
<h3 id="状态" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#状态">#</a>状态</h3>
<div class="language-kotlin"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-kotlin" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>@Composable
</span></span><span style="display:block;padding:0 1.25rem">fun Example() {
</span><span style="display:block;padding:0 1.25rem">    val (count, setCount) = remember { mutableStateOf(0) }
</span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem">    Column {
</span><span style="display:block;padding:0 1.25rem">        Text(text = &quot;You clicked ${count} times&quot;)
</span><span style="display:block;padding:0 1.25rem">        Button(onClick = { setCount(count + 1) }) {
</span><span style="display:block;padding:0 1.25rem">            Text(text = &quot;Click me&quot;)
</span><span style="display:block;padding:0 1.25rem">        }
</span><span style="display:block;padding:0 1.25rem">    }
</span><span style="display:block;padding:0 1.25rem">}</span></code></pre></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">第 3 行：</strong> mutableStateOf创建一个状态，remember缓存状态</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">第 7 行：</strong> 在Button被点击后触发onClick函数，通过 <code>setCount</code> 对state执行加1操作</li>
</ul>
<h3 id="副作用" class="mt-10 mb-2 leading-7 text-xl title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#副作用">#</a>副作用</h3>
<div class="language-kotlin"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-kotlin" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>@Composable
</span></span><span style="display:block;padding:0 1.25rem">fun Example1() {
</span><span style="display:block;padding:0 1.25rem">    val context = LocalContext.current
</span><span style="display:block;padding:0 1.25rem">    val (count, setCount) = remember { mutableStateOf(0) }
</span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem">    LaunchedEffect(count) {
</span><span style="display:block;padding:0 1.25rem">        Toast.makeText(context, &quot;You clicked ${count} times&quot;, Toast.LENGTH_SHORT).show()
</span><span style="display:block;padding:0 1.25rem">    }
</span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem">    Column {
</span><span style="display:block;padding:0 1.25rem">        Text(text = &quot;You clicked ${count} times&quot;)
</span><span style="display:block;padding:0 1.25rem">        Button(onClick = { setCount(count + 1) }) {
</span><span style="display:block;padding:0 1.25rem">            Text(text = &quot;Click me&quot;)
</span><span style="display:block;padding:0 1.25rem">        }
</span><span style="display:block;padding:0 1.25rem">    }
</span><span style="display:block;padding:0 1.25rem">}</span></code></pre></div><div class="code-button-group_15153"><button><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_15153"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_15153"><path fill="currentColor" d="M16 7H3V5h13v2M3 19h13v-2H3v2m19-7-4-3v2H3v2h15v2l4-3Z"></path></svg></button><button class="code-copy-button_15153"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_15153"><path fill="currentColor" d="M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_15153"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9 13 24z"></path></svg></button></div></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">第 7 - 8 行：</strong> 在count变化后执行副作用，弹出一个toast</li>
</ul>
<h2 id="总结" class="mt-14 mb-6 text-2xl tracking-tight title_3b154"><a class="link_3b154 header-anchor" aria-hidden="true" href="#总结">#</a>总结</h2>
<p class="my-4 leading-7">通过上面的对比，Compose与React Hooks在函数式组件、状态管理和副作用函数方面还是很相似的，
声明式UI和数据驱动的思想也能在Android开发上得到运用。学会了React Hooks很容易入手Jetpack Compose。
大前端统一技术栈的进程又进了一步。</p><!--/$--></div><div class="rspress-doc-footer"><div class="postFooter_2e2af flex flex-col"><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_edac1 flex flex-col"><a class="link_03735 pagerLink_edac1 cursor-pointer" target="" href="/2021/10/16/preview-document-file-in-webpage/index.html"><span class="desc_edac1">上一篇</span><span class="title_edac1">前端实现在线预览文件</span></a></div><div class="next_edac1 flex flex-col"><a class="link_03735 pagerLink_edac1 next_edac1 cursor-pointer" target="" href="/2022/02/20/startup-with-observable-programming/index.html"><span class="desc_edac1">下一篇</span><span class="title_edac1">响应式编程初探</span></a></div></div></div><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"><div class="flex text-sm text-text-2 leading-6 sm:leading-8 font-medium"><p>最后编辑时间<!-- -->: <span>2024/2/12 18:55:54</span></p></div></div><div class="flex flex-col"><a href="https://github.com/sumy7/SumyBlog-rspress/blob/main/source/../source/_posts/2021-12-23-start-up-android-componse-vs-react-hooks/2021-12-23-start-up-android-componse-vs-react-hooks.md" target="_blank" class="editLink_2a169">📝 在 GitHub 上编辑此页</a></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_e7091 flex flex-col"></div><div class="next_e7091 flex flex-col"></div></div></footer></div></div></div><div class="aside-container_edeb4"><div><div></div><div class="flex flex-col"><div class="&lt;lg:hidden"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">目录</div><nav class="mt-1"><ul class="relative"><li><a href="#前言" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">前言</span></a></li><li><a href="#react-hooks" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">React Hooks</span></a></li><li><a href="#函数式组件" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">函数式组件</span></a></li><li><a href="#usestate" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">useState</span></a></li><li><a href="#useeffect" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">useEffect</span></a></li><li><a href="#compose" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">Compose</span></a></li><li><a href="#一个activity页面" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">一个Activity页面</span></a></li><li><a href="#状态" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">状态</span></a></li><li><a href="#副作用" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:12px;font-weight:semibold"><span class="aside-link-text block">副作用</span></a></li><li><a href="#总结" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">总结</span></a></li></ul></nav></div></div></div></div></div></div></div></section><footer class="mt-6 py-8 px-6 sm:p-8 w-full border-t border-solid border-divider-light"><div class="m-auto w-full text-center"><div class="font-meduim text-sm text-text-2">© 2015-<!-- -->2024<!-- --> SumyBlog. Powered by<!-- --> <a href="https://rspress.dev/" target="_blank" rel="noreferrer">Rspress</a>.</div></div></footer></div></div></div><div id="search-container"></div></body></html>